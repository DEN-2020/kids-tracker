function vU(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function os(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var W0={exports:{}},Pf={};var gO;function bU(){if(gO)return Pf;gO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:t,type:r,key:l,ref:a!==void 0?a:null,props:o}}return Pf.Fragment=e,Pf.jsx=n,Pf.jsxs=n,Pf}var yO;function _U(){return yO||(yO=1,W0.exports=bU()),W0.exports}var I=_U(),Y0={exports:{}},Le={};var vO;function wU(){if(vO)return Le;vO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),v=Symbol.iterator;function _(B){return B===null||typeof B!="object"?null:(B=v&&B[v]||B["@@iterator"],typeof B=="function"?B:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,S={};function P(B,J,fe){this.props=B,this.context=J,this.refs=S,this.updater=fe||w}P.prototype.isReactComponent={},P.prototype.setState=function(B,J){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,J,"setState")},P.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function k(){}k.prototype=P.prototype;function R(B,J,fe){this.props=B,this.context=J,this.refs=S,this.updater=fe||w}var z=R.prototype=new k;z.constructor=R,T(z,P.prototype),z.isPureReactComponent=!0;var H=Array.isArray;function F(){}var C={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function L(B,J,fe){var pe=fe.ref;return{$$typeof:t,type:B,key:J,ref:pe!==void 0?pe:null,props:fe}}function q(B,J){return L(B.type,J,B.props)}function U(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function M(B){var J={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(fe){return J[fe]})}var V=/\/+/g;function ge(B,J){return typeof B=="object"&&B!==null&&B.key!=null?M(""+B.key):J.toString(36)}function ve(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(F,F):(B.status="pending",B.then(function(J){B.status==="pending"&&(B.status="fulfilled",B.value=J)},function(J){B.status==="pending"&&(B.status="rejected",B.reason=J)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function Y(B,J,fe,pe,xe){var De=typeof B;(De==="undefined"||De==="boolean")&&(B=null);var Ie=!1;if(B===null)Ie=!0;else switch(De){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(B.$$typeof){case t:case e:Ie=!0;break;case p:return Ie=B._init,Y(Ie(B._payload),J,fe,pe,xe)}}if(Ie)return xe=xe(B),Ie=pe===""?"."+ge(B,0):pe,H(xe)?(fe="",Ie!=null&&(fe=Ie.replace(V,"$&/")+"/"),Y(xe,J,fe,"",function(je){return je})):xe!=null&&(U(xe)&&(xe=q(xe,fe+(xe.key==null||B&&B.key===xe.key?"":(""+xe.key).replace(V,"$&/")+"/")+Ie)),J.push(xe)),1;Ie=0;var ht=pe===""?".":pe+":";if(H(B))for(var le=0;le<B.length;le++)pe=B[le],De=ht+ge(pe,le),Ie+=Y(pe,J,fe,De,xe);else if(le=_(B),typeof le=="function")for(B=le.call(B),le=0;!(pe=B.next()).done;)pe=pe.value,De=ht+ge(pe,le++),Ie+=Y(pe,J,fe,De,xe);else if(De==="object"){if(typeof B.then=="function")return Y(ve(B),J,fe,pe,xe);throw J=String(B),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function oe(B,J,fe){if(B==null)return B;var pe=[],xe=0;return Y(B,pe,"","",function(De){return J.call(fe,De,xe++)}),pe}function ne(B){if(B._status===-1){var J=B._result;J=J(),J.then(function(fe){(B._status===0||B._status===-1)&&(B._status=1,B._result=fe)},function(fe){(B._status===0||B._status===-1)&&(B._status=2,B._result=fe)}),B._status===-1&&(B._status=0,B._result=J)}if(B._status===1)return B._result.default;throw B._result}var Z=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},W={map:oe,forEach:function(B,J,fe){oe(B,function(){J.apply(this,arguments)},fe)},count:function(B){var J=0;return oe(B,function(){J++}),J},toArray:function(B){return oe(B,function(J){return J})||[]},only:function(B){if(!U(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return Le.Activity=m,Le.Children=W,Le.Component=P,Le.Fragment=n,Le.Profiler=a,Le.PureComponent=R,Le.StrictMode=r,Le.Suspense=f,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Le.__COMPILER_RUNTIME={__proto__:null,c:function(B){return C.H.useMemoCache(B)}},Le.cache=function(B){return function(){return B.apply(null,arguments)}},Le.cacheSignal=function(){return null},Le.cloneElement=function(B,J,fe){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var pe=T({},B.props),xe=B.key;if(J!=null)for(De in J.key!==void 0&&(xe=""+J.key),J)!D.call(J,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&J.ref===void 0||(pe[De]=J[De]);var De=arguments.length-2;if(De===1)pe.children=fe;else if(1<De){for(var Ie=Array(De),ht=0;ht<De;ht++)Ie[ht]=arguments[ht+2];pe.children=Ie}return L(B.type,xe,pe)},Le.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:o,_context:B},B},Le.createElement=function(B,J,fe){var pe,xe={},De=null;if(J!=null)for(pe in J.key!==void 0&&(De=""+J.key),J)D.call(J,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(xe[pe]=J[pe]);var Ie=arguments.length-2;if(Ie===1)xe.children=fe;else if(1<Ie){for(var ht=Array(Ie),le=0;le<Ie;le++)ht[le]=arguments[le+2];xe.children=ht}if(B&&B.defaultProps)for(pe in Ie=B.defaultProps,Ie)xe[pe]===void 0&&(xe[pe]=Ie[pe]);return L(B,De,xe)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(B){return{$$typeof:c,render:B}},Le.isValidElement=U,Le.lazy=function(B){return{$$typeof:p,_payload:{_status:-1,_result:B},_init:ne}},Le.memo=function(B,J){return{$$typeof:d,type:B,compare:J===void 0?null:J}},Le.startTransition=function(B){var J=C.T,fe={};C.T=fe;try{var pe=B(),xe=C.S;xe!==null&&xe(fe,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(F,Z)}catch(De){Z(De)}finally{J!==null&&fe.types!==null&&(J.types=fe.types),C.T=J}},Le.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Le.use=function(B){return C.H.use(B)},Le.useActionState=function(B,J,fe){return C.H.useActionState(B,J,fe)},Le.useCallback=function(B,J){return C.H.useCallback(B,J)},Le.useContext=function(B){return C.H.useContext(B)},Le.useDebugValue=function(){},Le.useDeferredValue=function(B,J){return C.H.useDeferredValue(B,J)},Le.useEffect=function(B,J){return C.H.useEffect(B,J)},Le.useEffectEvent=function(B){return C.H.useEffectEvent(B)},Le.useId=function(){return C.H.useId()},Le.useImperativeHandle=function(B,J,fe){return C.H.useImperativeHandle(B,J,fe)},Le.useInsertionEffect=function(B,J){return C.H.useInsertionEffect(B,J)},Le.useLayoutEffect=function(B,J){return C.H.useLayoutEffect(B,J)},Le.useMemo=function(B,J){return C.H.useMemo(B,J)},Le.useOptimistic=function(B,J){return C.H.useOptimistic(B,J)},Le.useReducer=function(B,J,fe){return C.H.useReducer(B,J,fe)},Le.useRef=function(B){return C.H.useRef(B)},Le.useState=function(B){return C.H.useState(B)},Le.useSyncExternalStore=function(B,J,fe){return C.H.useSyncExternalStore(B,J,fe)},Le.useTransition=function(){return C.H.useTransition()},Le.version="19.2.4",Le}var bO;function uc(){return bO||(bO=1,Y0.exports=wU()),Y0.exports}var x=uc();const on=os(x),EU=vU({__proto__:null,default:on},[x]);var X0={exports:{}},Rf={},Q0={exports:{}},Z0={};var _O;function TU(){return _O||(_O=1,(function(t){function e(Y,oe){var ne=Y.length;Y.push(oe);e:for(;0<ne;){var Z=ne-1>>>1,W=Y[Z];if(0<a(W,oe))Y[Z]=oe,Y[ne]=W,ne=Z;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var oe=Y[0],ne=Y.pop();if(ne!==oe){Y[0]=ne;e:for(var Z=0,W=Y.length,B=W>>>1;Z<B;){var J=2*(Z+1)-1,fe=Y[J],pe=J+1,xe=Y[pe];if(0>a(fe,ne))pe<W&&0>a(xe,fe)?(Y[Z]=xe,Y[pe]=ne,Z=pe):(Y[Z]=fe,Y[J]=ne,Z=J);else if(pe<W&&0>a(xe,ne))Y[Z]=xe,Y[pe]=ne,Z=pe;else break e}}return oe}function a(Y,oe){var ne=Y.sortIndex-oe.sortIndex;return ne!==0?ne:Y.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],d=[],p=1,m=null,v=3,_=!1,w=!1,T=!1,S=!1,P=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function z(Y){for(var oe=n(d);oe!==null;){if(oe.callback===null)r(d);else if(oe.startTime<=Y)r(d),oe.sortIndex=oe.expirationTime,e(f,oe);else break;oe=n(d)}}function H(Y){if(T=!1,z(Y),!w)if(n(f)!==null)w=!0,F||(F=!0,M());else{var oe=n(d);oe!==null&&ve(H,oe.startTime-Y)}}var F=!1,C=-1,D=5,L=-1;function q(){return S?!0:!(t.unstable_now()-L<D)}function U(){if(S=!1,F){var Y=t.unstable_now();L=Y;var oe=!0;try{e:{w=!1,T&&(T=!1,k(C),C=-1),_=!0;var ne=v;try{t:{for(z(Y),m=n(f);m!==null&&!(m.expirationTime>Y&&q());){var Z=m.callback;if(typeof Z=="function"){m.callback=null,v=m.priorityLevel;var W=Z(m.expirationTime<=Y);if(Y=t.unstable_now(),typeof W=="function"){m.callback=W,z(Y),oe=!0;break t}m===n(f)&&r(f),z(Y)}else r(f);m=n(f)}if(m!==null)oe=!0;else{var B=n(d);B!==null&&ve(H,B.startTime-Y),oe=!1}}break e}finally{m=null,v=ne,_=!1}oe=void 0}}finally{oe?M():F=!1}}}var M;if(typeof R=="function")M=function(){R(U)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,ge=V.port2;V.port1.onmessage=U,M=function(){ge.postMessage(null)}}else M=function(){P(U,0)};function ve(Y,oe){C=P(function(){Y(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(Y){switch(v){case 1:case 2:case 3:var oe=3;break;default:oe=v}var ne=v;v=oe;try{return Y()}finally{v=ne}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(Y,oe){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ne=v;v=Y;try{return oe()}finally{v=ne}},t.unstable_scheduleCallback=function(Y,oe,ne){var Z=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?Z+ne:Z):ne=Z,Y){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=ne+W,Y={id:p++,callback:oe,priorityLevel:Y,startTime:ne,expirationTime:W,sortIndex:-1},ne>Z?(Y.sortIndex=ne,e(d,Y),n(f)===null&&Y===n(d)&&(T?(k(C),C=-1):T=!0,ve(H,ne-Z))):(Y.sortIndex=W,e(f,Y),w||_||(w=!0,F||(F=!0,M()))),Y},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(Y){var oe=v;return function(){var ne=v;v=oe;try{return Y.apply(this,arguments)}finally{v=ne}}}})(Z0)),Z0}var wO;function SU(){return wO||(wO=1,Q0.exports=TU()),Q0.exports}var J0={exports:{}},$n={};var EO;function AU(){if(EO)return $n;EO=1;var t=uc();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,d,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:f,containerInfo:d,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return $n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$n.createPortal=function(f,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,p)},$n.flushSync=function(f){var d=l.T,p=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=d,r.p=p,r.d.f()}},$n.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},$n.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},$n.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var p=d.as,m=c(p,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,_=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:_}):p==="script"&&r.d.X(f,{crossOrigin:m,integrity:v,fetchPriority:_,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},$n.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},$n.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,m=c(p,d.crossOrigin);r.d.L(f,p,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},$n.preloadModule=function(f,d){if(typeof f=="string")if(d){var p=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},$n.requestFormReset=function(f){r.d.r(f)},$n.unstable_batchedUpdates=function(f,d){return f(d)},$n.useFormState=function(f,d,p){return l.H.useFormState(f,d,p)},$n.useFormStatus=function(){return l.H.useHostTransitionStatus()},$n.version="19.2.4",$n}var TO;function KD(){if(TO)return J0.exports;TO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),J0.exports=AU(),J0.exports}var SO;function xU(){if(SO)return Rf;SO=1;var t=SU(),e=uc(),n=KD();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function l(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function c(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(r(188))}function d(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var u=i,h=s;;){var y=u.return;if(y===null)break;var b=y.alternate;if(b===null){if(h=y.return,h!==null){u=h;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===u)return f(y),i;if(b===h)return f(y),s;b=b.sibling}throw Error(r(188))}if(u.return!==h.return)u=y,h=b;else{for(var A=!1,N=y.child;N;){if(N===u){A=!0,u=y,h=b;break}if(N===h){A=!0,h=y,u=b;break}N=N.sibling}if(!A){for(N=b.child;N;){if(N===u){A=!0,u=b,h=y;break}if(N===h){A=!0,h=b,u=y;break}N=N.sibling}if(!A)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),R=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function M(i){return i===null||typeof i!="object"?null:(i=U&&i[U]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function ge(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case T:return"Fragment";case P:return"Profiler";case S:return"StrictMode";case H:return"Suspense";case F:return"SuspenseList";case L:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case R:return i.displayName||"Context";case k:return(i._context.displayName||"Context")+".Consumer";case z:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return s=i.displayName||null,s!==null?s:ge(i.type)||"Memo";case D:s=i._payload,i=i._init;try{return ge(i(s))}catch{}}return null}var ve=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},Z=[],W=-1;function B(i){return{current:i}}function J(i){0>W||(i.current=Z[W],Z[W]=null,W--)}function fe(i,s){W++,Z[W]=i.current,i.current=s}var pe=B(null),xe=B(null),De=B(null),Ie=B(null);function ht(i,s){switch(fe(De,s),fe(xe,i),fe(pe,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?Ux(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=Ux(s),i=zx(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}J(pe),fe(pe,i)}function le(){J(pe),J(xe),J(De)}function je(i){i.memoizedState!==null&&fe(Ie,i);var s=pe.current,u=zx(s,i.type);s!==u&&(fe(xe,i),fe(pe,u))}function Fe(i){xe.current===i&&(J(pe),J(xe)),Ie.current===i&&(J(Ie),xf._currentValue=ne)}var me,Ft;function He(i){if(me===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);me=s&&s[1]||"",Ft=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+me+i+Ft}var fn=!1;function Ht(i,s){if(!i||fn)return"";fn=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(ie){var te=ie}Reflect.construct(i,[],he)}else{try{he.call()}catch(ie){te=ie}i.call(he.prototype)}}else{try{throw Error()}catch(ie){te=ie}(he=i())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(ie){if(ie&&te&&typeof ie.stack=="string")return[ie.stack,te.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=h.DetermineComponentFrameRoot(),A=b[0],N=b[1];if(A&&N){var $=A.split(`
`),ee=N.split(`
`);for(y=h=0;h<$.length&&!$[h].includes("DetermineComponentFrameRoot");)h++;for(;y<ee.length&&!ee[y].includes("DetermineComponentFrameRoot");)y++;if(h===$.length||y===ee.length)for(h=$.length-1,y=ee.length-1;1<=h&&0<=y&&$[h]!==ee[y];)y--;for(;1<=h&&0<=y;h--,y--)if($[h]!==ee[y]){if(h!==1||y!==1)do if(h--,y--,0>y||$[h]!==ee[y]){var se=`
`+$[h].replace(" at new "," at ");return i.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",i.displayName)),se}while(1<=h&&0<=y);break}}}finally{fn=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?He(u):""}function Sr(i,s){switch(i.tag){case 26:case 27:case 5:return He(i.type);case 16:return He("Lazy");case 13:return i.child!==s&&s!==null?He("Suspense Fallback"):He("Suspense");case 19:return He("SuspenseList");case 0:case 15:return Ht(i.type,!1);case 11:return Ht(i.type.render,!1);case 1:return Ht(i.type,!0);case 31:return He("Activity");default:return""}}function gs(i){try{var s="",u=null;do s+=Sr(i,u),u=i,i=i.return;while(i);return s}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Xt=Object.prototype.hasOwnProperty,hn=t.unstable_scheduleCallback,ys=t.unstable_cancelCallback,Xy=t.unstable_shouldYield,sd=t.unstable_requestPaint,Qn=t.unstable_now,Do=t.unstable_getCurrentPriorityLevel,Cc=t.unstable_ImmediatePriority,Ic=t.unstable_UserBlockingPriority,vs=t.unstable_NormalPriority,Qy=t.unstable_LowPriority,od=t.unstable_IdlePriority,ld=t.log,ud=t.unstable_setDisableYieldValue,ci=null,In=null;function zr(i){if(typeof ld=="function"&&ud(i),In&&typeof In.setStrictMode=="function")try{In.setStrictMode(ci,i)}catch{}}var $t=Math.clz32?Math.clz32:fd,cd=Math.log,Hl=Math.LN2;function fd(i){return i>>>=0,i===0?32:31-(cd(i)/Hl|0)|0}var ki=256,No=262144,Qt=4194304;function Mi(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ji(i,s,u){var h=i.pendingLanes;if(h===0)return 0;var y=0,b=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var N=h&134217727;return N!==0?(h=N&~b,h!==0?y=Mi(h):(A&=N,A!==0?y=Mi(A):u||(u=N&~i,u!==0&&(y=Mi(u))))):(N=h&~b,N!==0?y=Mi(N):A!==0?y=Mi(A):u||(u=h&~i,u!==0&&(y=Mi(u)))),y===0?0:s!==0&&s!==y&&(s&b)===0&&(b=y&-y,u=s&-s,b>=u||b===32&&(u&4194048)!==0)?s:y}function fi(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Zy(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hd(){var i=Qt;return Qt<<=1,(Qt&62914560)===0&&(Qt=4194304),i}function Li(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function ko(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Jy(i,s,u,h,y,b){var A=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var N=i.entanglements,$=i.expirationTimes,ee=i.hiddenUpdates;for(u=A&~u;0<u;){var se=31-$t(u),he=1<<se;N[se]=0,$[se]=-1;var te=ee[se];if(te!==null)for(ee[se]=null,se=0;se<te.length;se++){var ie=te[se];ie!==null&&(ie.lane&=-536870913)}u&=~he}h!==0&&Mo(i,h,0),b!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=b&~(A&~s))}function Mo(i,s,u){i.pendingLanes|=s,i.suspendedLanes&=~s;var h=31-$t(s);i.entangledLanes|=s,i.entanglements[h]=i.entanglements[h]|1073741824|u&261930}function Pc(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var h=31-$t(u),y=1<<h;y&s|i[h]&s&&(i[h]|=s),u&=~y}}function Rc(i,s){var u=s&-s;return u=(u&42)!==0?1:jo(u),(u&(i.suspendedLanes|s))!==0?0:u}function jo(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ea(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function dd(){var i=oe.p;return i!==0?i:(i=window.event,i===void 0?32:uO(i.type))}function hi(i,s){var u=oe.p;try{return oe.p=i,s()}finally{oe.p=u}}var di=Math.random().toString(36).slice(2),Zt="__reactFiber$"+di,vn="__reactProps$"+di,Vi="__reactContainer$"+di,$l="__reactEvents$"+di,ev="__reactListeners$"+di,pd="__reactHandles$"+di,md="__reactResources$"+di,Ui="__reactMarker$"+di;function Gl(i){delete i[Zt],delete i[vn],delete i[$l],delete i[ev],delete i[pd]}function zi(i){var s=i[Zt];if(s)return s;for(var u=i.parentNode;u;){if(s=u[Vi]||u[Zt]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(i=Kx(i);i!==null;){if(u=i[Zt])return u;i=Kx(i)}return s}i=u,u=i.parentNode}return null}function Br(i){if(i=i[Zt]||i[Vi]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Ar(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Bi(i){var s=i[md];return s||(s=i[md]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Jt(i){i[Ui]=!0}var Dc=new Set,Nc={};function qi(i,s){Fi(i,s),Fi(i+"Capture",s)}function Fi(i,s){for(Nc[i]=s,i=0;i<s.length;i++)Dc.add(s[i])}var kc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mc={},jc={};function gd(i){return Xt.call(jc,i)?!0:Xt.call(Mc,i)?!1:kc.test(i)?jc[i]=!0:(Mc[i]=!0,!1)}function Kl(i,s,u){if(gd(s))if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+u)}}function xr(i,s,u){if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+u)}}function en(i,s,u,h){if(h===null)i.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(s,u,""+h)}}function bn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function bs(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Lc(i,s,u){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,b=h.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return y.call(this)},set:function(A){u=""+A,b.call(this,A)}}),Object.defineProperty(i,s,{enumerable:h.enumerable}),{getValue:function(){return u},setValue:function(A){u=""+A},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function lt(i){if(!i._valueTracker){var s=bs(i)?"checked":"value";i._valueTracker=Lc(i,s,""+i[s])}}function Lo(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var u=s.getValue(),h="";return i&&(h=bs(i)?i.checked?"true":"false":i.value),i=h,i!==u?(s.setValue(i),!0):!1}function Hi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Vo=/[\n"\\]/g;function sr(i){return i.replace(Vo,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Wl(i,s,u,h,y,b,A,N){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),s!=null?A==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+bn(s)):i.value!==""+bn(s)&&(i.value=""+bn(s)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),s!=null?Vc(i,A,bn(s)):u!=null?Vc(i,A,bn(u)):h!=null&&i.removeAttribute("value"),y==null&&b!=null&&(i.defaultChecked=!!b),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?i.name=""+bn(N):i.removeAttribute("name")}function yd(i,s,u,h,y,b,A,N){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),s!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||s!=null)){lt(i);return}u=u!=null?""+bn(u):"",s=s!=null?""+bn(s):u,N||s===i.value||(i.value=s),i.defaultValue=s}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=N?i.checked:!!h,i.defaultChecked=!!h,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A),lt(i)}function Vc(i,s,u){s==="number"&&Hi(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function _s(i,s,u,h){if(i=i.options,s){s={};for(var y=0;y<u.length;y++)s["$"+u[y]]=!0;for(u=0;u<i.length;u++)y=s.hasOwnProperty("$"+i[u].value),i[u].selected!==y&&(i[u].selected=y),y&&h&&(i[u].defaultSelected=!0)}else{for(u=""+bn(u),s=null,y=0;y<i.length;y++){if(i[y].value===u){i[y].selected=!0,h&&(i[y].defaultSelected=!0);return}s!==null||i[y].disabled||(s=i[y])}s!==null&&(s.selected=!0)}}function vd(i,s,u){if(s!=null&&(s=""+bn(s),s!==i.value&&(i.value=s),u==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=u!=null?""+bn(u):""}function ws(i,s,u,h){if(s==null){if(h!=null){if(u!=null)throw Error(r(92));if(ve(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),s=u}u=bn(s),i.defaultValue=u,h=i.textContent,h===u&&h!==""&&h!==null&&(i.value=h),lt(i)}function or(i,s){if(s){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=s;return}}i.textContent=s}var bd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uc(i,s,u){var h=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":h?i.setProperty(s,u):typeof u!="number"||u===0||bd.has(s)?s==="float"?i.cssFloat=u:i[s]=(""+u).trim():i[s]=u+"px"}function zc(i,s,u){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var y in s)h=s[y],s.hasOwnProperty(y)&&u[y]!==h&&Uc(i,y,h)}else for(var b in s)s.hasOwnProperty(b)&&Uc(i,b,s[b])}function Yl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _d=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Es=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xl(i){return Es.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function pi(){}var Bc=null;function qr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ts=null,$i=null;function Uo(i){var s=Br(i);if(s&&(i=s.stateNode)){var u=i[vn]||null;e:switch(i=s.stateNode,s.type){case"input":if(Wl(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+sr(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var h=u[s];if(h!==i&&h.form===i.form){var y=h[vn]||null;if(!y)throw Error(r(90));Wl(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(s=0;s<u.length;s++)h=u[s],h.form===i.form&&Lo(h)}break e;case"textarea":vd(i,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&_s(i,!!u.multiple,s,!1)}}}var Ql=!1;function Ss(i,s,u){if(Ql)return i(s,u);Ql=!0;try{var h=i(s);return h}finally{if(Ql=!1,(Ts!==null||$i!==null)&&(dp(),Ts&&(s=Ts,i=$i,$i=Ts=null,Uo(s),i)))for(s=0;s<i.length;s++)Uo(i[s])}}function mi(i,s){var u=i.stateNode;if(u===null)return null;var h=u[vn]||null;if(h===null)return null;u=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,s,typeof u));return u}var Fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zo=!1;if(Fr)try{var dt={};Object.defineProperty(dt,"passive",{get:function(){zo=!0}}),window.addEventListener("test",dt,dt),window.removeEventListener("test",dt,dt)}catch{zo=!1}var Gi=null,qc=null,Bo=null;function Fc(){if(Bo)return Bo;var i,s=qc,u=s.length,h,y="value"in Gi?Gi.value:Gi.textContent,b=y.length;for(i=0;i<u&&s[i]===y[i];i++);var A=u-i;for(h=1;h<=A&&s[u-h]===y[b-h];h++);return Bo=y.slice(i,1<h?1-h:void 0)}function qo(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Ta(){return!0}function gi(){return!1}function Pn(i){function s(u,h,y,b,A){this._reactName=u,this._targetInst=y,this.type=h,this.nativeEvent=b,this.target=A,this.currentTarget=null;for(var N in i)i.hasOwnProperty(N)&&(u=i[N],this[N]=u?u(b):b[N]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ta:gi,this.isPropagationStopped=gi,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ta)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ta)},persist:function(){},isPersistent:Ta}),s}var Sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ki=Pn(Sa),As=m({},Sa,{view:0,detail:0}),Hc=Pn(As),xs,Zl,Wi,Jl=m({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Os,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Wi&&(Wi&&i.type==="mousemove"?(xs=i.screenX-Wi.screenX,Zl=i.screenY-Wi.screenY):Zl=xs=0,Wi=i),xs)},movementY:function(i){return"movementY"in i?i.movementY:Zl}}),$c=Pn(Jl),Fo=m({},Jl,{dataTransfer:0}),wd=Pn(Fo),Ed=m({},As,{relatedTarget:0}),Ho=Pn(Ed),Gc=m({},Sa,{animationName:0,elapsedTime:0,pseudoElement:0}),Td=Pn(Gc),eu=m({},Sa,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Sd=Pn(eu),Ad=m({},Sa,{data:0}),Yi=Pn(Ad),xd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Od={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Id(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Cd[i])?!!s[i]:!1}function Os(){return Id}var Zn=m({},As,{key:function(i){if(i.key){var s=xd[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=qo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Od[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Os,charCode:function(i){return i.type==="keypress"?qo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?qo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Pd=Pn(Zn),Rd=m({},Jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Aa=Pn(Rd),g=m({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Os}),E=Pn(g),O=m({},Sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),j=Pn(O),X=m({},Jl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),re=Pn(X),ye=m({},Sa,{newState:0,oldState:0}),Ue=Pn(ye),Gt=[9,13,27,32],at=Fr&&"CompositionEvent"in window,Ct=null;Fr&&"documentMode"in document&&(Ct=document.documentMode);var Hr=Fr&&"TextEvent"in window&&!Ct,Xi=Fr&&(!at||Ct&&8<Ct&&11>=Ct),yi=" ",vi=!1;function $o(i,s){switch(i){case"keyup":return Gt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tu(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var nu=!1;function qV(i,s){switch(i){case"compositionend":return tu(s);case"keypress":return s.which!==32?null:(vi=!0,yi);case"textInput":return i=s.data,i===yi&&vi?null:i;default:return null}}function FV(i,s){if(nu)return i==="compositionend"||!at&&$o(i,s)?(i=Fc(),Bo=qc=Gi=null,nu=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Xi&&s.locale!=="ko"?null:s.data;default:return null}}var HV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XT(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!HV[i.type]:s==="textarea"}function QT(i,s,u,h){Ts?$i?$i.push(h):$i=[h]:Ts=h,s=_p(s,"onChange"),0<s.length&&(u=new Ki("onChange","change",null,u,h),i.push({event:u,listeners:s}))}var Kc=null,Wc=null;function $V(i){Nx(i,0)}function Dd(i){var s=Ar(i);if(Lo(s))return i}function ZT(i,s){if(i==="change")return s}var JT=!1;if(Fr){var tv;if(Fr){var nv="oninput"in document;if(!nv){var eS=document.createElement("div");eS.setAttribute("oninput","return;"),nv=typeof eS.oninput=="function"}tv=nv}else tv=!1;JT=tv&&(!document.documentMode||9<document.documentMode)}function tS(){Kc&&(Kc.detachEvent("onpropertychange",nS),Wc=Kc=null)}function nS(i){if(i.propertyName==="value"&&Dd(Wc)){var s=[];QT(s,Wc,i,qr(i)),Ss($V,s)}}function GV(i,s,u){i==="focusin"?(tS(),Kc=s,Wc=u,Kc.attachEvent("onpropertychange",nS)):i==="focusout"&&tS()}function KV(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Dd(Wc)}function WV(i,s){if(i==="click")return Dd(s)}function YV(i,s){if(i==="input"||i==="change")return Dd(s)}function XV(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Or=typeof Object.is=="function"?Object.is:XV;function Yc(i,s){if(Or(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),h=Object.keys(s);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var y=u[h];if(!Xt.call(s,y)||!Or(i[y],s[y]))return!1}return!0}function rS(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function iS(i,s){var u=rS(i);i=0;for(var h;u;){if(u.nodeType===3){if(h=i+u.textContent.length,i<=s&&h>=s)return{node:u,offset:s-i};i=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=rS(u)}}function aS(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?aS(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function sS(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Hi(i.document);s instanceof i.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)i=s.contentWindow;else break;s=Hi(i.document)}return s}function rv(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var QV=Fr&&"documentMode"in document&&11>=document.documentMode,ru=null,iv=null,Xc=null,av=!1;function oS(i,s,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;av||ru==null||ru!==Hi(h)||(h=ru,"selectionStart"in h&&rv(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Xc&&Yc(Xc,h)||(Xc=h,h=_p(iv,"onSelect"),0<h.length&&(s=new Ki("onSelect","select",null,s,u),i.push({event:s,listeners:h}),s.target=ru)))}function Go(i,s){var u={};return u[i.toLowerCase()]=s.toLowerCase(),u["Webkit"+i]="webkit"+s,u["Moz"+i]="moz"+s,u}var iu={animationend:Go("Animation","AnimationEnd"),animationiteration:Go("Animation","AnimationIteration"),animationstart:Go("Animation","AnimationStart"),transitionrun:Go("Transition","TransitionRun"),transitionstart:Go("Transition","TransitionStart"),transitioncancel:Go("Transition","TransitionCancel"),transitionend:Go("Transition","TransitionEnd")},sv={},lS={};Fr&&(lS=document.createElement("div").style,"AnimationEvent"in window||(delete iu.animationend.animation,delete iu.animationiteration.animation,delete iu.animationstart.animation),"TransitionEvent"in window||delete iu.transitionend.transition);function Ko(i){if(sv[i])return sv[i];if(!iu[i])return i;var s=iu[i],u;for(u in s)if(s.hasOwnProperty(u)&&u in lS)return sv[i]=s[u];return i}var uS=Ko("animationend"),cS=Ko("animationiteration"),fS=Ko("animationstart"),ZV=Ko("transitionrun"),JV=Ko("transitionstart"),e6=Ko("transitioncancel"),hS=Ko("transitionend"),dS=new Map,ov="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ov.push("scrollEnd");function bi(i,s){dS.set(i,s),qi(s,[i])}var Nd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},$r=[],au=0,lv=0;function kd(){for(var i=au,s=lv=au=0;s<i;){var u=$r[s];$r[s++]=null;var h=$r[s];$r[s++]=null;var y=$r[s];$r[s++]=null;var b=$r[s];if($r[s++]=null,h!==null&&y!==null){var A=h.pending;A===null?y.next=y:(y.next=A.next,A.next=y),h.pending=y}b!==0&&pS(u,y,b)}}function Md(i,s,u,h){$r[au++]=i,$r[au++]=s,$r[au++]=u,$r[au++]=h,lv|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function uv(i,s,u,h){return Md(i,s,u,h),jd(i)}function Wo(i,s){return Md(i,null,null,s),jd(i)}function pS(i,s,u){i.lanes|=u;var h=i.alternate;h!==null&&(h.lanes|=u);for(var y=!1,b=i.return;b!==null;)b.childLanes|=u,h=b.alternate,h!==null&&(h.childLanes|=u),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(y=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,y&&s!==null&&(y=31-$t(u),i=b.hiddenUpdates,h=i[y],h===null?i[y]=[s]:h.push(s),s.lane=u|536870912),b):null}function jd(i){if(50<bf)throw bf=0,v0=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var su={};function t6(i,s,u,h){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(i,s,u,h){return new t6(i,s,u,h)}function cv(i){return i=i.prototype,!(!i||!i.isReactComponent)}function xa(i,s){var u=i.alternate;return u===null?(u=Cr(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function mS(i,s){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,s=u.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Ld(i,s,u,h,y,b){var A=0;if(h=i,typeof i=="function")cv(i)&&(A=1);else if(typeof i=="string")A=sU(i,u,pe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case L:return i=Cr(31,u,s,y),i.elementType=L,i.lanes=b,i;case T:return Yo(u.children,y,b,s);case S:A=8,y|=24;break;case P:return i=Cr(12,u,s,y|2),i.elementType=P,i.lanes=b,i;case H:return i=Cr(13,u,s,y),i.elementType=H,i.lanes=b,i;case F:return i=Cr(19,u,s,y),i.elementType=F,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case R:A=10;break e;case k:A=9;break e;case z:A=11;break e;case C:A=14;break e;case D:A=16,h=null;break e}A=29,u=Error(r(130,i===null?"null":typeof i,"")),h=null}return s=Cr(A,u,s,y),s.elementType=i,s.type=h,s.lanes=b,s}function Yo(i,s,u,h){return i=Cr(7,i,h,s),i.lanes=u,i}function fv(i,s,u){return i=Cr(6,i,null,s),i.lanes=u,i}function gS(i){var s=Cr(18,null,null,0);return s.stateNode=i,s}function hv(i,s,u){return s=Cr(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var yS=new WeakMap;function Gr(i,s){if(typeof i=="object"&&i!==null){var u=yS.get(i);return u!==void 0?u:(s={value:i,source:s,stack:gs(s)},yS.set(i,s),s)}return{value:i,source:s,stack:gs(s)}}var ou=[],lu=0,Vd=null,Qc=0,Kr=[],Wr=0,Cs=null,Qi=1,Zi="";function Oa(i,s){ou[lu++]=Qc,ou[lu++]=Vd,Vd=i,Qc=s}function vS(i,s,u){Kr[Wr++]=Qi,Kr[Wr++]=Zi,Kr[Wr++]=Cs,Cs=i;var h=Qi;i=Zi;var y=32-$t(h)-1;h&=~(1<<y),u+=1;var b=32-$t(s)+y;if(30<b){var A=y-y%5;b=(h&(1<<A)-1).toString(32),h>>=A,y-=A,Qi=1<<32-$t(s)+y|u<<y|h,Zi=b+i}else Qi=1<<b|u<<y|h,Zi=i}function dv(i){i.return!==null&&(Oa(i,1),vS(i,1,0))}function pv(i){for(;i===Vd;)Vd=ou[--lu],ou[lu]=null,Qc=ou[--lu],ou[lu]=null;for(;i===Cs;)Cs=Kr[--Wr],Kr[Wr]=null,Zi=Kr[--Wr],Kr[Wr]=null,Qi=Kr[--Wr],Kr[Wr]=null}function bS(i,s){Kr[Wr++]=Qi,Kr[Wr++]=Zi,Kr[Wr++]=Cs,Qi=s.id,Zi=s.overflow,Cs=i}var Rn=null,St=null,Je=!1,Is=null,Yr=!1,mv=Error(r(519));function Ps(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zc(Gr(s,i)),mv}function _S(i){var s=i.stateNode,u=i.type,h=i.memoizedProps;switch(s[Zt]=i,s[vn]=h,u){case"dialog":Ge("cancel",s),Ge("close",s);break;case"iframe":case"object":case"embed":Ge("load",s);break;case"video":case"audio":for(u=0;u<wf.length;u++)Ge(wf[u],s);break;case"source":Ge("error",s);break;case"img":case"image":case"link":Ge("error",s),Ge("load",s);break;case"details":Ge("toggle",s);break;case"input":Ge("invalid",s),yd(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Ge("invalid",s);break;case"textarea":Ge("invalid",s),ws(s,h.value,h.defaultValue,h.children)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||h.suppressHydrationWarning===!0||Lx(s.textContent,u)?(h.popover!=null&&(Ge("beforetoggle",s),Ge("toggle",s)),h.onScroll!=null&&Ge("scroll",s),h.onScrollEnd!=null&&Ge("scrollend",s),h.onClick!=null&&(s.onclick=pi),s=!0):s=!1,s||Ps(i,!0)}function wS(i){for(Rn=i.return;Rn;)switch(Rn.tag){case 5:case 31:case 13:Yr=!1;return;case 27:case 3:Yr=!0;return;default:Rn=Rn.return}}function uu(i){if(i!==Rn)return!1;if(!Je)return wS(i),Je=!0,!1;var s=i.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||N0(i.type,i.memoizedProps)),u=!u),u&&St&&Ps(i),wS(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));St=Gx(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));St=Gx(i)}else s===27?(s=St,Hs(i.type)?(i=V0,V0=null,St=i):St=s):St=Rn?Qr(i.stateNode.nextSibling):null;return!0}function Xo(){St=Rn=null,Je=!1}function gv(){var i=Is;return i!==null&&(fr===null?fr=i:fr.push.apply(fr,i),Is=null),i}function Zc(i){Is===null?Is=[i]:Is.push(i)}var yv=B(null),Qo=null,Ca=null;function Rs(i,s,u){fe(yv,s._currentValue),s._currentValue=u}function Ia(i){i._currentValue=yv.current,J(yv)}function vv(i,s,u){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===u)break;i=i.return}}function bv(i,s,u,h){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var b=y.dependencies;if(b!==null){var A=y.child;b=b.firstContext;e:for(;b!==null;){var N=b;b=y;for(var $=0;$<s.length;$++)if(N.context===s[$]){b.lanes|=u,N=b.alternate,N!==null&&(N.lanes|=u),vv(b.return,u,i),h||(A=null);break e}b=N.next}}else if(y.tag===18){if(A=y.return,A===null)throw Error(r(341));A.lanes|=u,b=A.alternate,b!==null&&(b.lanes|=u),vv(A,u,i),A=null}else A=y.child;if(A!==null)A.return=y;else for(A=y;A!==null;){if(A===i){A=null;break}if(y=A.sibling,y!==null){y.return=A.return,A=y;break}A=A.return}y=A}}function cu(i,s,u,h){i=null;for(var y=s,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var A=y.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var N=y.type;Or(y.pendingProps.value,A.value)||(i!==null?i.push(N):i=[N])}}else if(y===Ie.current){if(A=y.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(xf):i=[xf])}y=y.return}i!==null&&bv(s,i,u,h),s.flags|=262144}function Ud(i){for(i=i.firstContext;i!==null;){if(!Or(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Zo(i){Qo=i,Ca=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Dn(i){return ES(Qo,i)}function zd(i,s){return Qo===null&&Zo(i),ES(i,s)}function ES(i,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},Ca===null){if(i===null)throw Error(r(308));Ca=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Ca=Ca.next=s;return u}var n6=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(u,h){i.push(h)}};this.abort=function(){s.aborted=!0,i.forEach(function(u){return u()})}},r6=t.unstable_scheduleCallback,i6=t.unstable_NormalPriority,tn={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _v(){return{controller:new n6,data:new Map,refCount:0}}function Jc(i){i.refCount--,i.refCount===0&&r6(i6,function(){i.controller.abort()})}var ef=null,wv=0,fu=0,hu=null;function a6(i,s){if(ef===null){var u=ef=[];wv=0,fu=S0(),hu={status:"pending",value:void 0,then:function(h){u.push(h)}}}return wv++,s.then(TS,TS),s}function TS(){if(--wv===0&&ef!==null){hu!==null&&(hu.status="fulfilled");var i=ef;ef=null,fu=0,hu=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function s6(i,s){var u=[],h={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return i.then(function(){h.status="fulfilled",h.value=s;for(var y=0;y<u.length;y++)(0,u[y])(s)},function(y){for(h.status="rejected",h.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),h}var SS=Y.S;Y.S=function(i,s){ox=Qn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&a6(i,s),SS!==null&&SS(i,s)};var Jo=B(null);function Ev(){var i=Jo.current;return i!==null?i:yt.pooledCache}function Bd(i,s){s===null?fe(Jo,Jo.current):fe(Jo,s.pool)}function AS(){var i=Ev();return i===null?null:{parent:tn._currentValue,pool:i}}var du=Error(r(460)),Tv=Error(r(474)),qd=Error(r(542)),Fd={then:function(){}};function xS(i){return i=i.status,i==="fulfilled"||i==="rejected"}function OS(i,s,u){switch(u=i[u],u===void 0?i.push(s):u!==s&&(s.then(pi,pi),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,IS(i),i;default:if(typeof s.status=="string")s.then(pi,pi);else{if(i=yt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(h){if(s.status==="pending"){var y=s;y.status="fulfilled",y.value=h}},function(h){if(s.status==="pending"){var y=s;y.status="rejected",y.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,IS(i),i}throw tl=s,du}}function el(i){try{var s=i._init;return s(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(tl=u,du):u}}var tl=null;function CS(){if(tl===null)throw Error(r(459));var i=tl;return tl=null,i}function IS(i){if(i===du||i===qd)throw Error(r(483))}var pu=null,tf=0;function Hd(i){var s=tf;return tf+=1,pu===null&&(pu=[]),OS(pu,i,s)}function nf(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function $d(i,s){throw s.$$typeof===v?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function PS(i){function s(K,G){if(i){var Q=K.deletions;Q===null?(K.deletions=[G],K.flags|=16):Q.push(G)}}function u(K,G){if(!i)return null;for(;G!==null;)s(K,G),G=G.sibling;return null}function h(K){for(var G=new Map;K!==null;)K.key!==null?G.set(K.key,K):G.set(K.index,K),K=K.sibling;return G}function y(K,G){return K=xa(K,G),K.index=0,K.sibling=null,K}function b(K,G,Q){return K.index=Q,i?(Q=K.alternate,Q!==null?(Q=Q.index,Q<G?(K.flags|=67108866,G):Q):(K.flags|=67108866,G)):(K.flags|=1048576,G)}function A(K){return i&&K.alternate===null&&(K.flags|=67108866),K}function N(K,G,Q,ue){return G===null||G.tag!==6?(G=fv(Q,K.mode,ue),G.return=K,G):(G=y(G,Q),G.return=K,G)}function $(K,G,Q,ue){var Oe=Q.type;return Oe===T?se(K,G,Q.props.children,ue,Q.key):G!==null&&(G.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===D&&el(Oe)===G.type)?(G=y(G,Q.props),nf(G,Q),G.return=K,G):(G=Ld(Q.type,Q.key,Q.props,null,K.mode,ue),nf(G,Q),G.return=K,G)}function ee(K,G,Q,ue){return G===null||G.tag!==4||G.stateNode.containerInfo!==Q.containerInfo||G.stateNode.implementation!==Q.implementation?(G=hv(Q,K.mode,ue),G.return=K,G):(G=y(G,Q.children||[]),G.return=K,G)}function se(K,G,Q,ue,Oe){return G===null||G.tag!==7?(G=Yo(Q,K.mode,ue,Oe),G.return=K,G):(G=y(G,Q),G.return=K,G)}function he(K,G,Q){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=fv(""+G,K.mode,Q),G.return=K,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case _:return Q=Ld(G.type,G.key,G.props,null,K.mode,Q),nf(Q,G),Q.return=K,Q;case w:return G=hv(G,K.mode,Q),G.return=K,G;case D:return G=el(G),he(K,G,Q)}if(ve(G)||M(G))return G=Yo(G,K.mode,Q,null),G.return=K,G;if(typeof G.then=="function")return he(K,Hd(G),Q);if(G.$$typeof===R)return he(K,zd(K,G),Q);$d(K,G)}return null}function te(K,G,Q,ue){var Oe=G!==null?G.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Oe!==null?null:N(K,G,""+Q,ue);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case _:return Q.key===Oe?$(K,G,Q,ue):null;case w:return Q.key===Oe?ee(K,G,Q,ue):null;case D:return Q=el(Q),te(K,G,Q,ue)}if(ve(Q)||M(Q))return Oe!==null?null:se(K,G,Q,ue,null);if(typeof Q.then=="function")return te(K,G,Hd(Q),ue);if(Q.$$typeof===R)return te(K,G,zd(K,Q),ue);$d(K,Q)}return null}function ie(K,G,Q,ue,Oe){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return K=K.get(Q)||null,N(G,K,""+ue,Oe);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case _:return K=K.get(ue.key===null?Q:ue.key)||null,$(G,K,ue,Oe);case w:return K=K.get(ue.key===null?Q:ue.key)||null,ee(G,K,ue,Oe);case D:return ue=el(ue),ie(K,G,Q,ue,Oe)}if(ve(ue)||M(ue))return K=K.get(Q)||null,se(G,K,ue,Oe,null);if(typeof ue.then=="function")return ie(K,G,Q,Hd(ue),Oe);if(ue.$$typeof===R)return ie(K,G,Q,zd(G,ue),Oe);$d(G,ue)}return null}function Te(K,G,Q,ue){for(var Oe=null,tt=null,Se=G,qe=G=0,Ye=null;Se!==null&&qe<Q.length;qe++){Se.index>qe?(Ye=Se,Se=null):Ye=Se.sibling;var nt=te(K,Se,Q[qe],ue);if(nt===null){Se===null&&(Se=Ye);break}i&&Se&&nt.alternate===null&&s(K,Se),G=b(nt,G,qe),tt===null?Oe=nt:tt.sibling=nt,tt=nt,Se=Ye}if(qe===Q.length)return u(K,Se),Je&&Oa(K,qe),Oe;if(Se===null){for(;qe<Q.length;qe++)Se=he(K,Q[qe],ue),Se!==null&&(G=b(Se,G,qe),tt===null?Oe=Se:tt.sibling=Se,tt=Se);return Je&&Oa(K,qe),Oe}for(Se=h(Se);qe<Q.length;qe++)Ye=ie(Se,K,qe,Q[qe],ue),Ye!==null&&(i&&Ye.alternate!==null&&Se.delete(Ye.key===null?qe:Ye.key),G=b(Ye,G,qe),tt===null?Oe=Ye:tt.sibling=Ye,tt=Ye);return i&&Se.forEach(function(Ys){return s(K,Ys)}),Je&&Oa(K,qe),Oe}function Re(K,G,Q,ue){if(Q==null)throw Error(r(151));for(var Oe=null,tt=null,Se=G,qe=G=0,Ye=null,nt=Q.next();Se!==null&&!nt.done;qe++,nt=Q.next()){Se.index>qe?(Ye=Se,Se=null):Ye=Se.sibling;var Ys=te(K,Se,nt.value,ue);if(Ys===null){Se===null&&(Se=Ye);break}i&&Se&&Ys.alternate===null&&s(K,Se),G=b(Ys,G,qe),tt===null?Oe=Ys:tt.sibling=Ys,tt=Ys,Se=Ye}if(nt.done)return u(K,Se),Je&&Oa(K,qe),Oe;if(Se===null){for(;!nt.done;qe++,nt=Q.next())nt=he(K,nt.value,ue),nt!==null&&(G=b(nt,G,qe),tt===null?Oe=nt:tt.sibling=nt,tt=nt);return Je&&Oa(K,qe),Oe}for(Se=h(Se);!nt.done;qe++,nt=Q.next())nt=ie(Se,K,qe,nt.value,ue),nt!==null&&(i&&nt.alternate!==null&&Se.delete(nt.key===null?qe:nt.key),G=b(nt,G,qe),tt===null?Oe=nt:tt.sibling=nt,tt=nt);return i&&Se.forEach(function(yU){return s(K,yU)}),Je&&Oa(K,qe),Oe}function gt(K,G,Q,ue){if(typeof Q=="object"&&Q!==null&&Q.type===T&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case _:e:{for(var Oe=Q.key;G!==null;){if(G.key===Oe){if(Oe=Q.type,Oe===T){if(G.tag===7){u(K,G.sibling),ue=y(G,Q.props.children),ue.return=K,K=ue;break e}}else if(G.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===D&&el(Oe)===G.type){u(K,G.sibling),ue=y(G,Q.props),nf(ue,Q),ue.return=K,K=ue;break e}u(K,G);break}else s(K,G);G=G.sibling}Q.type===T?(ue=Yo(Q.props.children,K.mode,ue,Q.key),ue.return=K,K=ue):(ue=Ld(Q.type,Q.key,Q.props,null,K.mode,ue),nf(ue,Q),ue.return=K,K=ue)}return A(K);case w:e:{for(Oe=Q.key;G!==null;){if(G.key===Oe)if(G.tag===4&&G.stateNode.containerInfo===Q.containerInfo&&G.stateNode.implementation===Q.implementation){u(K,G.sibling),ue=y(G,Q.children||[]),ue.return=K,K=ue;break e}else{u(K,G);break}else s(K,G);G=G.sibling}ue=hv(Q,K.mode,ue),ue.return=K,K=ue}return A(K);case D:return Q=el(Q),gt(K,G,Q,ue)}if(ve(Q))return Te(K,G,Q,ue);if(M(Q)){if(Oe=M(Q),typeof Oe!="function")throw Error(r(150));return Q=Oe.call(Q),Re(K,G,Q,ue)}if(typeof Q.then=="function")return gt(K,G,Hd(Q),ue);if(Q.$$typeof===R)return gt(K,G,zd(K,Q),ue);$d(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,G!==null&&G.tag===6?(u(K,G.sibling),ue=y(G,Q),ue.return=K,K=ue):(u(K,G),ue=fv(Q,K.mode,ue),ue.return=K,K=ue),A(K)):u(K,G)}return function(K,G,Q,ue){try{tf=0;var Oe=gt(K,G,Q,ue);return pu=null,Oe}catch(Se){if(Se===du||Se===qd)throw Se;var tt=Cr(29,Se,null,K.mode);return tt.lanes=ue,tt.return=K,tt}}}var nl=PS(!0),RS=PS(!1),Ds=!1;function Sv(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Av(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ns(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ks(i,s,u){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(st&2)!==0){var y=h.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),h.pending=s,s=jd(i),pS(i,null,u),s}return Md(i,h,s,u),jd(i)}function rf(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var h=s.lanes;h&=i.pendingLanes,u|=h,s.lanes=u,Pc(i,u)}}function xv(i,s){var u=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var y=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var A={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?y=b=A:b=b.next=A,u=u.next}while(u!==null);b===null?y=b=s:b=b.next=s}else y=b=s;u={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:h.shared,callbacks:h.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}var Ov=!1;function af(){if(Ov){var i=hu;if(i!==null)throw i}}function sf(i,s,u,h){Ov=!1;var y=i.updateQueue;Ds=!1;var b=y.firstBaseUpdate,A=y.lastBaseUpdate,N=y.shared.pending;if(N!==null){y.shared.pending=null;var $=N,ee=$.next;$.next=null,A===null?b=ee:A.next=ee,A=$;var se=i.alternate;se!==null&&(se=se.updateQueue,N=se.lastBaseUpdate,N!==A&&(N===null?se.firstBaseUpdate=ee:N.next=ee,se.lastBaseUpdate=$))}if(b!==null){var he=y.baseState;A=0,se=ee=$=null,N=b;do{var te=N.lane&-536870913,ie=te!==N.lane;if(ie?(We&te)===te:(h&te)===te){te!==0&&te===fu&&(Ov=!0),se!==null&&(se=se.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Te=i,Re=N;te=s;var gt=u;switch(Re.tag){case 1:if(Te=Re.payload,typeof Te=="function"){he=Te.call(gt,he,te);break e}he=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Re.payload,te=typeof Te=="function"?Te.call(gt,he,te):Te,te==null)break e;he=m({},he,te);break e;case 2:Ds=!0}}te=N.callback,te!==null&&(i.flags|=64,ie&&(i.flags|=8192),ie=y.callbacks,ie===null?y.callbacks=[te]:ie.push(te))}else ie={lane:te,tag:N.tag,payload:N.payload,callback:N.callback,next:null},se===null?(ee=se=ie,$=he):se=se.next=ie,A|=te;if(N=N.next,N===null){if(N=y.shared.pending,N===null)break;ie=N,N=ie.next,ie.next=null,y.lastBaseUpdate=ie,y.shared.pending=null}}while(!0);se===null&&($=he),y.baseState=$,y.firstBaseUpdate=ee,y.lastBaseUpdate=se,b===null&&(y.shared.lanes=0),Us|=A,i.lanes=A,i.memoizedState=he}}function DS(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function NS(i,s){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)DS(u[i],s)}var mu=B(null),Gd=B(0);function kS(i,s){i=Va,fe(Gd,i),fe(mu,s),Va=i|s.baseLanes}function Cv(){fe(Gd,Va),fe(mu,mu.current)}function Iv(){Va=Gd.current,J(mu),J(Gd)}var Ir=B(null),Xr=null;function Ms(i){var s=i.alternate;fe(Kt,Kt.current&1),fe(Ir,i),Xr===null&&(s===null||mu.current!==null||s.memoizedState!==null)&&(Xr=i)}function Pv(i){fe(Kt,Kt.current),fe(Ir,i),Xr===null&&(Xr=i)}function MS(i){i.tag===22?(fe(Kt,Kt.current),fe(Ir,i),Xr===null&&(Xr=i)):js()}function js(){fe(Kt,Kt.current),fe(Ir,Ir.current)}function Pr(i){J(Ir),Xr===i&&(Xr=null),J(Kt)}var Kt=B(0);function Kd(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||j0(u)||L0(u)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Pa=0,ze=null,pt=null,nn=null,Wd=!1,gu=!1,rl=!1,Yd=0,of=0,yu=null,o6=0;function kt(){throw Error(r(321))}function Rv(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!Or(i[u],s[u]))return!1;return!0}function Dv(i,s,u,h,y,b){return Pa=b,ze=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Y.H=i===null||i.memoizedState===null?vA:Kv,rl=!1,b=u(h,y),rl=!1,gu&&(b=LS(s,u,h,y)),jS(i),b}function jS(i){Y.H=cf;var s=pt!==null&&pt.next!==null;if(Pa=0,nn=pt=ze=null,Wd=!1,of=0,yu=null,s)throw Error(r(300));i===null||rn||(i=i.dependencies,i!==null&&Ud(i)&&(rn=!0))}function LS(i,s,u,h){ze=i;var y=0;do{if(gu&&(yu=null),of=0,gu=!1,25<=y)throw Error(r(301));if(y+=1,nn=pt=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}Y.H=bA,b=s(u,h)}while(gu);return b}function l6(){var i=Y.H,s=i.useState()[0];return s=typeof s.then=="function"?lf(s):s,i=i.useState()[0],(pt!==null?pt.memoizedState:null)!==i&&(ze.flags|=1024),s}function Nv(){var i=Yd!==0;return Yd=0,i}function kv(i,s,u){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~u}function Mv(i){if(Wd){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Wd=!1}Pa=0,nn=pt=ze=null,gu=!1,of=Yd=0,yu=null}function Jn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?ze.memoizedState=nn=i:nn=nn.next=i,nn}function Wt(){if(pt===null){var i=ze.alternate;i=i!==null?i.memoizedState:null}else i=pt.next;var s=nn===null?ze.memoizedState:nn.next;if(s!==null)nn=s,pt=i;else{if(i===null)throw ze.alternate===null?Error(r(467)):Error(r(310));pt=i,i={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},nn===null?ze.memoizedState=nn=i:nn=nn.next=i}return nn}function Xd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lf(i){var s=of;return of+=1,yu===null&&(yu=[]),i=OS(yu,i,s),s=ze,(nn===null?s.memoizedState:nn.next)===null&&(s=s.alternate,Y.H=s===null||s.memoizedState===null?vA:Kv),i}function Qd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return lf(i);if(i.$$typeof===R)return Dn(i)}throw Error(r(438,String(i)))}function jv(i){var s=null,u=ze.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var h=ze.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(y){return y.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=Xd(),ze.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(i),h=0;h<i;h++)u[h]=q;return s.index++,u}function Ra(i,s){return typeof s=="function"?s(i):s}function Zd(i){var s=Wt();return Lv(s,pt,i)}function Lv(i,s,u){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var y=i.baseQueue,b=h.pending;if(b!==null){if(y!==null){var A=y.next;y.next=b.next,b.next=A}s.baseQueue=y=b,h.pending=null}if(b=i.baseState,y===null)i.memoizedState=b;else{s=y.next;var N=A=null,$=null,ee=s,se=!1;do{var he=ee.lane&-536870913;if(he!==ee.lane?(We&he)===he:(Pa&he)===he){var te=ee.revertLane;if(te===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),he===fu&&(se=!0);else if((Pa&te)===te){ee=ee.next,te===fu&&(se=!0);continue}else he={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},$===null?(N=$=he,A=b):$=$.next=he,ze.lanes|=te,Us|=te;he=ee.action,rl&&u(b,he),b=ee.hasEagerState?ee.eagerState:u(b,he)}else te={lane:he,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},$===null?(N=$=te,A=b):$=$.next=te,ze.lanes|=he,Us|=he;ee=ee.next}while(ee!==null&&ee!==s);if($===null?A=b:$.next=N,!Or(b,i.memoizedState)&&(rn=!0,se&&(u=hu,u!==null)))throw u;i.memoizedState=b,i.baseState=A,i.baseQueue=$,h.lastRenderedState=b}return y===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Vv(i){var s=Wt(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var h=u.dispatch,y=u.pending,b=s.memoizedState;if(y!==null){u.pending=null;var A=y=y.next;do b=i(b,A.action),A=A.next;while(A!==y);Or(b,s.memoizedState)||(rn=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),u.lastRenderedState=b}return[b,h]}function VS(i,s,u){var h=ze,y=Wt(),b=Je;if(b){if(u===void 0)throw Error(r(407));u=u()}else u=s();var A=!Or((pt||y).memoizedState,u);if(A&&(y.memoizedState=u,rn=!0),y=y.queue,Bv(BS.bind(null,h,y,i),[i]),y.getSnapshot!==s||A||nn!==null&&nn.memoizedState.tag&1){if(h.flags|=2048,vu(9,{destroy:void 0},zS.bind(null,h,y,u,s),null),yt===null)throw Error(r(349));b||(Pa&127)!==0||US(h,s,u)}return u}function US(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=ze.updateQueue,s===null?(s=Xd(),ze.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function zS(i,s,u,h){s.value=u,s.getSnapshot=h,qS(s)&&FS(i)}function BS(i,s,u){return u(function(){qS(s)&&FS(i)})}function qS(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!Or(i,u)}catch{return!0}}function FS(i){var s=Wo(i,2);s!==null&&hr(s,i,2)}function Uv(i){var s=Jn();if(typeof i=="function"){var u=i;if(i=u(),rl){zr(!0);try{u()}finally{zr(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:i},s}function HS(i,s,u,h){return i.baseState=u,Lv(i,pt,typeof h=="function"?h:Ra)}function u6(i,s,u,h,y){if(tp(i))throw Error(r(485));if(i=s.action,i!==null){var b={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){b.listeners.push(A)}};Y.T!==null?u(!0):b.isTransition=!1,h(b),u=s.pending,u===null?(b.next=s.pending=b,$S(s,b)):(b.next=u.next,s.pending=u.next=b)}}function $S(i,s){var u=s.action,h=s.payload,y=i.state;if(s.isTransition){var b=Y.T,A={};Y.T=A;try{var N=u(y,h),$=Y.S;$!==null&&$(A,N),GS(i,s,N)}catch(ee){zv(i,s,ee)}finally{b!==null&&A.types!==null&&(b.types=A.types),Y.T=b}}else try{b=u(y,h),GS(i,s,b)}catch(ee){zv(i,s,ee)}}function GS(i,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){KS(i,s,h)},function(h){return zv(i,s,h)}):KS(i,s,u)}function KS(i,s,u){s.status="fulfilled",s.value=u,WS(s),i.state=u,s=i.pending,s!==null&&(u=s.next,u===s?i.pending=null:(u=u.next,s.next=u,$S(i,u)))}function zv(i,s,u){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=u,WS(s),s=s.next;while(s!==h)}i.action=null}function WS(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function YS(i,s){return s}function XS(i,s){if(Je){var u=yt.formState;if(u!==null){e:{var h=ze;if(Je){if(St){t:{for(var y=St,b=Yr;y.nodeType!==8;){if(!b){y=null;break t}if(y=Qr(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){St=Qr(y.nextSibling),h=y.data==="F!";break e}}Ps(h)}h=!1}h&&(s=u[0])}}return u=Jn(),u.memoizedState=u.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:YS,lastRenderedState:s},u.queue=h,u=mA.bind(null,ze,h),h.dispatch=u,h=Uv(!1),b=Gv.bind(null,ze,!1,h.queue),h=Jn(),y={state:s,dispatch:null,action:i,pending:null},h.queue=y,u=u6.bind(null,ze,y,b,u),y.dispatch=u,h.memoizedState=i,[s,u,!1]}function QS(i){var s=Wt();return ZS(s,pt,i)}function ZS(i,s,u){if(s=Lv(i,s,YS)[0],i=Zd(Ra)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=lf(s)}catch(A){throw A===du?qd:A}else h=s;s=Wt();var y=s.queue,b=y.dispatch;return u!==s.memoizedState&&(ze.flags|=2048,vu(9,{destroy:void 0},c6.bind(null,y,u),null)),[h,b,i]}function c6(i,s){i.action=s}function JS(i){var s=Wt(),u=pt;if(u!==null)return ZS(s,u,i);Wt(),s=s.memoizedState,u=Wt();var h=u.queue.dispatch;return u.memoizedState=i,[s,h,!1]}function vu(i,s,u,h){return i={tag:i,create:u,deps:h,inst:s,next:null},s=ze.updateQueue,s===null&&(s=Xd(),ze.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=i.next=i:(h=u.next,u.next=i,i.next=h,s.lastEffect=i),i}function eA(){return Wt().memoizedState}function Jd(i,s,u,h){var y=Jn();ze.flags|=i,y.memoizedState=vu(1|s,{destroy:void 0},u,h===void 0?null:h)}function ep(i,s,u,h){var y=Wt();h=h===void 0?null:h;var b=y.memoizedState.inst;pt!==null&&h!==null&&Rv(h,pt.memoizedState.deps)?y.memoizedState=vu(s,b,u,h):(ze.flags|=i,y.memoizedState=vu(1|s,b,u,h))}function tA(i,s){Jd(8390656,8,i,s)}function Bv(i,s){ep(2048,8,i,s)}function f6(i){ze.flags|=4;var s=ze.updateQueue;if(s===null)s=Xd(),ze.updateQueue=s,s.events=[i];else{var u=s.events;u===null?s.events=[i]:u.push(i)}}function nA(i){var s=Wt().memoizedState;return f6({ref:s,nextImpl:i}),function(){if((st&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function rA(i,s){return ep(4,2,i,s)}function iA(i,s){return ep(4,4,i,s)}function aA(i,s){if(typeof s=="function"){i=i();var u=s(i);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function sA(i,s,u){u=u!=null?u.concat([i]):null,ep(4,4,aA.bind(null,s,i),u)}function qv(){}function oA(i,s){var u=Wt();s=s===void 0?null:s;var h=u.memoizedState;return s!==null&&Rv(s,h[1])?h[0]:(u.memoizedState=[i,s],i)}function lA(i,s){var u=Wt();s=s===void 0?null:s;var h=u.memoizedState;if(s!==null&&Rv(s,h[1]))return h[0];if(h=i(),rl){zr(!0);try{i()}finally{zr(!1)}}return u.memoizedState=[h,s],h}function Fv(i,s,u){return u===void 0||(Pa&1073741824)!==0&&(We&261930)===0?i.memoizedState=s:(i.memoizedState=u,i=ux(),ze.lanes|=i,Us|=i,u)}function uA(i,s,u,h){return Or(u,s)?u:mu.current!==null?(i=Fv(i,u,h),Or(i,s)||(rn=!0),i):(Pa&42)===0||(Pa&1073741824)!==0&&(We&261930)===0?(rn=!0,i.memoizedState=u):(i=ux(),ze.lanes|=i,Us|=i,s)}function cA(i,s,u,h,y){var b=oe.p;oe.p=b!==0&&8>b?b:8;var A=Y.T,N={};Y.T=N,Gv(i,!1,s,u);try{var $=y(),ee=Y.S;if(ee!==null&&ee(N,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var se=s6($,h);uf(i,s,se,Nr(i))}else uf(i,s,h,Nr(i))}catch(he){uf(i,s,{then:function(){},status:"rejected",reason:he},Nr())}finally{oe.p=b,A!==null&&N.types!==null&&(A.types=N.types),Y.T=A}}function h6(){}function Hv(i,s,u,h){if(i.tag!==5)throw Error(r(476));var y=fA(i).queue;cA(i,y,s,ne,u===null?h6:function(){return hA(i),u(h)})}function fA(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:ne},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:u},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function hA(i){var s=fA(i);s.next===null&&(s=i.alternate.memoizedState),uf(i,s.next.queue,{},Nr())}function $v(){return Dn(xf)}function dA(){return Wt().memoizedState}function pA(){return Wt().memoizedState}function d6(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var u=Nr();i=Ns(u);var h=ks(s,i,u);h!==null&&(hr(h,s,u),rf(h,s,u)),s={cache:_v()},i.payload=s;return}s=s.return}}function p6(i,s,u){var h=Nr();u={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},tp(i)?gA(s,u):(u=uv(i,s,u,h),u!==null&&(hr(u,i,h),yA(u,s,h)))}function mA(i,s,u){var h=Nr();uf(i,s,u,h)}function uf(i,s,u,h){var y={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(tp(i))gA(s,y);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var A=s.lastRenderedState,N=b(A,u);if(y.hasEagerState=!0,y.eagerState=N,Or(N,A))return Md(i,s,y,0),yt===null&&kd(),!1}catch{}if(u=uv(i,s,y,h),u!==null)return hr(u,i,h),yA(u,s,h),!0}return!1}function Gv(i,s,u,h){if(h={lane:2,revertLane:S0(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},tp(i)){if(s)throw Error(r(479))}else s=uv(i,u,h,2),s!==null&&hr(s,i,2)}function tp(i){var s=i.alternate;return i===ze||s!==null&&s===ze}function gA(i,s){gu=Wd=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function yA(i,s,u){if((u&4194048)!==0){var h=s.lanes;h&=i.pendingLanes,u|=h,s.lanes=u,Pc(i,u)}}var cf={readContext:Dn,use:Qd,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt};cf.useEffectEvent=kt;var vA={readContext:Dn,use:Qd,useCallback:function(i,s){return Jn().memoizedState=[i,s===void 0?null:s],i},useContext:Dn,useEffect:tA,useImperativeHandle:function(i,s,u){u=u!=null?u.concat([i]):null,Jd(4194308,4,aA.bind(null,s,i),u)},useLayoutEffect:function(i,s){return Jd(4194308,4,i,s)},useInsertionEffect:function(i,s){Jd(4,2,i,s)},useMemo:function(i,s){var u=Jn();s=s===void 0?null:s;var h=i();if(rl){zr(!0);try{i()}finally{zr(!1)}}return u.memoizedState=[h,s],h},useReducer:function(i,s,u){var h=Jn();if(u!==void 0){var y=u(s);if(rl){zr(!0);try{u(s)}finally{zr(!1)}}}else y=s;return h.memoizedState=h.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},h.queue=i,i=i.dispatch=p6.bind(null,ze,i),[h.memoizedState,i]},useRef:function(i){var s=Jn();return i={current:i},s.memoizedState=i},useState:function(i){i=Uv(i);var s=i.queue,u=mA.bind(null,ze,s);return s.dispatch=u,[i.memoizedState,u]},useDebugValue:qv,useDeferredValue:function(i,s){var u=Jn();return Fv(u,i,s)},useTransition:function(){var i=Uv(!1);return i=cA.bind(null,ze,i.queue,!0,!1),Jn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,u){var h=ze,y=Jn();if(Je){if(u===void 0)throw Error(r(407));u=u()}else{if(u=s(),yt===null)throw Error(r(349));(We&127)!==0||US(h,s,u)}y.memoizedState=u;var b={value:u,getSnapshot:s};return y.queue=b,tA(BS.bind(null,h,b,i),[i]),h.flags|=2048,vu(9,{destroy:void 0},zS.bind(null,h,b,u,s),null),u},useId:function(){var i=Jn(),s=yt.identifierPrefix;if(Je){var u=Zi,h=Qi;u=(h&~(1<<32-$t(h)-1)).toString(32)+u,s="_"+s+"R_"+u,u=Yd++,0<u&&(s+="H"+u.toString(32)),s+="_"}else u=o6++,s="_"+s+"r_"+u.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:$v,useFormState:XS,useActionState:XS,useOptimistic:function(i){var s=Jn();s.memoizedState=s.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=Gv.bind(null,ze,!0,u),u.dispatch=s,[i,s]},useMemoCache:jv,useCacheRefresh:function(){return Jn().memoizedState=d6.bind(null,ze)},useEffectEvent:function(i){var s=Jn(),u={impl:i};return s.memoizedState=u,function(){if((st&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Kv={readContext:Dn,use:Qd,useCallback:oA,useContext:Dn,useEffect:Bv,useImperativeHandle:sA,useInsertionEffect:rA,useLayoutEffect:iA,useMemo:lA,useReducer:Zd,useRef:eA,useState:function(){return Zd(Ra)},useDebugValue:qv,useDeferredValue:function(i,s){var u=Wt();return uA(u,pt.memoizedState,i,s)},useTransition:function(){var i=Zd(Ra)[0],s=Wt().memoizedState;return[typeof i=="boolean"?i:lf(i),s]},useSyncExternalStore:VS,useId:dA,useHostTransitionStatus:$v,useFormState:QS,useActionState:QS,useOptimistic:function(i,s){var u=Wt();return HS(u,pt,i,s)},useMemoCache:jv,useCacheRefresh:pA};Kv.useEffectEvent=nA;var bA={readContext:Dn,use:Qd,useCallback:oA,useContext:Dn,useEffect:Bv,useImperativeHandle:sA,useInsertionEffect:rA,useLayoutEffect:iA,useMemo:lA,useReducer:Vv,useRef:eA,useState:function(){return Vv(Ra)},useDebugValue:qv,useDeferredValue:function(i,s){var u=Wt();return pt===null?Fv(u,i,s):uA(u,pt.memoizedState,i,s)},useTransition:function(){var i=Vv(Ra)[0],s=Wt().memoizedState;return[typeof i=="boolean"?i:lf(i),s]},useSyncExternalStore:VS,useId:dA,useHostTransitionStatus:$v,useFormState:JS,useActionState:JS,useOptimistic:function(i,s){var u=Wt();return pt!==null?HS(u,pt,i,s):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:jv,useCacheRefresh:pA};bA.useEffectEvent=nA;function Wv(i,s,u,h){s=i.memoizedState,u=u(h,s),u=u==null?s:m({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Yv={enqueueSetState:function(i,s,u){i=i._reactInternals;var h=Nr(),y=Ns(h);y.payload=s,u!=null&&(y.callback=u),s=ks(i,y,h),s!==null&&(hr(s,i,h),rf(s,i,h))},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var h=Nr(),y=Ns(h);y.tag=1,y.payload=s,u!=null&&(y.callback=u),s=ks(i,y,h),s!==null&&(hr(s,i,h),rf(s,i,h))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=Nr(),h=Ns(u);h.tag=2,s!=null&&(h.callback=s),s=ks(i,h,u),s!==null&&(hr(s,i,u),rf(s,i,u))}};function _A(i,s,u,h,y,b,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,b,A):s.prototype&&s.prototype.isPureReactComponent?!Yc(u,h)||!Yc(y,b):!0}function wA(i,s,u,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,h),s.state!==i&&Yv.enqueueReplaceState(s,s.state,null)}function il(i,s){var u=s;if("ref"in s){u={};for(var h in s)h!=="ref"&&(u[h]=s[h])}if(i=i.defaultProps){u===s&&(u=m({},u));for(var y in i)u[y]===void 0&&(u[y]=i[y])}return u}function EA(i){Nd(i)}function TA(i){console.error(i)}function SA(i){Nd(i)}function np(i,s){try{var u=i.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function AA(i,s,u){try{var h=i.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Xv(i,s,u){return u=Ns(u),u.tag=3,u.payload={element:null},u.callback=function(){np(i,s)},u}function xA(i){return i=Ns(i),i.tag=3,i}function OA(i,s,u,h){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var b=h.value;i.payload=function(){return y(b)},i.callback=function(){AA(s,u,h)}}var A=u.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){AA(s,u,h),typeof y!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var N=h.stack;this.componentDidCatch(h.value,{componentStack:N!==null?N:""})})}function m6(i,s,u,h,y){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=u.alternate,s!==null&&cu(s,u,y,!0),u=Ir.current,u!==null){switch(u.tag){case 31:case 13:return Xr===null?pp():u.alternate===null&&Mt===0&&(Mt=3),u.flags&=-257,u.flags|=65536,u.lanes=y,h===Fd?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([h]):s.add(h),w0(i,h,y)),!1;case 22:return u.flags|=65536,h===Fd?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([h]):u.add(h)),w0(i,h,y)),!1}throw Error(r(435,u.tag))}return w0(i,h,y),pp(),!1}if(Je)return s=Ir.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=y,h!==mv&&(i=Error(r(422),{cause:h}),Zc(Gr(i,u)))):(h!==mv&&(s=Error(r(423),{cause:h}),Zc(Gr(s,u))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,h=Gr(h,u),y=Xv(i.stateNode,h,y),xv(i,y),Mt!==4&&(Mt=2)),!1;var b=Error(r(520),{cause:h});if(b=Gr(b,u),vf===null?vf=[b]:vf.push(b),Mt!==4&&(Mt=2),s===null)return!0;h=Gr(h,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,i=y&-y,u.lanes|=i,i=Xv(u.stateNode,h,i),xv(u,i),!1;case 1:if(s=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(zs===null||!zs.has(b))))return u.flags|=65536,y&=-y,u.lanes|=y,y=xA(y),OA(y,i,u,h),xv(u,y),!1}u=u.return}while(u!==null);return!1}var Qv=Error(r(461)),rn=!1;function Nn(i,s,u,h){s.child=i===null?RS(s,null,u,h):nl(s,i.child,u,h)}function CA(i,s,u,h,y){u=u.render;var b=s.ref;if("ref"in h){var A={};for(var N in h)N!=="ref"&&(A[N]=h[N])}else A=h;return Zo(s),h=Dv(i,s,u,A,b,y),N=Nv(),i!==null&&!rn?(kv(i,s,y),Da(i,s,y)):(Je&&N&&dv(s),s.flags|=1,Nn(i,s,h,y),s.child)}function IA(i,s,u,h,y){if(i===null){var b=u.type;return typeof b=="function"&&!cv(b)&&b.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=b,PA(i,s,b,h,y)):(i=Ld(u.type,null,h,s,s.mode,y),i.ref=s.ref,i.return=s,s.child=i)}if(b=i.child,!a0(i,y)){var A=b.memoizedProps;if(u=u.compare,u=u!==null?u:Yc,u(A,h)&&i.ref===s.ref)return Da(i,s,y)}return s.flags|=1,i=xa(b,h),i.ref=s.ref,i.return=s,s.child=i}function PA(i,s,u,h,y){if(i!==null){var b=i.memoizedProps;if(Yc(b,h)&&i.ref===s.ref)if(rn=!1,s.pendingProps=h=b,a0(i,y))(i.flags&131072)!==0&&(rn=!0);else return s.lanes=i.lanes,Da(i,s,y)}return Zv(i,s,u,h,y)}function RA(i,s,u,h){var y=h.children,b=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((s.flags&128)!==0){if(b=b!==null?b.baseLanes|u:u,i!==null){for(h=s.child=i.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;h=y&~b}else h=0,s.child=null;return DA(i,s,b,u,h)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Bd(s,b!==null?b.cachePool:null),b!==null?kS(s,b):Cv(),MS(s);else return h=s.lanes=536870912,DA(i,s,b!==null?b.baseLanes|u:u,u,h)}else b!==null?(Bd(s,b.cachePool),kS(s,b),js(),s.memoizedState=null):(i!==null&&Bd(s,null),Cv(),js());return Nn(i,s,y,u),s.child}function ff(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function DA(i,s,u,h,y){var b=Ev();return b=b===null?null:{parent:tn._currentValue,pool:b},s.memoizedState={baseLanes:u,cachePool:b},i!==null&&Bd(s,null),Cv(),MS(s),i!==null&&cu(i,s,h,!0),s.childLanes=y,null}function rp(i,s){return s=ap({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function NA(i,s,u){return nl(s,i.child,null,u),i=rp(s,s.pendingProps),i.flags|=2,Pr(s),s.memoizedState=null,i}function g6(i,s,u){var h=s.pendingProps,y=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Je){if(h.mode==="hidden")return i=rp(s,h),s.lanes=536870912,ff(null,i);if(Pv(s),(i=St)?(i=$x(i,Yr),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Cs!==null?{id:Qi,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},u=gS(i),u.return=s,s.child=u,Rn=s,St=null)):i=null,i===null)throw Ps(s);return s.lanes=536870912,null}return rp(s,h)}var b=i.memoizedState;if(b!==null){var A=b.dehydrated;if(Pv(s),y)if(s.flags&256)s.flags&=-257,s=NA(i,s,u);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(rn||cu(i,s,u,!1),y=(u&i.childLanes)!==0,rn||y){if(h=yt,h!==null&&(A=Rc(h,u),A!==0&&A!==b.retryLane))throw b.retryLane=A,Wo(i,A),hr(h,i,A),Qv;pp(),s=NA(i,s,u)}else i=b.treeContext,St=Qr(A.nextSibling),Rn=s,Je=!0,Is=null,Yr=!1,i!==null&&bS(s,i),s=rp(s,h),s.flags|=4096;return s}return i=xa(i.child,{mode:h.mode,children:h.children}),i.ref=s.ref,s.child=i,i.return=s,i}function ip(i,s){var u=s.ref;if(u===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(s.flags|=4194816)}}function Zv(i,s,u,h,y){return Zo(s),u=Dv(i,s,u,h,void 0,y),h=Nv(),i!==null&&!rn?(kv(i,s,y),Da(i,s,y)):(Je&&h&&dv(s),s.flags|=1,Nn(i,s,u,y),s.child)}function kA(i,s,u,h,y,b){return Zo(s),s.updateQueue=null,u=LS(s,h,u,y),jS(i),h=Nv(),i!==null&&!rn?(kv(i,s,b),Da(i,s,b)):(Je&&h&&dv(s),s.flags|=1,Nn(i,s,u,b),s.child)}function MA(i,s,u,h,y){if(Zo(s),s.stateNode===null){var b=su,A=u.contextType;typeof A=="object"&&A!==null&&(b=Dn(A)),b=new u(h,b),s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Yv,s.stateNode=b,b._reactInternals=s,b=s.stateNode,b.props=h,b.state=s.memoizedState,b.refs={},Sv(s),A=u.contextType,b.context=typeof A=="object"&&A!==null?Dn(A):su,b.state=s.memoizedState,A=u.getDerivedStateFromProps,typeof A=="function"&&(Wv(s,u,A,h),b.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(A=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),A!==b.state&&Yv.enqueueReplaceState(b,b.state,null),sf(s,h,b,y),af(),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(i===null){b=s.stateNode;var N=s.memoizedProps,$=il(u,N);b.props=$;var ee=b.context,se=u.contextType;A=su,typeof se=="object"&&se!==null&&(A=Dn(se));var he=u.getDerivedStateFromProps;se=typeof he=="function"||typeof b.getSnapshotBeforeUpdate=="function",N=s.pendingProps!==N,se||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(N||ee!==A)&&wA(s,b,h,A),Ds=!1;var te=s.memoizedState;b.state=te,sf(s,h,b,y),af(),ee=s.memoizedState,N||te!==ee||Ds?(typeof he=="function"&&(Wv(s,u,he,h),ee=s.memoizedState),($=Ds||_A(s,u,$,h,te,ee,A))?(se||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=ee),b.props=h,b.state=ee,b.context=A,h=$):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{b=s.stateNode,Av(i,s),A=s.memoizedProps,se=il(u,A),b.props=se,he=s.pendingProps,te=b.context,ee=u.contextType,$=su,typeof ee=="object"&&ee!==null&&($=Dn(ee)),N=u.getDerivedStateFromProps,(ee=typeof N=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(A!==he||te!==$)&&wA(s,b,h,$),Ds=!1,te=s.memoizedState,b.state=te,sf(s,h,b,y),af();var ie=s.memoizedState;A!==he||te!==ie||Ds||i!==null&&i.dependencies!==null&&Ud(i.dependencies)?(typeof N=="function"&&(Wv(s,u,N,h),ie=s.memoizedState),(se=Ds||_A(s,u,se,h,te,ie,$)||i!==null&&i.dependencies!==null&&Ud(i.dependencies))?(ee||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,ie,$),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,ie,$)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||A===i.memoizedProps&&te===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&te===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=ie),b.props=h,b.state=ie,b.context=$,h=se):(typeof b.componentDidUpdate!="function"||A===i.memoizedProps&&te===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&te===i.memoizedState||(s.flags|=1024),h=!1)}return b=h,ip(i,s),h=(s.flags&128)!==0,b||h?(b=s.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:b.render(),s.flags|=1,i!==null&&h?(s.child=nl(s,i.child,null,y),s.child=nl(s,null,u,y)):Nn(i,s,u,y),s.memoizedState=b.state,i=s.child):i=Da(i,s,y),i}function jA(i,s,u,h){return Xo(),s.flags|=256,Nn(i,s,u,h),s.child}var Jv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function e0(i){return{baseLanes:i,cachePool:AS()}}function t0(i,s,u){return i=i!==null?i.childLanes&~u:0,s&&(i|=Dr),i}function LA(i,s,u){var h=s.pendingProps,y=!1,b=(s.flags&128)!==0,A;if((A=b)||(A=i!==null&&i.memoizedState===null?!1:(Kt.current&2)!==0),A&&(y=!0,s.flags&=-129),A=(s.flags&32)!==0,s.flags&=-33,i===null){if(Je){if(y?Ms(s):js(),(i=St)?(i=$x(i,Yr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Cs!==null?{id:Qi,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},u=gS(i),u.return=s,s.child=u,Rn=s,St=null)):i=null,i===null)throw Ps(s);return L0(i)?s.lanes=32:s.lanes=536870912,null}var N=h.children;return h=h.fallback,y?(js(),y=s.mode,N=ap({mode:"hidden",children:N},y),h=Yo(h,y,u,null),N.return=s,h.return=s,N.sibling=h,s.child=N,h=s.child,h.memoizedState=e0(u),h.childLanes=t0(i,A,u),s.memoizedState=Jv,ff(null,h)):(Ms(s),n0(s,N))}var $=i.memoizedState;if($!==null&&(N=$.dehydrated,N!==null)){if(b)s.flags&256?(Ms(s),s.flags&=-257,s=r0(i,s,u)):s.memoizedState!==null?(js(),s.child=i.child,s.flags|=128,s=null):(js(),N=h.fallback,y=s.mode,h=ap({mode:"visible",children:h.children},y),N=Yo(N,y,u,null),N.flags|=2,h.return=s,N.return=s,h.sibling=N,s.child=h,nl(s,i.child,null,u),h=s.child,h.memoizedState=e0(u),h.childLanes=t0(i,A,u),s.memoizedState=Jv,s=ff(null,h));else if(Ms(s),L0(N)){if(A=N.nextSibling&&N.nextSibling.dataset,A)var ee=A.dgst;A=ee,h=Error(r(419)),h.stack="",h.digest=A,Zc({value:h,source:null,stack:null}),s=r0(i,s,u)}else if(rn||cu(i,s,u,!1),A=(u&i.childLanes)!==0,rn||A){if(A=yt,A!==null&&(h=Rc(A,u),h!==0&&h!==$.retryLane))throw $.retryLane=h,Wo(i,h),hr(A,i,h),Qv;j0(N)||pp(),s=r0(i,s,u)}else j0(N)?(s.flags|=192,s.child=i.child,s=null):(i=$.treeContext,St=Qr(N.nextSibling),Rn=s,Je=!0,Is=null,Yr=!1,i!==null&&bS(s,i),s=n0(s,h.children),s.flags|=4096);return s}return y?(js(),N=h.fallback,y=s.mode,$=i.child,ee=$.sibling,h=xa($,{mode:"hidden",children:h.children}),h.subtreeFlags=$.subtreeFlags&65011712,ee!==null?N=xa(ee,N):(N=Yo(N,y,u,null),N.flags|=2),N.return=s,h.return=s,h.sibling=N,s.child=h,ff(null,h),h=s.child,N=i.child.memoizedState,N===null?N=e0(u):(y=N.cachePool,y!==null?($=tn._currentValue,y=y.parent!==$?{parent:$,pool:$}:y):y=AS(),N={baseLanes:N.baseLanes|u,cachePool:y}),h.memoizedState=N,h.childLanes=t0(i,A,u),s.memoizedState=Jv,ff(i.child,h)):(Ms(s),u=i.child,i=u.sibling,u=xa(u,{mode:"visible",children:h.children}),u.return=s,u.sibling=null,i!==null&&(A=s.deletions,A===null?(s.deletions=[i],s.flags|=16):A.push(i)),s.child=u,s.memoizedState=null,u)}function n0(i,s){return s=ap({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function ap(i,s){return i=Cr(22,i,null,s),i.lanes=0,i}function r0(i,s,u){return nl(s,i.child,null,u),i=n0(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function VA(i,s,u){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),vv(i.return,s,u)}function i0(i,s,u,h,y,b){var A=i.memoizedState;A===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:y,treeForkCount:b}:(A.isBackwards=s,A.rendering=null,A.renderingStartTime=0,A.last=h,A.tail=u,A.tailMode=y,A.treeForkCount=b)}function UA(i,s,u){var h=s.pendingProps,y=h.revealOrder,b=h.tail;h=h.children;var A=Kt.current,N=(A&2)!==0;if(N?(A=A&1|2,s.flags|=128):A&=1,fe(Kt,A),Nn(i,s,h,u),h=Je?Qc:0,!N&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&VA(i,u,s);else if(i.tag===19)VA(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(y){case"forwards":for(u=s.child,y=null;u!==null;)i=u.alternate,i!==null&&Kd(i)===null&&(y=u),u=u.sibling;u=y,u===null?(y=s.child,s.child=null):(y=u.sibling,u.sibling=null),i0(s,!1,y,u,b,h);break;case"backwards":case"unstable_legacy-backwards":for(u=null,y=s.child,s.child=null;y!==null;){if(i=y.alternate,i!==null&&Kd(i)===null){s.child=y;break}i=y.sibling,y.sibling=u,u=y,y=i}i0(s,!0,u,null,b,h);break;case"together":i0(s,!1,null,null,void 0,h);break;default:s.memoizedState=null}return s.child}function Da(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),Us|=s.lanes,(u&s.childLanes)===0)if(i!==null){if(cu(i,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,u=xa(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=xa(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function a0(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Ud(i)))}function y6(i,s,u){switch(s.tag){case 3:ht(s,s.stateNode.containerInfo),Rs(s,tn,i.memoizedState.cache),Xo();break;case 27:case 5:je(s);break;case 4:ht(s,s.stateNode.containerInfo);break;case 10:Rs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Pv(s),null;break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(Ms(s),s.flags|=128,null):(u&s.child.childLanes)!==0?LA(i,s,u):(Ms(s),i=Da(i,s,u),i!==null?i.sibling:null);Ms(s);break;case 19:var y=(i.flags&128)!==0;if(h=(u&s.childLanes)!==0,h||(cu(i,s,u,!1),h=(u&s.childLanes)!==0),y){if(h)return UA(i,s,u);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),fe(Kt,Kt.current),h)break;return null;case 22:return s.lanes=0,RA(i,s,u,s.pendingProps);case 24:Rs(s,tn,i.memoizedState.cache)}return Da(i,s,u)}function zA(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps)rn=!0;else{if(!a0(i,u)&&(s.flags&128)===0)return rn=!1,y6(i,s,u);rn=(i.flags&131072)!==0}else rn=!1,Je&&(s.flags&1048576)!==0&&vS(s,Qc,s.index);switch(s.lanes=0,s.tag){case 16:e:{var h=s.pendingProps;if(i=el(s.elementType),s.type=i,typeof i=="function")cv(i)?(h=il(i,h),s.tag=1,s=MA(null,s,i,h,u)):(s.tag=0,s=Zv(null,s,i,h,u));else{if(i!=null){var y=i.$$typeof;if(y===z){s.tag=11,s=CA(null,s,i,h,u);break e}else if(y===C){s.tag=14,s=IA(null,s,i,h,u);break e}}throw s=ge(i)||i,Error(r(306,s,""))}}return s;case 0:return Zv(i,s,s.type,s.pendingProps,u);case 1:return h=s.type,y=il(h,s.pendingProps),MA(i,s,h,y,u);case 3:e:{if(ht(s,s.stateNode.containerInfo),i===null)throw Error(r(387));h=s.pendingProps;var b=s.memoizedState;y=b.element,Av(i,s),sf(s,h,null,u);var A=s.memoizedState;if(h=A.cache,Rs(s,tn,h),h!==b.cache&&bv(s,[tn],u,!0),af(),h=A.element,b.isDehydrated)if(b={element:h,isDehydrated:!1,cache:A.cache},s.updateQueue.baseState=b,s.memoizedState=b,s.flags&256){s=jA(i,s,h,u);break e}else if(h!==y){y=Gr(Error(r(424)),s),Zc(y),s=jA(i,s,h,u);break e}else for(i=s.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,St=Qr(i.firstChild),Rn=s,Je=!0,Is=null,Yr=!0,u=RS(s,null,h,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Xo(),h===y){s=Da(i,s,u);break e}Nn(i,s,h,u)}s=s.child}return s;case 26:return ip(i,s),i===null?(u=Qx(s.type,null,s.pendingProps,null))?s.memoizedState=u:Je||(u=s.type,i=s.pendingProps,h=wp(De.current).createElement(u),h[Zt]=s,h[vn]=i,kn(h,u,i),Jt(h),s.stateNode=h):s.memoizedState=Qx(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return je(s),i===null&&Je&&(h=s.stateNode=Wx(s.type,s.pendingProps,De.current),Rn=s,Yr=!0,y=St,Hs(s.type)?(V0=y,St=Qr(h.firstChild)):St=y),Nn(i,s,s.pendingProps.children,u),ip(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Je&&((y=h=St)&&(h=K6(h,s.type,s.pendingProps,Yr),h!==null?(s.stateNode=h,Rn=s,St=Qr(h.firstChild),Yr=!1,y=!0):y=!1),y||Ps(s)),je(s),y=s.type,b=s.pendingProps,A=i!==null?i.memoizedProps:null,h=b.children,N0(y,b)?h=null:A!==null&&N0(y,A)&&(s.flags|=32),s.memoizedState!==null&&(y=Dv(i,s,l6,null,null,u),xf._currentValue=y),ip(i,s),Nn(i,s,h,u),s.child;case 6:return i===null&&Je&&((i=u=St)&&(u=W6(u,s.pendingProps,Yr),u!==null?(s.stateNode=u,Rn=s,St=null,i=!0):i=!1),i||Ps(s)),null;case 13:return LA(i,s,u);case 4:return ht(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=nl(s,null,h,u):Nn(i,s,h,u),s.child;case 11:return CA(i,s,s.type,s.pendingProps,u);case 7:return Nn(i,s,s.pendingProps,u),s.child;case 8:return Nn(i,s,s.pendingProps.children,u),s.child;case 12:return Nn(i,s,s.pendingProps.children,u),s.child;case 10:return h=s.pendingProps,Rs(s,s.type,h.value),Nn(i,s,h.children,u),s.child;case 9:return y=s.type._context,h=s.pendingProps.children,Zo(s),y=Dn(y),h=h(y),s.flags|=1,Nn(i,s,h,u),s.child;case 14:return IA(i,s,s.type,s.pendingProps,u);case 15:return PA(i,s,s.type,s.pendingProps,u);case 19:return UA(i,s,u);case 31:return g6(i,s,u);case 22:return RA(i,s,u,s.pendingProps);case 24:return Zo(s),h=Dn(tn),i===null?(y=Ev(),y===null&&(y=yt,b=_v(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=u),y=b),s.memoizedState={parent:h,cache:y},Sv(s),Rs(s,tn,y)):((i.lanes&u)!==0&&(Av(i,s),sf(s,null,null,u),af()),y=i.memoizedState,b=s.memoizedState,y.parent!==h?(y={parent:h,cache:h},s.memoizedState=y,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=y),Rs(s,tn,h)):(h=b.cache,Rs(s,tn,h),h!==y.cache&&bv(s,[tn],u,!0))),Nn(i,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Na(i){i.flags|=4}function s0(i,s,u,h,y){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(y&335544128)===y)if(i.stateNode.complete)i.flags|=8192;else if(dx())i.flags|=8192;else throw tl=Fd,Tv}else i.flags&=-16777217}function BA(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!nO(s))if(dx())i.flags|=8192;else throw tl=Fd,Tv}function sp(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?hd():536870912,i.lanes|=s,Eu|=s)}function hf(i,s){if(!Je)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function At(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,h=0;if(s)for(var y=i.child;y!==null;)u|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)u|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=h,i.childLanes=u,s}function v6(i,s,u){var h=s.pendingProps;switch(pv(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(s),null;case 1:return At(s),null;case 3:return u=s.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),Ia(tn),le(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(uu(s)?Na(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,gv())),At(s),null;case 26:var y=s.type,b=s.memoizedState;return i===null?(Na(s),b!==null?(At(s),BA(s,b)):(At(s),s0(s,y,null,h,u))):b?b!==i.memoizedState?(Na(s),At(s),BA(s,b)):(At(s),s.flags&=-16777217):(i=i.memoizedProps,i!==h&&Na(s),At(s),s0(s,y,i,h,u)),null;case 27:if(Fe(s),u=De.current,y=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==h&&Na(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return At(s),null}i=pe.current,uu(s)?_S(s):(i=Wx(y,h,u),s.stateNode=i,Na(s))}return At(s),null;case 5:if(Fe(s),y=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==h&&Na(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return At(s),null}if(b=pe.current,uu(s))_S(s);else{var A=wp(De.current);switch(b){case 1:b=A.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:b=A.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":b=A.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":b=A.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":b=A.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof h.is=="string"?A.createElement("select",{is:h.is}):A.createElement("select"),h.multiple?b.multiple=!0:h.size&&(b.size=h.size);break;default:b=typeof h.is=="string"?A.createElement(y,{is:h.is}):A.createElement(y)}}b[Zt]=s,b[vn]=h;e:for(A=s.child;A!==null;){if(A.tag===5||A.tag===6)b.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===s)break e;for(;A.sibling===null;){if(A.return===null||A.return===s)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}s.stateNode=b;e:switch(kn(b,y,h),y){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Na(s)}}return At(s),s0(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,u),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==h&&Na(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(i=De.current,uu(s)){if(i=s.stateNode,u=s.memoizedProps,h=null,y=Rn,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}i[Zt]=s,i=!!(i.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||Lx(i.nodeValue,u)),i||Ps(s,!0)}else i=wp(i).createTextNode(h),i[Zt]=s,s.stateNode=i}return At(s),null;case 31:if(u=s.memoizedState,i===null||i.memoizedState!==null){if(h=uu(s),u!==null){if(i===null){if(!h)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Zt]=s}else Xo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;At(s),i=!1}else u=gv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return s.flags&256?(Pr(s),s):(Pr(s),null);if((s.flags&128)!==0)throw Error(r(558))}return At(s),null;case 13:if(h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=uu(s),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(r(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[Zt]=s}else Xo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;At(s),y=!1}else y=gv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return s.flags&256?(Pr(s),s):(Pr(s),null)}return Pr(s),(s.flags&128)!==0?(s.lanes=u,s):(u=h!==null,i=i!==null&&i.memoizedState!==null,u&&(h=s.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool),b=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),b!==y&&(h.flags|=2048)),u!==i&&u&&(s.child.flags|=8192),sp(s,s.updateQueue),At(s),null);case 4:return le(),i===null&&C0(s.stateNode.containerInfo),At(s),null;case 10:return Ia(s.type),At(s),null;case 19:if(J(Kt),h=s.memoizedState,h===null)return At(s),null;if(y=(s.flags&128)!==0,b=h.rendering,b===null)if(y)hf(h,!1);else{if(Mt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(b=Kd(i),b!==null){for(s.flags|=128,hf(h,!1),i=b.updateQueue,s.updateQueue=i,sp(s,i),s.subtreeFlags=0,i=u,u=s.child;u!==null;)mS(u,i),u=u.sibling;return fe(Kt,Kt.current&1|2),Je&&Oa(s,h.treeForkCount),s.child}i=i.sibling}h.tail!==null&&Qn()>fp&&(s.flags|=128,y=!0,hf(h,!1),s.lanes=4194304)}else{if(!y)if(i=Kd(b),i!==null){if(s.flags|=128,y=!0,i=i.updateQueue,s.updateQueue=i,sp(s,i),hf(h,!0),h.tail===null&&h.tailMode==="hidden"&&!b.alternate&&!Je)return At(s),null}else 2*Qn()-h.renderingStartTime>fp&&u!==536870912&&(s.flags|=128,y=!0,hf(h,!1),s.lanes=4194304);h.isBackwards?(b.sibling=s.child,s.child=b):(i=h.last,i!==null?i.sibling=b:s.child=b,h.last=b)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Qn(),i.sibling=null,u=Kt.current,fe(Kt,y?u&1|2:u&1),Je&&Oa(s,h.treeForkCount),i):(At(s),null);case 22:case 23:return Pr(s),Iv(),h=s.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(u&536870912)!==0&&(s.flags&128)===0&&(At(s),s.subtreeFlags&6&&(s.flags|=8192)):At(s),u=s.updateQueue,u!==null&&sp(s,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==u&&(s.flags|=2048),i!==null&&J(Jo),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ia(tn),At(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function b6(i,s){switch(pv(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ia(tn),le(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Fe(s),null;case 31:if(s.memoizedState!==null){if(Pr(s),s.alternate===null)throw Error(r(340));Xo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Pr(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Xo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return J(Kt),null;case 4:return le(),null;case 10:return Ia(s.type),null;case 22:case 23:return Pr(s),Iv(),i!==null&&J(Jo),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Ia(tn),null;case 25:return null;default:return null}}function qA(i,s){switch(pv(s),s.tag){case 3:Ia(tn),le();break;case 26:case 27:case 5:Fe(s);break;case 4:le();break;case 31:s.memoizedState!==null&&Pr(s);break;case 13:Pr(s);break;case 19:J(Kt);break;case 10:Ia(s.type);break;case 22:case 23:Pr(s),Iv(),i!==null&&J(Jo);break;case 24:Ia(tn)}}function df(i,s){try{var u=s.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var y=h.next;u=y;do{if((u.tag&i)===i){h=void 0;var b=u.create,A=u.inst;h=b(),A.destroy=h}u=u.next}while(u!==y)}}catch(N){ct(s,s.return,N)}}function Ls(i,s,u){try{var h=s.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var b=y.next;h=b;do{if((h.tag&i)===i){var A=h.inst,N=A.destroy;if(N!==void 0){A.destroy=void 0,y=s;var $=u,ee=N;try{ee()}catch(se){ct(y,$,se)}}}h=h.next}while(h!==b)}}catch(se){ct(s,s.return,se)}}function FA(i){var s=i.updateQueue;if(s!==null){var u=i.stateNode;try{NS(s,u)}catch(h){ct(i,i.return,h)}}}function HA(i,s,u){u.props=il(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(h){ct(i,s,h)}}function pf(i,s){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof u=="function"?i.refCleanup=u(h):u.current=h}}catch(y){ct(i,s,y)}}function Ji(i,s){var u=i.ref,h=i.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(y){ct(i,s,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){ct(i,s,y)}else u.current=null}function $A(i){var s=i.type,u=i.memoizedProps,h=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(y){ct(i,i.return,y)}}function o0(i,s,u){try{var h=i.stateNode;B6(h,i.type,u,s),h[vn]=s}catch(y){ct(i,i.return,y)}}function GA(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Hs(i.type)||i.tag===4}function l0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||GA(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Hs(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function u0(i,s,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(i),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=pi));else if(h!==4&&(h===27&&Hs(i.type)&&(u=i.stateNode,s=null),i=i.child,i!==null))for(u0(i,s,u),i=i.sibling;i!==null;)u0(i,s,u),i=i.sibling}function op(i,s,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?u.insertBefore(i,s):u.appendChild(i);else if(h!==4&&(h===27&&Hs(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(op(i,s,u),i=i.sibling;i!==null;)op(i,s,u),i=i.sibling}function KA(i){var s=i.stateNode,u=i.memoizedProps;try{for(var h=i.type,y=s.attributes;y.length;)s.removeAttributeNode(y[0]);kn(s,h,u),s[Zt]=i,s[vn]=u}catch(b){ct(i,i.return,b)}}var ka=!1,an=!1,c0=!1,WA=typeof WeakSet=="function"?WeakSet:Set,_n=null;function _6(i,s){if(i=i.containerInfo,R0=Cp,i=sS(i),rv(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var y=h.anchorOffset,b=h.focusNode;h=h.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var A=0,N=-1,$=-1,ee=0,se=0,he=i,te=null;t:for(;;){for(var ie;he!==u||y!==0&&he.nodeType!==3||(N=A+y),he!==b||h!==0&&he.nodeType!==3||($=A+h),he.nodeType===3&&(A+=he.nodeValue.length),(ie=he.firstChild)!==null;)te=he,he=ie;for(;;){if(he===i)break t;if(te===u&&++ee===y&&(N=A),te===b&&++se===h&&($=A),(ie=he.nextSibling)!==null)break;he=te,te=he.parentNode}he=ie}u=N===-1||$===-1?null:{start:N,end:$}}else u=null}u=u||{start:0,end:0}}else u=null;for(D0={focusedElem:i,selectionRange:u},Cp=!1,_n=s;_n!==null;)if(s=_n,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,_n=i;else for(;_n!==null;){switch(s=_n,b=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)y=i[u],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,u=s,y=b.memoizedProps,b=b.memoizedState,h=u.stateNode;try{var Te=il(u.type,y);i=h.getSnapshotBeforeUpdate(Te,b),h.__reactInternalSnapshotBeforeUpdate=i}catch(Re){ct(u,u.return,Re)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,u=i.nodeType,u===9)M0(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":M0(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,_n=i;break}_n=s.return}}function YA(i,s,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:ja(i,u),h&4&&df(5,u);break;case 1:if(ja(i,u),h&4)if(i=u.stateNode,s===null)try{i.componentDidMount()}catch(A){ct(u,u.return,A)}else{var y=il(u.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(y,s,i.__reactInternalSnapshotBeforeUpdate)}catch(A){ct(u,u.return,A)}}h&64&&FA(u),h&512&&pf(u,u.return);break;case 3:if(ja(i,u),h&64&&(i=u.updateQueue,i!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{NS(i,s)}catch(A){ct(u,u.return,A)}}break;case 27:s===null&&h&4&&KA(u);case 26:case 5:ja(i,u),s===null&&h&4&&$A(u),h&512&&pf(u,u.return);break;case 12:ja(i,u);break;case 31:ja(i,u),h&4&&ZA(i,u);break;case 13:ja(i,u),h&4&&JA(i,u),h&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=I6.bind(null,u),Y6(i,u))));break;case 22:if(h=u.memoizedState!==null||ka,!h){s=s!==null&&s.memoizedState!==null||an,y=ka;var b=an;ka=h,(an=s)&&!b?La(i,u,(u.subtreeFlags&8772)!==0):ja(i,u),ka=y,an=b}break;case 30:break;default:ja(i,u)}}function XA(i){var s=i.alternate;s!==null&&(i.alternate=null,XA(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Gl(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var It=null,lr=!1;function Ma(i,s,u){for(u=u.child;u!==null;)QA(i,s,u),u=u.sibling}function QA(i,s,u){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(ci,u)}catch{}switch(u.tag){case 26:an||Ji(u,s),Ma(i,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:an||Ji(u,s);var h=It,y=lr;Hs(u.type)&&(It=u.stateNode,lr=!1),Ma(i,s,u),Tf(u.stateNode),It=h,lr=y;break;case 5:an||Ji(u,s);case 6:if(h=It,y=lr,It=null,Ma(i,s,u),It=h,lr=y,It!==null)if(lr)try{(It.nodeType===9?It.body:It.nodeName==="HTML"?It.ownerDocument.body:It).removeChild(u.stateNode)}catch(b){ct(u,s,b)}else try{It.removeChild(u.stateNode)}catch(b){ct(u,s,b)}break;case 18:It!==null&&(lr?(i=It,Fx(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),Pu(i)):Fx(It,u.stateNode));break;case 4:h=It,y=lr,It=u.stateNode.containerInfo,lr=!0,Ma(i,s,u),It=h,lr=y;break;case 0:case 11:case 14:case 15:Ls(2,u,s),an||Ls(4,u,s),Ma(i,s,u);break;case 1:an||(Ji(u,s),h=u.stateNode,typeof h.componentWillUnmount=="function"&&HA(u,s,h)),Ma(i,s,u);break;case 21:Ma(i,s,u);break;case 22:an=(h=an)||u.memoizedState!==null,Ma(i,s,u),an=h;break;default:Ma(i,s,u)}}function ZA(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Pu(i)}catch(u){ct(s,s.return,u)}}}function JA(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Pu(i)}catch(u){ct(s,s.return,u)}}function w6(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new WA),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new WA),s;default:throw Error(r(435,i.tag))}}function lp(i,s){var u=w6(i);s.forEach(function(h){if(!u.has(h)){u.add(h);var y=P6.bind(null,i,h);h.then(y,y)}})}function ur(i,s){var u=s.deletions;if(u!==null)for(var h=0;h<u.length;h++){var y=u[h],b=i,A=s,N=A;e:for(;N!==null;){switch(N.tag){case 27:if(Hs(N.type)){It=N.stateNode,lr=!1;break e}break;case 5:It=N.stateNode,lr=!1;break e;case 3:case 4:It=N.stateNode.containerInfo,lr=!0;break e}N=N.return}if(It===null)throw Error(r(160));QA(b,A,y),It=null,lr=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)ex(s,i),s=s.sibling}var _i=null;function ex(i,s){var u=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ur(s,i),cr(i),h&4&&(Ls(3,i,i.return),df(3,i),Ls(5,i,i.return));break;case 1:ur(s,i),cr(i),h&512&&(an||u===null||Ji(u,u.return)),h&64&&ka&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var y=_i;if(ur(s,i),cr(i),h&512&&(an||u===null||Ji(u,u.return)),h&4){var b=u!==null?u.memoizedState:null;if(h=i.memoizedState,u===null)if(h===null)if(i.stateNode===null){e:{h=i.type,u=i.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":b=y.getElementsByTagName("title")[0],(!b||b[Ui]||b[Zt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(h),y.head.insertBefore(b,y.querySelector("head > title"))),kn(b,h,u),b[Zt]=i,Jt(b),h=b;break e;case"link":var A=eO("link","href",y).get(h+(u.href||""));if(A){for(var N=0;N<A.length;N++)if(b=A[N],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){A.splice(N,1);break t}}b=y.createElement(h),kn(b,h,u),y.head.appendChild(b);break;case"meta":if(A=eO("meta","content",y).get(h+(u.content||""))){for(N=0;N<A.length;N++)if(b=A[N],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){A.splice(N,1);break t}}b=y.createElement(h),kn(b,h,u),y.head.appendChild(b);break;default:throw Error(r(468,h))}b[Zt]=i,Jt(b),h=b}i.stateNode=h}else tO(y,i.type,i.stateNode);else i.stateNode=Jx(y,h,i.memoizedProps);else b!==h?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,h===null?tO(y,i.type,i.stateNode):Jx(y,h,i.memoizedProps)):h===null&&i.stateNode!==null&&o0(i,i.memoizedProps,u.memoizedProps)}break;case 27:ur(s,i),cr(i),h&512&&(an||u===null||Ji(u,u.return)),u!==null&&h&4&&o0(i,i.memoizedProps,u.memoizedProps);break;case 5:if(ur(s,i),cr(i),h&512&&(an||u===null||Ji(u,u.return)),i.flags&32){y=i.stateNode;try{or(y,"")}catch(Te){ct(i,i.return,Te)}}h&4&&i.stateNode!=null&&(y=i.memoizedProps,o0(i,y,u!==null?u.memoizedProps:y)),h&1024&&(c0=!0);break;case 6:if(ur(s,i),cr(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,u=i.stateNode;try{u.nodeValue=h}catch(Te){ct(i,i.return,Te)}}break;case 3:if(Sp=null,y=_i,_i=Ep(s.containerInfo),ur(s,i),_i=y,cr(i),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Pu(s.containerInfo)}catch(Te){ct(i,i.return,Te)}c0&&(c0=!1,tx(i));break;case 4:h=_i,_i=Ep(i.stateNode.containerInfo),ur(s,i),cr(i),_i=h;break;case 12:ur(s,i),cr(i);break;case 31:ur(s,i),cr(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,lp(i,h)));break;case 13:ur(s,i),cr(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(cp=Qn()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,lp(i,h)));break;case 22:y=i.memoizedState!==null;var $=u!==null&&u.memoizedState!==null,ee=ka,se=an;if(ka=ee||y,an=se||$,ur(s,i),an=se,ka=ee,cr(i),h&8192)e:for(s=i.stateNode,s._visibility=y?s._visibility&-2:s._visibility|1,y&&(u===null||$||ka||an||al(i)),u=null,s=i;;){if(s.tag===5||s.tag===26){if(u===null){$=u=s;try{if(b=$.stateNode,y)A=b.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{N=$.stateNode;var he=$.memoizedProps.style,te=he!=null&&he.hasOwnProperty("display")?he.display:null;N.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(Te){ct($,$.return,Te)}}}else if(s.tag===6){if(u===null){$=s;try{$.stateNode.nodeValue=y?"":$.memoizedProps}catch(Te){ct($,$.return,Te)}}}else if(s.tag===18){if(u===null){$=s;try{var ie=$.stateNode;y?Hx(ie,!0):Hx($.stateNode,!1)}catch(Te){ct($,$.return,Te)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=i.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,lp(i,u))));break;case 19:ur(s,i),cr(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,lp(i,h)));break;case 30:break;case 21:break;default:ur(s,i),cr(i)}}function cr(i){var s=i.flags;if(s&2){try{for(var u,h=i.return;h!==null;){if(GA(h)){u=h;break}h=h.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var y=u.stateNode,b=l0(i);op(i,b,y);break;case 5:var A=u.stateNode;u.flags&32&&(or(A,""),u.flags&=-33);var N=l0(i);op(i,N,A);break;case 3:case 4:var $=u.stateNode.containerInfo,ee=l0(i);u0(i,ee,$);break;default:throw Error(r(161))}}catch(se){ct(i,i.return,se)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function tx(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;tx(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function ja(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)YA(i,s.alternate,s),s=s.sibling}function al(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Ls(4,s,s.return),al(s);break;case 1:Ji(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&HA(s,s.return,u),al(s);break;case 27:Tf(s.stateNode);case 26:case 5:Ji(s,s.return),al(s);break;case 22:s.memoizedState===null&&al(s);break;case 30:al(s);break;default:al(s)}i=i.sibling}}function La(i,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,y=i,b=s,A=b.flags;switch(b.tag){case 0:case 11:case 15:La(y,b,u),df(4,b);break;case 1:if(La(y,b,u),h=b,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ee){ct(h,h.return,ee)}if(h=b,y=h.updateQueue,y!==null){var N=h.stateNode;try{var $=y.shared.hiddenCallbacks;if($!==null)for(y.shared.hiddenCallbacks=null,y=0;y<$.length;y++)DS($[y],N)}catch(ee){ct(h,h.return,ee)}}u&&A&64&&FA(b),pf(b,b.return);break;case 27:KA(b);case 26:case 5:La(y,b,u),u&&h===null&&A&4&&$A(b),pf(b,b.return);break;case 12:La(y,b,u);break;case 31:La(y,b,u),u&&A&4&&ZA(y,b);break;case 13:La(y,b,u),u&&A&4&&JA(y,b);break;case 22:b.memoizedState===null&&La(y,b,u),pf(b,b.return);break;case 30:break;default:La(y,b,u)}s=s.sibling}}function f0(i,s){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&Jc(u))}function h0(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Jc(i))}function wi(i,s,u,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)nx(i,s,u,h),s=s.sibling}function nx(i,s,u,h){var y=s.flags;switch(s.tag){case 0:case 11:case 15:wi(i,s,u,h),y&2048&&df(9,s);break;case 1:wi(i,s,u,h);break;case 3:wi(i,s,u,h),y&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Jc(i)));break;case 12:if(y&2048){wi(i,s,u,h),i=s.stateNode;try{var b=s.memoizedProps,A=b.id,N=b.onPostCommit;typeof N=="function"&&N(A,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch($){ct(s,s.return,$)}}else wi(i,s,u,h);break;case 31:wi(i,s,u,h);break;case 13:wi(i,s,u,h);break;case 23:break;case 22:b=s.stateNode,A=s.alternate,s.memoizedState!==null?b._visibility&2?wi(i,s,u,h):mf(i,s):b._visibility&2?wi(i,s,u,h):(b._visibility|=2,bu(i,s,u,h,(s.subtreeFlags&10256)!==0||!1)),y&2048&&f0(A,s);break;case 24:wi(i,s,u,h),y&2048&&h0(s.alternate,s);break;default:wi(i,s,u,h)}}function bu(i,s,u,h,y){for(y=y&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var b=i,A=s,N=u,$=h,ee=A.flags;switch(A.tag){case 0:case 11:case 15:bu(b,A,N,$,y),df(8,A);break;case 23:break;case 22:var se=A.stateNode;A.memoizedState!==null?se._visibility&2?bu(b,A,N,$,y):mf(b,A):(se._visibility|=2,bu(b,A,N,$,y)),y&&ee&2048&&f0(A.alternate,A);break;case 24:bu(b,A,N,$,y),y&&ee&2048&&h0(A.alternate,A);break;default:bu(b,A,N,$,y)}s=s.sibling}}function mf(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=i,h=s,y=h.flags;switch(h.tag){case 22:mf(u,h),y&2048&&f0(h.alternate,h);break;case 24:mf(u,h),y&2048&&h0(h.alternate,h);break;default:mf(u,h)}s=s.sibling}}var gf=8192;function _u(i,s,u){if(i.subtreeFlags&gf)for(i=i.child;i!==null;)rx(i,s,u),i=i.sibling}function rx(i,s,u){switch(i.tag){case 26:_u(i,s,u),i.flags&gf&&i.memoizedState!==null&&oU(u,_i,i.memoizedState,i.memoizedProps);break;case 5:_u(i,s,u);break;case 3:case 4:var h=_i;_i=Ep(i.stateNode.containerInfo),_u(i,s,u),_i=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=gf,gf=16777216,_u(i,s,u),gf=h):_u(i,s,u));break;default:_u(i,s,u)}}function ix(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function yf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var h=s[u];_n=h,sx(h,i)}ix(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ax(i),i=i.sibling}function ax(i){switch(i.tag){case 0:case 11:case 15:yf(i),i.flags&2048&&Ls(9,i,i.return);break;case 3:yf(i);break;case 12:yf(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,up(i)):yf(i);break;default:yf(i)}}function up(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var h=s[u];_n=h,sx(h,i)}ix(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Ls(8,s,s.return),up(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,up(s));break;default:up(s)}i=i.sibling}}function sx(i,s){for(;_n!==null;){var u=_n;switch(u.tag){case 0:case 11:case 15:Ls(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Jc(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,_n=h;else e:for(u=i;_n!==null;){h=_n;var y=h.sibling,b=h.return;if(XA(h),h===u){_n=null;break e}if(y!==null){y.return=b,_n=y;break e}_n=b}}}var E6={getCacheForType:function(i){var s=Dn(tn),u=s.data.get(i);return u===void 0&&(u=i(),s.data.set(i,u)),u},cacheSignal:function(){return Dn(tn).controller.signal}},T6=typeof WeakMap=="function"?WeakMap:Map,st=0,yt=null,$e=null,We=0,ut=0,Rr=null,Vs=!1,wu=!1,d0=!1,Va=0,Mt=0,Us=0,sl=0,p0=0,Dr=0,Eu=0,vf=null,fr=null,m0=!1,cp=0,ox=0,fp=1/0,hp=null,zs=null,dn=0,Bs=null,Tu=null,Ua=0,g0=0,y0=null,lx=null,bf=0,v0=null;function Nr(){return(st&2)!==0&&We!==0?We&-We:Y.T!==null?S0():dd()}function ux(){if(Dr===0)if((We&536870912)===0||Je){var i=No;No<<=1,(No&3932160)===0&&(No=262144),Dr=i}else Dr=536870912;return i=Ir.current,i!==null&&(i.flags|=32),Dr}function hr(i,s,u){(i===yt&&(ut===2||ut===9)||i.cancelPendingCommit!==null)&&(Su(i,0),qs(i,We,Dr,!1)),ko(i,u),((st&2)===0||i!==yt)&&(i===yt&&((st&2)===0&&(sl|=u),Mt===4&&qs(i,We,Dr,!1)),ea(i))}function cx(i,s,u){if((st&6)!==0)throw Error(r(327));var h=!u&&(s&127)===0&&(s&i.expiredLanes)===0||fi(i,s),y=h?x6(i,s):_0(i,s,!0),b=h;do{if(y===0){wu&&!h&&qs(i,s,0,!1);break}else{if(u=i.current.alternate,b&&!S6(u)){y=_0(i,s,!1),b=!1;continue}if(y===2){if(b=s,i.errorRecoveryDisabledLanes&b)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){s=A;e:{var N=i;y=vf;var $=N.current.memoizedState.isDehydrated;if($&&(Su(N,A).flags|=256),A=_0(N,A,!1),A!==2){if(d0&&!$){N.errorRecoveryDisabledLanes|=b,sl|=b,y=4;break e}b=fr,fr=y,b!==null&&(fr===null?fr=b:fr.push.apply(fr,b))}y=A}if(b=!1,y!==2)continue}}if(y===1){Su(i,0),qs(i,s,0,!0);break}e:{switch(h=i,b=y,b){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:qs(h,s,Dr,!Vs);break e;case 2:fr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(y=cp+300-Qn(),10<y)){if(qs(h,s,Dr,!Vs),ji(h,0,!0)!==0)break e;Ua=s,h.timeoutHandle=Bx(fx.bind(null,h,u,fr,hp,m0,s,Dr,sl,Eu,Vs,b,"Throttled",-0,0),y);break e}fx(h,u,fr,hp,m0,s,Dr,sl,Eu,Vs,b,null,-0,0)}}break}while(!0);ea(i)}function fx(i,s,u,h,y,b,A,N,$,ee,se,he,te,ie){if(i.timeoutHandle=-1,he=s.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pi},rx(s,b,he);var Te=(b&62914560)===b?cp-Qn():(b&4194048)===b?ox-Qn():0;if(Te=lU(he,Te),Te!==null){Ua=b,i.cancelPendingCommit=Te(bx.bind(null,i,s,b,u,h,y,A,N,$,se,he,null,te,ie)),qs(i,b,A,!ee);return}}bx(i,s,b,u,h,y,A,N,$)}function S6(i){for(var s=i;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var y=u[h],b=y.getSnapshot;y=y.value;try{if(!Or(b(),y))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function qs(i,s,u,h){s&=~p0,s&=~sl,i.suspendedLanes|=s,i.pingedLanes&=~s,h&&(i.warmLanes|=s),h=i.expirationTimes;for(var y=s;0<y;){var b=31-$t(y),A=1<<b;h[b]=-1,y&=~A}u!==0&&Mo(i,u,s)}function dp(){return(st&6)===0?(_f(0),!1):!0}function b0(){if($e!==null){if(ut===0)var i=$e.return;else i=$e,Ca=Qo=null,Mv(i),pu=null,tf=0,i=$e;for(;i!==null;)qA(i.alternate,i),i=i.return;$e=null}}function Su(i,s){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,H6(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Ua=0,b0(),yt=i,$e=u=xa(i.current,null),We=s,ut=0,Rr=null,Vs=!1,wu=fi(i,s),d0=!1,Eu=Dr=p0=sl=Us=Mt=0,fr=vf=null,m0=!1,(s&8)!==0&&(s|=s&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=s;0<h;){var y=31-$t(h),b=1<<y;s|=i[y],h&=~b}return Va=s,kd(),u}function hx(i,s){ze=null,Y.H=cf,s===du||s===qd?(s=CS(),ut=3):s===Tv?(s=CS(),ut=4):ut=s===Qv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Rr=s,$e===null&&(Mt=1,np(i,Gr(s,i.current)))}function dx(){var i=Ir.current;return i===null?!0:(We&4194048)===We?Xr===null:(We&62914560)===We||(We&536870912)!==0?i===Xr:!1}function px(){var i=Y.H;return Y.H=cf,i===null?cf:i}function mx(){var i=Y.A;return Y.A=E6,i}function pp(){Mt=4,Vs||(We&4194048)!==We&&Ir.current!==null||(wu=!0),(Us&134217727)===0&&(sl&134217727)===0||yt===null||qs(yt,We,Dr,!1)}function _0(i,s,u){var h=st;st|=2;var y=px(),b=mx();(yt!==i||We!==s)&&(hp=null,Su(i,s)),s=!1;var A=Mt;e:do try{if(ut!==0&&$e!==null){var N=$e,$=Rr;switch(ut){case 8:b0(),A=6;break e;case 3:case 2:case 9:case 6:Ir.current===null&&(s=!0);var ee=ut;if(ut=0,Rr=null,Au(i,N,$,ee),u&&wu){A=0;break e}break;default:ee=ut,ut=0,Rr=null,Au(i,N,$,ee)}}A6(),A=Mt;break}catch(se){hx(i,se)}while(!0);return s&&i.shellSuspendCounter++,Ca=Qo=null,st=h,Y.H=y,Y.A=b,$e===null&&(yt=null,We=0,kd()),A}function A6(){for(;$e!==null;)gx($e)}function x6(i,s){var u=st;st|=2;var h=px(),y=mx();yt!==i||We!==s?(hp=null,fp=Qn()+500,Su(i,s)):wu=fi(i,s);e:do try{if(ut!==0&&$e!==null){s=$e;var b=Rr;t:switch(ut){case 1:ut=0,Rr=null,Au(i,s,b,1);break;case 2:case 9:if(xS(b)){ut=0,Rr=null,yx(s);break}s=function(){ut!==2&&ut!==9||yt!==i||(ut=7),ea(i)},b.then(s,s);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:xS(b)?(ut=0,Rr=null,yx(s)):(ut=0,Rr=null,Au(i,s,b,7));break;case 5:var A=null;switch($e.tag){case 26:A=$e.memoizedState;case 5:case 27:var N=$e;if(A?nO(A):N.stateNode.complete){ut=0,Rr=null;var $=N.sibling;if($!==null)$e=$;else{var ee=N.return;ee!==null?($e=ee,mp(ee)):$e=null}break t}}ut=0,Rr=null,Au(i,s,b,5);break;case 6:ut=0,Rr=null,Au(i,s,b,6);break;case 8:b0(),Mt=6;break e;default:throw Error(r(462))}}O6();break}catch(se){hx(i,se)}while(!0);return Ca=Qo=null,Y.H=h,Y.A=y,st=u,$e!==null?0:(yt=null,We=0,kd(),Mt)}function O6(){for(;$e!==null&&!Xy();)gx($e)}function gx(i){var s=zA(i.alternate,i,Va);i.memoizedProps=i.pendingProps,s===null?mp(i):$e=s}function yx(i){var s=i,u=s.alternate;switch(s.tag){case 15:case 0:s=kA(u,s,s.pendingProps,s.type,void 0,We);break;case 11:s=kA(u,s,s.pendingProps,s.type.render,s.ref,We);break;case 5:Mv(s);default:qA(u,s),s=$e=mS(s,Va),s=zA(u,s,Va)}i.memoizedProps=i.pendingProps,s===null?mp(i):$e=s}function Au(i,s,u,h){Ca=Qo=null,Mv(s),pu=null,tf=0;var y=s.return;try{if(m6(i,y,s,u,We)){Mt=1,np(i,Gr(u,i.current)),$e=null;return}}catch(b){if(y!==null)throw $e=y,b;Mt=1,np(i,Gr(u,i.current)),$e=null;return}s.flags&32768?(Je||h===1?i=!0:wu||(We&536870912)!==0?i=!1:(Vs=i=!0,(h===2||h===9||h===3||h===6)&&(h=Ir.current,h!==null&&h.tag===13&&(h.flags|=16384))),vx(s,i)):mp(s)}function mp(i){var s=i;do{if((s.flags&32768)!==0){vx(s,Vs);return}i=s.return;var u=v6(s.alternate,s,Va);if(u!==null){$e=u;return}if(s=s.sibling,s!==null){$e=s;return}$e=s=i}while(s!==null);Mt===0&&(Mt=5)}function vx(i,s){do{var u=b6(i.alternate,i);if(u!==null){u.flags&=32767,$e=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(i=i.sibling,i!==null)){$e=i;return}$e=i=u}while(i!==null);Mt=6,$e=null}function bx(i,s,u,h,y,b,A,N,$){i.cancelPendingCommit=null;do gp();while(dn!==0);if((st&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(b=s.lanes|s.childLanes,b|=lv,Jy(i,u,b,A,N,$),i===yt&&($e=yt=null,We=0),Tu=s,Bs=i,Ua=u,g0=b,y0=y,lx=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,R6(vs,function(){return Sx(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=Y.T,Y.T=null,y=oe.p,oe.p=2,A=st,st|=4;try{_6(i,s,u)}finally{st=A,oe.p=y,Y.T=h}}dn=1,_x(),wx(),Ex()}}function _x(){if(dn===1){dn=0;var i=Bs,s=Tu,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null;var h=oe.p;oe.p=2;var y=st;st|=4;try{ex(s,i);var b=D0,A=sS(i.containerInfo),N=b.focusedElem,$=b.selectionRange;if(A!==N&&N&&N.ownerDocument&&aS(N.ownerDocument.documentElement,N)){if($!==null&&rv(N)){var ee=$.start,se=$.end;if(se===void 0&&(se=ee),"selectionStart"in N)N.selectionStart=ee,N.selectionEnd=Math.min(se,N.value.length);else{var he=N.ownerDocument||document,te=he&&he.defaultView||window;if(te.getSelection){var ie=te.getSelection(),Te=N.textContent.length,Re=Math.min($.start,Te),gt=$.end===void 0?Re:Math.min($.end,Te);!ie.extend&&Re>gt&&(A=gt,gt=Re,Re=A);var K=iS(N,Re),G=iS(N,gt);if(K&&G&&(ie.rangeCount!==1||ie.anchorNode!==K.node||ie.anchorOffset!==K.offset||ie.focusNode!==G.node||ie.focusOffset!==G.offset)){var Q=he.createRange();Q.setStart(K.node,K.offset),ie.removeAllRanges(),Re>gt?(ie.addRange(Q),ie.extend(G.node,G.offset)):(Q.setEnd(G.node,G.offset),ie.addRange(Q))}}}}for(he=[],ie=N;ie=ie.parentNode;)ie.nodeType===1&&he.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<he.length;N++){var ue=he[N];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}Cp=!!R0,D0=R0=null}finally{st=y,oe.p=h,Y.T=u}}i.current=s,dn=2}}function wx(){if(dn===2){dn=0;var i=Bs,s=Tu,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=Y.T,Y.T=null;var h=oe.p;oe.p=2;var y=st;st|=4;try{YA(i,s.alternate,s)}finally{st=y,oe.p=h,Y.T=u}}dn=3}}function Ex(){if(dn===4||dn===3){dn=0,sd();var i=Bs,s=Tu,u=Ua,h=lx;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?dn=5:(dn=0,Tu=Bs=null,Tx(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(zs=null),Ea(u),s=s.stateNode,In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(ci,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=Y.T,y=oe.p,oe.p=2,Y.T=null;try{for(var b=i.onRecoverableError,A=0;A<h.length;A++){var N=h[A];b(N.value,{componentStack:N.stack})}}finally{Y.T=s,oe.p=y}}(Ua&3)!==0&&gp(),ea(i),y=i.pendingLanes,(u&261930)!==0&&(y&42)!==0?i===v0?bf++:(bf=0,v0=i):bf=0,_f(0)}}function Tx(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Jc(s)))}function gp(){return _x(),wx(),Ex(),Sx()}function Sx(){if(dn!==5)return!1;var i=Bs,s=g0;g0=0;var u=Ea(Ua),h=Y.T,y=oe.p;try{oe.p=32>u?32:u,Y.T=null,u=y0,y0=null;var b=Bs,A=Ua;if(dn=0,Tu=Bs=null,Ua=0,(st&6)!==0)throw Error(r(331));var N=st;if(st|=4,ax(b.current),nx(b,b.current,A,u),st=N,_f(0,!1),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(ci,b)}catch{}return!0}finally{oe.p=y,Y.T=h,Tx(i,s)}}function Ax(i,s,u){s=Gr(u,s),s=Xv(i.stateNode,s,2),i=ks(i,s,2),i!==null&&(ko(i,2),ea(i))}function ct(i,s,u){if(i.tag===3)Ax(i,i,u);else for(;s!==null;){if(s.tag===3){Ax(s,i,u);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(zs===null||!zs.has(h))){i=Gr(u,i),u=xA(2),h=ks(s,u,2),h!==null&&(OA(u,h,s,i),ko(h,2),ea(h));break}}s=s.return}}function w0(i,s,u){var h=i.pingCache;if(h===null){h=i.pingCache=new T6;var y=new Set;h.set(s,y)}else y=h.get(s),y===void 0&&(y=new Set,h.set(s,y));y.has(u)||(d0=!0,y.add(u),i=C6.bind(null,i,s,u),s.then(i,i))}function C6(i,s,u){var h=i.pingCache;h!==null&&h.delete(s),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,yt===i&&(We&u)===u&&(Mt===4||Mt===3&&(We&62914560)===We&&300>Qn()-cp?(st&2)===0&&Su(i,0):p0|=u,Eu===We&&(Eu=0)),ea(i)}function xx(i,s){s===0&&(s=hd()),i=Wo(i,s),i!==null&&(ko(i,s),ea(i))}function I6(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),xx(i,u)}function P6(i,s){var u=0;switch(i.tag){case 31:case 13:var h=i.stateNode,y=i.memoizedState;y!==null&&(u=y.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(s),xx(i,u)}function R6(i,s){return hn(i,s)}var yp=null,xu=null,E0=!1,vp=!1,T0=!1,Fs=0;function ea(i){i!==xu&&i.next===null&&(xu===null?yp=xu=i:xu=xu.next=i),vp=!0,E0||(E0=!0,N6())}function _f(i,s){if(!T0&&vp){T0=!0;do for(var u=!1,h=yp;h!==null;){if(i!==0){var y=h.pendingLanes;if(y===0)var b=0;else{var A=h.suspendedLanes,N=h.pingedLanes;b=(1<<31-$t(42|i)+1)-1,b&=y&~(A&~N),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,Px(h,b))}else b=We,b=ji(h,h===yt?b:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(b&3)===0||fi(h,b)||(u=!0,Px(h,b));h=h.next}while(u);T0=!1}}function D6(){Ox()}function Ox(){vp=E0=!1;var i=0;Fs!==0&&F6()&&(i=Fs);for(var s=Qn(),u=null,h=yp;h!==null;){var y=h.next,b=Cx(h,s);b===0?(h.next=null,u===null?yp=y:u.next=y,y===null&&(xu=u)):(u=h,(i!==0||(b&3)!==0)&&(vp=!0)),h=y}dn!==0&&dn!==5||_f(i),Fs!==0&&(Fs=0)}function Cx(i,s){for(var u=i.suspendedLanes,h=i.pingedLanes,y=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var A=31-$t(b),N=1<<A,$=y[A];$===-1?((N&u)===0||(N&h)!==0)&&(y[A]=Zy(N,s)):$<=s&&(i.expiredLanes|=N),b&=~N}if(s=yt,u=We,u=ji(i,i===s?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,u===0||i===s&&(ut===2||ut===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&ys(h),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||fi(i,u)){if(s=u&-u,s===i.callbackPriority)return s;switch(h!==null&&ys(h),Ea(u)){case 2:case 8:u=Ic;break;case 32:u=vs;break;case 268435456:u=od;break;default:u=vs}return h=Ix.bind(null,i),u=hn(u,h),i.callbackPriority=s,i.callbackNode=u,s}return h!==null&&h!==null&&ys(h),i.callbackPriority=2,i.callbackNode=null,2}function Ix(i,s){if(dn!==0&&dn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(gp()&&i.callbackNode!==u)return null;var h=We;return h=ji(i,i===yt?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(cx(i,h,s),Cx(i,Qn()),i.callbackNode!=null&&i.callbackNode===u?Ix.bind(null,i):null)}function Px(i,s){if(gp())return null;cx(i,s,!0)}function N6(){$6(function(){(st&6)!==0?hn(Cc,D6):Ox()})}function S0(){if(Fs===0){var i=fu;i===0&&(i=ki,ki<<=1,(ki&261888)===0&&(ki=256)),Fs=i}return Fs}function Rx(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Xl(""+i)}function Dx(i,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,i.id&&u.setAttribute("form",i.id),s.parentNode.insertBefore(u,s),i=new FormData(i),u.parentNode.removeChild(u),i}function k6(i,s,u,h,y){if(s==="submit"&&u&&u.stateNode===y){var b=Rx((y[vn]||null).action),A=h.submitter;A&&(s=(s=A[vn]||null)?Rx(s.formAction):A.getAttribute("formAction"),s!==null&&(b=s,A=null));var N=new Ki("action","action",null,h,y);i.push({event:N,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Fs!==0){var $=A?Dx(y,A):new FormData(y);Hv(u,{pending:!0,data:$,method:y.method,action:b},null,$)}}else typeof b=="function"&&(N.preventDefault(),$=A?Dx(y,A):new FormData(y),Hv(u,{pending:!0,data:$,method:y.method,action:b},b,$))},currentTarget:y}]})}}for(var A0=0;A0<ov.length;A0++){var x0=ov[A0],M6=x0.toLowerCase(),j6=x0[0].toUpperCase()+x0.slice(1);bi(M6,"on"+j6)}bi(uS,"onAnimationEnd"),bi(cS,"onAnimationIteration"),bi(fS,"onAnimationStart"),bi("dblclick","onDoubleClick"),bi("focusin","onFocus"),bi("focusout","onBlur"),bi(ZV,"onTransitionRun"),bi(JV,"onTransitionStart"),bi(e6,"onTransitionCancel"),bi(hS,"onTransitionEnd"),Fi("onMouseEnter",["mouseout","mouseover"]),Fi("onMouseLeave",["mouseout","mouseover"]),Fi("onPointerEnter",["pointerout","pointerover"]),Fi("onPointerLeave",["pointerout","pointerover"]),qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),L6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wf));function Nx(i,s){s=(s&4)!==0;for(var u=0;u<i.length;u++){var h=i[u],y=h.event;h=h.listeners;e:{var b=void 0;if(s)for(var A=h.length-1;0<=A;A--){var N=h[A],$=N.instance,ee=N.currentTarget;if(N=N.listener,$!==b&&y.isPropagationStopped())break e;b=N,y.currentTarget=ee;try{b(y)}catch(se){Nd(se)}y.currentTarget=null,b=$}else for(A=0;A<h.length;A++){if(N=h[A],$=N.instance,ee=N.currentTarget,N=N.listener,$!==b&&y.isPropagationStopped())break e;b=N,y.currentTarget=ee;try{b(y)}catch(se){Nd(se)}y.currentTarget=null,b=$}}}}function Ge(i,s){var u=s[$l];u===void 0&&(u=s[$l]=new Set);var h=i+"__bubble";u.has(h)||(kx(s,i,2,!1),u.add(h))}function O0(i,s,u){var h=0;s&&(h|=4),kx(u,i,h,s)}var bp="_reactListening"+Math.random().toString(36).slice(2);function C0(i){if(!i[bp]){i[bp]=!0,Dc.forEach(function(u){u!=="selectionchange"&&(L6.has(u)||O0(u,!1,i),O0(u,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[bp]||(s[bp]=!0,O0("selectionchange",!1,s))}}function kx(i,s,u,h){switch(uO(s)){case 2:var y=fU;break;case 8:y=hU;break;default:y=F0}u=y.bind(null,s,u,i),y=void 0,!zo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),h?y!==void 0?i.addEventListener(s,u,{capture:!0,passive:y}):i.addEventListener(s,u,!0):y!==void 0?i.addEventListener(s,u,{passive:y}):i.addEventListener(s,u,!1)}function I0(i,s,u,h,y){var b=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var A=h.tag;if(A===3||A===4){var N=h.stateNode.containerInfo;if(N===y)break;if(A===4)for(A=h.return;A!==null;){var $=A.tag;if(($===3||$===4)&&A.stateNode.containerInfo===y)return;A=A.return}for(;N!==null;){if(A=zi(N),A===null)return;if($=A.tag,$===5||$===6||$===26||$===27){h=b=A;continue e}N=N.parentNode}}h=h.return}Ss(function(){var ee=b,se=qr(u),he=[];e:{var te=dS.get(i);if(te!==void 0){var ie=Ki,Te=i;switch(i){case"keypress":if(qo(u)===0)break e;case"keydown":case"keyup":ie=Pd;break;case"focusin":Te="focus",ie=Ho;break;case"focusout":Te="blur",ie=Ho;break;case"beforeblur":case"afterblur":ie=Ho;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=$c;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=wd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=E;break;case uS:case cS:case fS:ie=Td;break;case hS:ie=j;break;case"scroll":case"scrollend":ie=Hc;break;case"wheel":ie=re;break;case"copy":case"cut":case"paste":ie=Sd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Aa;break;case"toggle":case"beforetoggle":ie=Ue}var Re=(s&4)!==0,gt=!Re&&(i==="scroll"||i==="scrollend"),K=Re?te!==null?te+"Capture":null:te;Re=[];for(var G=ee,Q;G!==null;){var ue=G;if(Q=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||Q===null||K===null||(ue=mi(G,K),ue!=null&&Re.push(Ef(G,ue,Q))),gt)break;G=G.return}0<Re.length&&(te=new ie(te,Te,null,u,se),he.push({event:te,listeners:Re}))}}if((s&7)===0){e:{if(te=i==="mouseover"||i==="pointerover",ie=i==="mouseout"||i==="pointerout",te&&u!==Bc&&(Te=u.relatedTarget||u.fromElement)&&(zi(Te)||Te[Vi]))break e;if((ie||te)&&(te=se.window===se?se:(te=se.ownerDocument)?te.defaultView||te.parentWindow:window,ie?(Te=u.relatedTarget||u.toElement,ie=ee,Te=Te?zi(Te):null,Te!==null&&(gt=o(Te),Re=Te.tag,Te!==gt||Re!==5&&Re!==27&&Re!==6)&&(Te=null)):(ie=null,Te=ee),ie!==Te)){if(Re=$c,ue="onMouseLeave",K="onMouseEnter",G="mouse",(i==="pointerout"||i==="pointerover")&&(Re=Aa,ue="onPointerLeave",K="onPointerEnter",G="pointer"),gt=ie==null?te:Ar(ie),Q=Te==null?te:Ar(Te),te=new Re(ue,G+"leave",ie,u,se),te.target=gt,te.relatedTarget=Q,ue=null,zi(se)===ee&&(Re=new Re(K,G+"enter",Te,u,se),Re.target=Q,Re.relatedTarget=gt,ue=Re),gt=ue,ie&&Te)t:{for(Re=V6,K=ie,G=Te,Q=0,ue=K;ue;ue=Re(ue))Q++;ue=0;for(var Oe=G;Oe;Oe=Re(Oe))ue++;for(;0<Q-ue;)K=Re(K),Q--;for(;0<ue-Q;)G=Re(G),ue--;for(;Q--;){if(K===G||G!==null&&K===G.alternate){Re=K;break t}K=Re(K),G=Re(G)}Re=null}else Re=null;ie!==null&&Mx(he,te,ie,Re,!1),Te!==null&&gt!==null&&Mx(he,gt,Te,Re,!0)}}e:{if(te=ee?Ar(ee):window,ie=te.nodeName&&te.nodeName.toLowerCase(),ie==="select"||ie==="input"&&te.type==="file")var tt=ZT;else if(XT(te))if(JT)tt=YV;else{tt=KV;var Se=GV}else ie=te.nodeName,!ie||ie.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&Yl(ee.elementType)&&(tt=ZT):tt=WV;if(tt&&(tt=tt(i,ee))){QT(he,tt,u,se);break e}Se&&Se(i,te,ee),i==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&Vc(te,"number",te.value)}switch(Se=ee?Ar(ee):window,i){case"focusin":(XT(Se)||Se.contentEditable==="true")&&(ru=Se,iv=ee,Xc=null);break;case"focusout":Xc=iv=ru=null;break;case"mousedown":av=!0;break;case"contextmenu":case"mouseup":case"dragend":av=!1,oS(he,u,se);break;case"selectionchange":if(QV)break;case"keydown":case"keyup":oS(he,u,se)}var qe;if(at)e:{switch(i){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else nu?$o(i,u)&&(Ye="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ye="onCompositionStart");Ye&&(Xi&&u.locale!=="ko"&&(nu||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&nu&&(qe=Fc()):(Gi=se,qc="value"in Gi?Gi.value:Gi.textContent,nu=!0)),Se=_p(ee,Ye),0<Se.length&&(Ye=new Yi(Ye,i,null,u,se),he.push({event:Ye,listeners:Se}),qe?Ye.data=qe:(qe=tu(u),qe!==null&&(Ye.data=qe)))),(qe=Hr?qV(i,u):FV(i,u))&&(Ye=_p(ee,"onBeforeInput"),0<Ye.length&&(Se=new Yi("onBeforeInput","beforeinput",null,u,se),he.push({event:Se,listeners:Ye}),Se.data=qe)),k6(he,i,ee,u,se)}Nx(he,s)})}function Ef(i,s,u){return{instance:i,listener:s,currentTarget:u}}function _p(i,s){for(var u=s+"Capture",h=[];i!==null;){var y=i,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=mi(i,u),y!=null&&h.unshift(Ef(i,y,b)),y=mi(i,s),y!=null&&h.push(Ef(i,y,b))),i.tag===3)return h;i=i.return}return[]}function V6(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Mx(i,s,u,h,y){for(var b=s._reactName,A=[];u!==null&&u!==h;){var N=u,$=N.alternate,ee=N.stateNode;if(N=N.tag,$!==null&&$===h)break;N!==5&&N!==26&&N!==27||ee===null||($=ee,y?(ee=mi(u,b),ee!=null&&A.unshift(Ef(u,ee,$))):y||(ee=mi(u,b),ee!=null&&A.push(Ef(u,ee,$)))),u=u.return}A.length!==0&&i.push({event:s,listeners:A})}var U6=/\r\n?/g,z6=/\u0000|\uFFFD/g;function jx(i){return(typeof i=="string"?i:""+i).replace(U6,`
`).replace(z6,"")}function Lx(i,s){return s=jx(s),jx(i)===s}function mt(i,s,u,h,y,b){switch(u){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||or(i,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&or(i,""+h);break;case"className":xr(i,"class",h);break;case"tabIndex":xr(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":xr(i,u,h);break;case"style":zc(i,h,b);break;case"data":if(s!=="object"){xr(i,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||u!=="href")){i.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(u);break}h=Xl(""+h),i.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(s!=="input"&&mt(i,s,"name",y.name,y,null),mt(i,s,"formEncType",y.formEncType,y,null),mt(i,s,"formMethod",y.formMethod,y,null),mt(i,s,"formTarget",y.formTarget,y,null)):(mt(i,s,"encType",y.encType,y,null),mt(i,s,"method",y.method,y,null),mt(i,s,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(u);break}h=Xl(""+h),i.setAttribute(u,h);break;case"onClick":h!=null&&(i.onclick=pi);break;case"onScroll":h!=null&&Ge("scroll",i);break;case"onScrollEnd":h!=null&&Ge("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}u=Xl(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,""+h):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":h===!0?i.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,h):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(u,h):i.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(u):i.setAttribute(u,h);break;case"popover":Ge("beforetoggle",i),Ge("toggle",i),Kl(i,"popover",h);break;case"xlinkActuate":en(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":en(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":en(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":en(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":en(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":en(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":en(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":en(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":en(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Kl(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=_d.get(u)||u,Kl(i,u,h))}}function P0(i,s,u,h,y,b){switch(u){case"style":zc(i,h,b);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof h=="string"?or(i,h):(typeof h=="number"||typeof h=="bigint")&&or(i,""+h);break;case"onScroll":h!=null&&Ge("scroll",i);break;case"onScrollEnd":h!=null&&Ge("scrollend",i);break;case"onClick":h!=null&&(i.onclick=pi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nc.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),s=u.slice(2,y?u.length-7:void 0),b=i[vn]||null,b=b!=null?b[u]:null,typeof b=="function"&&i.removeEventListener(s,b,y),typeof h=="function")){typeof b!="function"&&b!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(s,h,y);break e}u in i?i[u]=h:h===!0?i.setAttribute(u,""):Kl(i,u,h)}}}function kn(i,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",i),Ge("load",i);var h=!1,y=!1,b;for(b in u)if(u.hasOwnProperty(b)){var A=u[b];if(A!=null)switch(b){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:mt(i,s,b,A,u,null)}}y&&mt(i,s,"srcSet",u.srcSet,u,null),h&&mt(i,s,"src",u.src,u,null);return;case"input":Ge("invalid",i);var N=b=A=y=null,$=null,ee=null;for(h in u)if(u.hasOwnProperty(h)){var se=u[h];if(se!=null)switch(h){case"name":y=se;break;case"type":A=se;break;case"checked":$=se;break;case"defaultChecked":ee=se;break;case"value":b=se;break;case"defaultValue":N=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,s));break;default:mt(i,s,h,se,u,null)}}yd(i,b,N,$,ee,A,y,!1);return;case"select":Ge("invalid",i),h=A=b=null;for(y in u)if(u.hasOwnProperty(y)&&(N=u[y],N!=null))switch(y){case"value":b=N;break;case"defaultValue":A=N;break;case"multiple":h=N;default:mt(i,s,y,N,u,null)}s=b,u=A,i.multiple=!!h,s!=null?_s(i,!!h,s,!1):u!=null&&_s(i,!!h,u,!0);return;case"textarea":Ge("invalid",i),b=y=h=null;for(A in u)if(u.hasOwnProperty(A)&&(N=u[A],N!=null))switch(A){case"value":h=N;break;case"defaultValue":y=N;break;case"children":b=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:mt(i,s,A,N,u,null)}ws(i,h,y,b);return;case"option":for($ in u)u.hasOwnProperty($)&&(h=u[$],h!=null)&&($==="selected"?i.selected=h&&typeof h!="function"&&typeof h!="symbol":mt(i,s,$,h,u,null));return;case"dialog":Ge("beforetoggle",i),Ge("toggle",i),Ge("cancel",i),Ge("close",i);break;case"iframe":case"object":Ge("load",i);break;case"video":case"audio":for(h=0;h<wf.length;h++)Ge(wf[h],i);break;case"image":Ge("error",i),Ge("load",i);break;case"details":Ge("toggle",i);break;case"embed":case"source":case"link":Ge("error",i),Ge("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in u)if(u.hasOwnProperty(ee)&&(h=u[ee],h!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:mt(i,s,ee,h,u,null)}return;default:if(Yl(s)){for(se in u)u.hasOwnProperty(se)&&(h=u[se],h!==void 0&&P0(i,s,se,h,u,void 0));return}}for(N in u)u.hasOwnProperty(N)&&(h=u[N],h!=null&&mt(i,s,N,h,u,null))}function B6(i,s,u,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,A=null,N=null,$=null,ee=null,se=null;for(ie in u){var he=u[ie];if(u.hasOwnProperty(ie)&&he!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":$=he;default:h.hasOwnProperty(ie)||mt(i,s,ie,null,h,he)}}for(var te in h){var ie=h[te];if(he=u[te],h.hasOwnProperty(te)&&(ie!=null||he!=null))switch(te){case"type":b=ie;break;case"name":y=ie;break;case"checked":ee=ie;break;case"defaultChecked":se=ie;break;case"value":A=ie;break;case"defaultValue":N=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,s));break;default:ie!==he&&mt(i,s,te,ie,h,he)}}Wl(i,A,N,$,ee,se,b,y);return;case"select":ie=A=N=te=null;for(b in u)if($=u[b],u.hasOwnProperty(b)&&$!=null)switch(b){case"value":break;case"multiple":ie=$;default:h.hasOwnProperty(b)||mt(i,s,b,null,h,$)}for(y in h)if(b=h[y],$=u[y],h.hasOwnProperty(y)&&(b!=null||$!=null))switch(y){case"value":te=b;break;case"defaultValue":N=b;break;case"multiple":A=b;default:b!==$&&mt(i,s,y,b,h,$)}s=N,u=A,h=ie,te!=null?_s(i,!!u,te,!1):!!h!=!!u&&(s!=null?_s(i,!!u,s,!0):_s(i,!!u,u?[]:"",!1));return;case"textarea":ie=te=null;for(N in u)if(y=u[N],u.hasOwnProperty(N)&&y!=null&&!h.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:mt(i,s,N,null,h,y)}for(A in h)if(y=h[A],b=u[A],h.hasOwnProperty(A)&&(y!=null||b!=null))switch(A){case"value":te=y;break;case"defaultValue":ie=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==b&&mt(i,s,A,y,h,b)}vd(i,te,ie);return;case"option":for(var Te in u)te=u[Te],u.hasOwnProperty(Te)&&te!=null&&!h.hasOwnProperty(Te)&&(Te==="selected"?i.selected=!1:mt(i,s,Te,null,h,te));for($ in h)te=h[$],ie=u[$],h.hasOwnProperty($)&&te!==ie&&(te!=null||ie!=null)&&($==="selected"?i.selected=te&&typeof te!="function"&&typeof te!="symbol":mt(i,s,$,te,h,ie));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in u)te=u[Re],u.hasOwnProperty(Re)&&te!=null&&!h.hasOwnProperty(Re)&&mt(i,s,Re,null,h,te);for(ee in h)if(te=h[ee],ie=u[ee],h.hasOwnProperty(ee)&&te!==ie&&(te!=null||ie!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,s));break;default:mt(i,s,ee,te,h,ie)}return;default:if(Yl(s)){for(var gt in u)te=u[gt],u.hasOwnProperty(gt)&&te!==void 0&&!h.hasOwnProperty(gt)&&P0(i,s,gt,void 0,h,te);for(se in h)te=h[se],ie=u[se],!h.hasOwnProperty(se)||te===ie||te===void 0&&ie===void 0||P0(i,s,se,te,h,ie);return}}for(var K in u)te=u[K],u.hasOwnProperty(K)&&te!=null&&!h.hasOwnProperty(K)&&mt(i,s,K,null,h,te);for(he in h)te=h[he],ie=u[he],!h.hasOwnProperty(he)||te===ie||te==null&&ie==null||mt(i,s,he,te,h,ie)}function Vx(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function q6(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,u=performance.getEntriesByType("resource"),h=0;h<u.length;h++){var y=u[h],b=y.transferSize,A=y.initiatorType,N=y.duration;if(b&&N&&Vx(A)){for(A=0,N=y.responseEnd,h+=1;h<u.length;h++){var $=u[h],ee=$.startTime;if(ee>N)break;var se=$.transferSize,he=$.initiatorType;se&&Vx(he)&&($=$.responseEnd,A+=se*($<N?1:(N-ee)/($-ee)))}if(--h,s+=8*(b+A)/(y.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var R0=null,D0=null;function wp(i){return i.nodeType===9?i:i.ownerDocument}function Ux(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zx(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function N0(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var k0=null;function F6(){var i=window.event;return i&&i.type==="popstate"?i===k0?!1:(k0=i,!0):(k0=null,!1)}var Bx=typeof setTimeout=="function"?setTimeout:void 0,H6=typeof clearTimeout=="function"?clearTimeout:void 0,qx=typeof Promise=="function"?Promise:void 0,$6=typeof queueMicrotask=="function"?queueMicrotask:typeof qx<"u"?function(i){return qx.resolve(null).then(i).catch(G6)}:Bx;function G6(i){setTimeout(function(){throw i})}function Hs(i){return i==="head"}function Fx(i,s){var u=s,h=0;do{var y=u.nextSibling;if(i.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"||u==="/&"){if(h===0){i.removeChild(y),Pu(s);return}h--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")h++;else if(u==="html")Tf(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,Tf(u);for(var b=u.firstChild;b;){var A=b.nextSibling,N=b.nodeName;b[Ui]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&b.rel.toLowerCase()==="stylesheet"||u.removeChild(b),b=A}}else u==="body"&&Tf(i.ownerDocument.body);u=y}while(u);Pu(s)}function Hx(i,s){var u=i;i=0;do{var h=u.nextSibling;if(u.nodeType===1?s?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(s?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),h&&h.nodeType===8)if(u=h.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=h}while(u)}function M0(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":M0(u),Gl(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function K6(i,s,u,h){for(;i.nodeType===1;){var y=u;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[Ui])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Qr(i.nextSibling),i===null)break}return null}function W6(i,s,u){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Qr(i.nextSibling),i===null))return null;return i}function $x(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Qr(i.nextSibling),i===null))return null;return i}function j0(i){return i.data==="$?"||i.data==="$~"}function L0(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function Y6(i,s){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||u.readyState!=="loading")s();else{var h=function(){s(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function Qr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var V0=null;function Gx(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(s===0)return Qr(i.nextSibling);s--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||s++}i=i.nextSibling}return null}function Kx(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(s===0)return i;s--}else u!=="/$"&&u!=="/&"||s++}i=i.previousSibling}return null}function Wx(i,s,u){switch(s=wp(u),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Tf(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Gl(i)}var Zr=new Map,Yx=new Set;function Ep(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var za=oe.d;oe.d={f:X6,r:Q6,D:Z6,C:J6,L:eU,m:tU,X:rU,S:nU,M:iU};function X6(){var i=za.f(),s=dp();return i||s}function Q6(i){var s=Br(i);s!==null&&s.tag===5&&s.type==="form"?hA(s):za.r(i)}var Ou=typeof document>"u"?null:document;function Xx(i,s,u){var h=Ou;if(h&&typeof s=="string"&&s){var y=sr(s);y='link[rel="'+i+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),Yx.has(y)||(Yx.add(y),i={rel:i,crossOrigin:u,href:s},h.querySelector(y)===null&&(s=h.createElement("link"),kn(s,"link",i),Jt(s),h.head.appendChild(s)))}}function Z6(i){za.D(i),Xx("dns-prefetch",i,null)}function J6(i,s){za.C(i,s),Xx("preconnect",i,s)}function eU(i,s,u){za.L(i,s,u);var h=Ou;if(h&&i&&s){var y='link[rel="preload"][as="'+sr(s)+'"]';s==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+sr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+sr(u.imageSizes)+'"]')):y+='[href="'+sr(i)+'"]';var b=y;switch(s){case"style":b=Cu(i);break;case"script":b=Iu(i)}Zr.has(b)||(i=m({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:i,as:s},u),Zr.set(b,i),h.querySelector(y)!==null||s==="style"&&h.querySelector(Sf(b))||s==="script"&&h.querySelector(Af(b))||(s=h.createElement("link"),kn(s,"link",i),Jt(s),h.head.appendChild(s)))}}function tU(i,s){za.m(i,s);var u=Ou;if(u&&i){var h=s&&typeof s.as=="string"?s.as:"script",y='link[rel="modulepreload"][as="'+sr(h)+'"][href="'+sr(i)+'"]',b=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Iu(i)}if(!Zr.has(b)&&(i=m({rel:"modulepreload",href:i},s),Zr.set(b,i),u.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Af(b)))return}h=u.createElement("link"),kn(h,"link",i),Jt(h),u.head.appendChild(h)}}}function nU(i,s,u){za.S(i,s,u);var h=Ou;if(h&&i){var y=Bi(h).hoistableStyles,b=Cu(i);s=s||"default";var A=y.get(b);if(!A){var N={loading:0,preload:null};if(A=h.querySelector(Sf(b)))N.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":s},u),(u=Zr.get(b))&&U0(i,u);var $=A=h.createElement("link");Jt($),kn($,"link",i),$._p=new Promise(function(ee,se){$.onload=ee,$.onerror=se}),$.addEventListener("load",function(){N.loading|=1}),$.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Tp(A,s,h)}A={type:"stylesheet",instance:A,count:1,state:N},y.set(b,A)}}}function rU(i,s){za.X(i,s);var u=Ou;if(u&&i){var h=Bi(u).hoistableScripts,y=Iu(i),b=h.get(y);b||(b=u.querySelector(Af(y)),b||(i=m({src:i,async:!0},s),(s=Zr.get(y))&&z0(i,s),b=u.createElement("script"),Jt(b),kn(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(y,b))}}function iU(i,s){za.M(i,s);var u=Ou;if(u&&i){var h=Bi(u).hoistableScripts,y=Iu(i),b=h.get(y);b||(b=u.querySelector(Af(y)),b||(i=m({src:i,async:!0,type:"module"},s),(s=Zr.get(y))&&z0(i,s),b=u.createElement("script"),Jt(b),kn(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(y,b))}}function Qx(i,s,u,h){var y=(y=De.current)?Ep(y):null;if(!y)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=Cu(u.href),u=Bi(y).hoistableStyles,h=u.get(s),h||(h={type:"style",instance:null,count:0,state:null},u.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Cu(u.href);var b=Bi(y).hoistableStyles,A=b.get(i);if(A||(y=y.ownerDocument||y,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,A),(b=y.querySelector(Sf(i)))&&!b._p&&(A.instance=b,A.state.loading=5),Zr.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Zr.set(i,u),b||aU(y,i,u,A.state))),s&&h===null)throw Error(r(528,""));return A}if(s&&h!==null)throw Error(r(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Iu(u),u=Bi(y).hoistableScripts,h=u.get(s),h||(h={type:"script",instance:null,count:0,state:null},u.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Cu(i){return'href="'+sr(i)+'"'}function Sf(i){return'link[rel="stylesheet"]['+i+"]"}function Zx(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function aU(i,s,u,h){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=i.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),kn(s,"link",u),Jt(s),i.head.appendChild(s))}function Iu(i){return'[src="'+sr(i)+'"]'}function Af(i){return"script[async]"+i}function Jx(i,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var h=i.querySelector('style[data-href~="'+sr(u.href)+'"]');if(h)return s.instance=h,Jt(h),h;var y=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Jt(h),kn(h,"style",y),Tp(h,u.precedence,i),s.instance=h;case"stylesheet":y=Cu(u.href);var b=i.querySelector(Sf(y));if(b)return s.state.loading|=4,s.instance=b,Jt(b),b;h=Zx(u),(y=Zr.get(y))&&U0(h,y),b=(i.ownerDocument||i).createElement("link"),Jt(b);var A=b;return A._p=new Promise(function(N,$){A.onload=N,A.onerror=$}),kn(b,"link",h),s.state.loading|=4,Tp(b,u.precedence,i),s.instance=b;case"script":return b=Iu(u.src),(y=i.querySelector(Af(b)))?(s.instance=y,Jt(y),y):(h=u,(y=Zr.get(b))&&(h=m({},u),z0(h,y)),i=i.ownerDocument||i,y=i.createElement("script"),Jt(y),kn(y,"link",h),i.head.appendChild(y),s.instance=y);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,Tp(h,u.precedence,i));return s.instance}function Tp(i,s,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,b=y,A=0;A<h.length;A++){var N=h[A];if(N.dataset.precedence===s)b=N;else if(b!==y)break}b?b.parentNode.insertBefore(i,b.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(i,s.firstChild))}function U0(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function z0(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Sp=null;function eO(i,s,u){if(Sp===null){var h=new Map,y=Sp=new Map;y.set(u,h)}else y=Sp,h=y.get(u),h||(h=new Map,y.set(u,h));if(h.has(i))return h;for(h.set(i,null),u=u.getElementsByTagName(i),y=0;y<u.length;y++){var b=u[y];if(!(b[Ui]||b[Zt]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var A=b.getAttribute(s)||"";A=i+A;var N=h.get(A);N?N.push(b):h.set(A,[b])}}return h}function tO(i,s,u){i=i.ownerDocument||i,i.head.insertBefore(u,s==="title"?i.querySelector("head > title"):null)}function sU(i,s,u){if(u===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(i=s.disabled,typeof s.precedence=="string"&&i==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function nO(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function oU(i,s,u,h){if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var y=Cu(h.href),b=s.querySelector(Sf(y));if(b){s=b._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Ap.bind(i),s.then(i,i)),u.state.loading|=4,u.instance=b,Jt(b);return}b=s.ownerDocument||s,h=Zx(h),(y=Zr.get(y))&&U0(h,y),b=b.createElement("link"),Jt(b);var A=b;A._p=new Promise(function(N,$){A.onload=N,A.onerror=$}),kn(b,"link",h),u.instance=b}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,s),(s=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=Ap.bind(i),s.addEventListener("load",u),s.addEventListener("error",u))}}var B0=0;function lU(i,s){return i.stylesheets&&i.count===0&&Op(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var h=setTimeout(function(){if(i.stylesheets&&Op(i,i.stylesheets),i.unsuspend){var b=i.unsuspend;i.unsuspend=null,b()}},6e4+s);0<i.imgBytes&&B0===0&&(B0=62500*q6());var y=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Op(i,i.stylesheets),i.unsuspend)){var b=i.unsuspend;i.unsuspend=null,b()}},(i.imgBytes>B0?50:800)+s);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(y)}}:null}function Ap(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Op(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var xp=null;function Op(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,xp=new Map,s.forEach(uU,i),xp=null,Ap.call(i))}function uU(i,s){if(!(s.state.loading&4)){var u=xp.get(i);if(u)var h=u.get(null);else{u=new Map,xp.set(i,u);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var A=y[b];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(u.set(A.dataset.precedence,A),h=A)}h&&u.set(null,h)}y=s.instance,A=y.getAttribute("data-precedence"),b=u.get(A)||h,b===h&&u.set(null,y),u.set(A,y),this.count++,h=Ap.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),b?b.parentNode.insertBefore(y,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),s.state.loading|=4}}var xf={$$typeof:R,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function cU(i,s,u,h,y,b,A,N,$){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Li(0),this.hiddenUpdates=Li(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function rO(i,s,u,h,y,b,A,N,$,ee,se,he){return i=new cU(i,s,u,A,$,ee,se,he,N),s=1,b===!0&&(s|=24),b=Cr(3,null,null,s),i.current=b,b.stateNode=i,s=_v(),s.refCount++,i.pooledCache=s,s.refCount++,b.memoizedState={element:h,isDehydrated:u,cache:s},Sv(b),i}function iO(i){return i?(i=su,i):su}function aO(i,s,u,h,y,b){y=iO(y),h.context===null?h.context=y:h.pendingContext=y,h=Ns(s),h.payload={element:u},b=b===void 0?null:b,b!==null&&(h.callback=b),u=ks(i,h,s),u!==null&&(hr(u,i,s),rf(u,i,s))}function sO(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function q0(i,s){sO(i,s),(i=i.alternate)&&sO(i,s)}function oO(i){if(i.tag===13||i.tag===31){var s=Wo(i,67108864);s!==null&&hr(s,i,67108864),q0(i,67108864)}}function lO(i){if(i.tag===13||i.tag===31){var s=Nr();s=jo(s);var u=Wo(i,s);u!==null&&hr(u,i,s),q0(i,s)}}var Cp=!0;function fU(i,s,u,h){var y=Y.T;Y.T=null;var b=oe.p;try{oe.p=2,F0(i,s,u,h)}finally{oe.p=b,Y.T=y}}function hU(i,s,u,h){var y=Y.T;Y.T=null;var b=oe.p;try{oe.p=8,F0(i,s,u,h)}finally{oe.p=b,Y.T=y}}function F0(i,s,u,h){if(Cp){var y=H0(h);if(y===null)I0(i,s,h,Ip,u),cO(i,h);else if(pU(y,i,s,u,h))h.stopPropagation();else if(cO(i,h),s&4&&-1<dU.indexOf(i)){for(;y!==null;){var b=Br(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var A=Mi(b.pendingLanes);if(A!==0){var N=b;for(N.pendingLanes|=2,N.entangledLanes|=2;A;){var $=1<<31-$t(A);N.entanglements[1]|=$,A&=~$}ea(b),(st&6)===0&&(fp=Qn()+500,_f(0))}}break;case 31:case 13:N=Wo(b,2),N!==null&&hr(N,b,2),dp(),q0(b,2)}if(b=H0(h),b===null&&I0(i,s,h,Ip,u),b===y)break;y=b}y!==null&&h.stopPropagation()}else I0(i,s,h,null,u)}}function H0(i){return i=qr(i),$0(i)}var Ip=null;function $0(i){if(Ip=null,i=zi(i),i!==null){var s=o(i);if(s===null)i=null;else{var u=s.tag;if(u===13){if(i=l(s),i!==null)return i;i=null}else if(u===31){if(i=c(s),i!==null)return i;i=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Ip=i,null}function uO(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Do()){case Cc:return 2;case Ic:return 8;case vs:case Qy:return 32;case od:return 268435456;default:return 32}default:return 32}}var G0=!1,$s=null,Gs=null,Ks=null,Of=new Map,Cf=new Map,Ws=[],dU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cO(i,s){switch(i){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":Of.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cf.delete(s.pointerId)}}function If(i,s,u,h,y,b){return i===null||i.nativeEvent!==b?(i={blockedOn:s,domEventName:u,eventSystemFlags:h,nativeEvent:b,targetContainers:[y]},s!==null&&(s=Br(s),s!==null&&oO(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),i)}function pU(i,s,u,h,y){switch(s){case"focusin":return $s=If($s,i,s,u,h,y),!0;case"dragenter":return Gs=If(Gs,i,s,u,h,y),!0;case"mouseover":return Ks=If(Ks,i,s,u,h,y),!0;case"pointerover":var b=y.pointerId;return Of.set(b,If(Of.get(b)||null,i,s,u,h,y)),!0;case"gotpointercapture":return b=y.pointerId,Cf.set(b,If(Cf.get(b)||null,i,s,u,h,y)),!0}return!1}function fO(i){var s=zi(i.target);if(s!==null){var u=o(s);if(u!==null){if(s=u.tag,s===13){if(s=l(u),s!==null){i.blockedOn=s,hi(i.priority,function(){lO(u)});return}}else if(s===31){if(s=c(u),s!==null){i.blockedOn=s,hi(i.priority,function(){lO(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Pp(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var u=H0(i.nativeEvent);if(u===null){u=i.nativeEvent;var h=new u.constructor(u.type,u);Bc=h,u.target.dispatchEvent(h),Bc=null}else return s=Br(u),s!==null&&oO(s),i.blockedOn=u,!1;s.shift()}return!0}function hO(i,s,u){Pp(i)&&u.delete(s)}function mU(){G0=!1,$s!==null&&Pp($s)&&($s=null),Gs!==null&&Pp(Gs)&&(Gs=null),Ks!==null&&Pp(Ks)&&(Ks=null),Of.forEach(hO),Cf.forEach(hO)}function Rp(i,s){i.blockedOn===s&&(i.blockedOn=null,G0||(G0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,mU)))}var Dp=null;function dO(i){Dp!==i&&(Dp=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Dp===i&&(Dp=null);for(var s=0;s<i.length;s+=3){var u=i[s],h=i[s+1],y=i[s+2];if(typeof h!="function"){if($0(h||u)===null)continue;break}var b=Br(u);b!==null&&(i.splice(s,3),s-=3,Hv(b,{pending:!0,data:y,method:u.method,action:h},h,y))}}))}function Pu(i){function s($){return Rp($,i)}$s!==null&&Rp($s,i),Gs!==null&&Rp(Gs,i),Ks!==null&&Rp(Ks,i),Of.forEach(s),Cf.forEach(s);for(var u=0;u<Ws.length;u++){var h=Ws[u];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Ws.length&&(u=Ws[0],u.blockedOn===null);)fO(u),u.blockedOn===null&&Ws.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var y=u[h],b=u[h+1],A=y[vn]||null;if(typeof b=="function")A||dO(u);else if(A){var N=null;if(b&&b.hasAttribute("formAction")){if(y=b,A=b[vn]||null)N=A.formAction;else if($0(y)!==null)continue}else N=A.action;typeof N=="function"?u[h+1]=N:(u.splice(h,3),h-=3),dO(u)}}}function pO(){function i(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(A){return y=A})},focusReset:"manual",scroll:"manual"})}function s(){y!==null&&(y(),y=null),h||setTimeout(u,20)}function u(){if(!h&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,y=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(u,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),y!==null&&(y(),y=null)}}}function K0(i){this._internalRoot=i}Np.prototype.render=K0.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var u=s.current,h=Nr();aO(u,h,i,s,null,null)},Np.prototype.unmount=K0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;aO(i.current,2,null,i,null,null),dp(),s[Vi]=null}};function Np(i){this._internalRoot=i}Np.prototype.unstable_scheduleHydration=function(i){if(i){var s=dd();i={blockedOn:null,target:i,priority:s};for(var u=0;u<Ws.length&&s!==0&&s<Ws[u].priority;u++);Ws.splice(u,0,i),u===0&&fO(i)}};var mO=e.version;if(mO!=="19.2.4")throw Error(r(527,mO,"19.2.4"));oe.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var gU={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kp.isDisabled&&kp.supportsFiber)try{ci=kp.inject(gU),In=kp}catch{}}return Rf.createRoot=function(i,s){if(!a(i))throw Error(r(299));var u=!1,h="",y=EA,b=TA,A=SA;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError)),s=rO(i,1,!1,null,null,u,h,null,y,b,A,pO),i[Vi]=s.current,C0(i),new K0(s)},Rf.hydrateRoot=function(i,s,u){if(!a(i))throw Error(r(299));var h=!1,y="",b=EA,A=TA,N=SA,$=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(A=u.onCaughtError),u.onRecoverableError!==void 0&&(N=u.onRecoverableError),u.formState!==void 0&&($=u.formState)),s=rO(i,1,!0,s,u??null,h,y,$,b,A,N,pO),s.context=iO(null),u=s.current,h=Nr(),h=jo(h),y=Ns(h),y.callback=null,ks(u,y,h),u=h,s.current.lanes=u,ko(s,u),ea(s),i[Vi]=s.current,C0(i),new Np(s)},Rf.version="19.2.4",Rf}var AO;function OU(){if(AO)return X0.exports;AO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),X0.exports=xU(),X0.exports}var CU=OU();const IU=()=>{};var xO={};const WD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},PU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[n++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[n++],l=t[n++],c=t[n++],f=((a&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|l&63)}}return e.join("")},YD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const o=t[a],l=a+1<t.length,c=l?t[a+1]:0,f=a+2<t.length,d=f?t[a+2]:0,p=o>>2,m=(o&3)<<4|c>>4;let v=(c&15)<<2|d>>6,_=d&63;f||(_=64,l||(v=64)),r.push(n[p],n[m],n[v],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(WD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):PU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const o=n[t.charAt(a++)],c=a<t.length?n[t.charAt(a)]:0;++a;const d=a<t.length?n[t.charAt(a)]:64;++a;const m=a<t.length?n[t.charAt(a)]:64;if(++a,o==null||c==null||d==null||m==null)throw new RU;const v=o<<2|c>>4;if(r.push(v),d!==64){const _=c<<4&240|d>>2;if(r.push(_),m!==64){const w=d<<6&192|m;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class RU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DU=function(t){const e=WD(t);return YD.encodeByteArray(e,!0)},Tm=function(t){return DU(t).replace(/\./g,"")},XD=function(t){try{return YD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function NU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const kU=()=>NU().__FIREBASE_DEFAULTS__,MU=()=>{if(typeof process>"u"||typeof xO>"u")return;const t=xO.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&XD(t[1]);return e&&JSON.parse(e)},Vg=()=>{try{return IU()||kU()||MU()||jU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},QD=t=>Vg()?.emulatorHosts?.[t],LU=t=>{const e=QD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ZD=()=>Vg()?.config,JD=t=>Vg()?.[`_${t}`];class VU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function xo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bw(t){return(await fetch(t,{credentials:"include"})).ok}function UU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Tm(JSON.stringify(n)),Tm(JSON.stringify(l)),""].join(".")}const Xf={};function zU(){const t={prod:[],emulator:[]};for(const e of Object.keys(Xf))Xf[e]?t.emulator.push(e):t.prod.push(e);return t}function BU(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let OO=!1;function eN(t,e){if(typeof window>"u"||typeof document>"u"||!xo(window.location.host)||Xf[t]===e||Xf[t]||OO)return;Xf[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",o=zU().prod.length>0;function l(){const v=document.getElementById(r);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,_){v.setAttribute("width","24"),v.setAttribute("id",_),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{OO=!0,l()},v}function p(v,_){v.setAttribute("id",_),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function m(){const v=BU(r),_=n("text"),w=document.getElementById(_)||document.createElement("span"),T=n("learnmore"),S=document.getElementById(T)||document.createElement("a"),P=n("preprendIcon"),k=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const R=v.element;c(R),p(S,T);const z=d();f(k,P),R.append(k,w,S,z),document.body.appendChild(R)}o?(w.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}function Xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xn())}function FU(){const t=Vg()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $U(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function GU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KU(){const t=Xn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function WU(){return!FU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YU(){try{return typeof indexedDB=="object"}catch{return!1}}function XU(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const QU="FirebaseError";class wa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=QU,Object.setPrototypeOf(this,wa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nh.prototype.create)}}class Nh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],l=o?ZU(o,r):"Error",c=`${this.serviceName}: ${l} (${a}).`;return new wa(a,c,r)}}function ZU(t,e){return t.replace(JU,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const JU=/\{\$([^}]+)}/g;function e5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const o=t[a],l=e[a];if(CO(o)&&CO(l)){if(!mo(o,l))return!1}else if(o!==l)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function CO(t){return t!==null&&typeof t=="object"}function kh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function t5(t,e){const n=new n5(t,e);return n.subscribe.bind(n)}class n5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");r5(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=eb),a.error===void 0&&(a.error=eb),a.complete===void 0&&(a.complete=eb);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function r5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function eb(){}function zt(t){return t&&t._delegate?t._delegate:t}class go{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ll="[DEFAULT]";let i5=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new VU;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(s5(e))try{this.getOrInitializeService({instanceIdentifier:ll})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=ll){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ll){return this.instances.has(e)}getOptions(e=ll){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:a5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ll){return this.component?this.component.multipleInstances?e:ll:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function a5(t){return t===ll?void 0:t}function s5(t){return t.instantiationMode==="EAGER"}class o5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new i5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Xe||(Xe={}));const l5={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},u5=Xe.INFO,c5={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},f5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=c5[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _w{constructor(e){this.name=e,this._logLevel=u5,this._logHandler=f5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?l5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const h5=(t,e)=>e.some(n=>t instanceof n);let IO,PO;function d5(){return IO||(IO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function p5(){return PO||(PO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tN=new WeakMap,W_=new WeakMap,nN=new WeakMap,tb=new WeakMap,ww=new WeakMap;function m5(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(so(t.result)),a()},l=()=>{r(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&tN.set(n,t)}).catch(()=>{}),ww.set(e,t),e}function g5(t){if(W_.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),a()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});W_.set(t,e)}let Y_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return W_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return so(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function y5(t){Y_=t(Y_)}function v5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(nb(this),e,...n);return nN.set(r,e.sort?e.sort():[e]),so(r)}:p5().includes(t)?function(...e){return t.apply(nb(this),e),so(tN.get(this))}:function(...e){return so(t.apply(nb(this),e))}}function b5(t){return typeof t=="function"?v5(t):(t instanceof IDBTransaction&&g5(t),h5(t,d5())?new Proxy(t,Y_):t)}function so(t){if(t instanceof IDBRequest)return m5(t);if(tb.has(t))return tb.get(t);const e=b5(t);return e!==t&&(tb.set(t,e),ww.set(e,t)),e}const nb=t=>ww.get(t);function _5(t,e,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const l=indexedDB.open(t,e),c=so(l);return r&&l.addEventListener("upgradeneeded",f=>{r(so(l.result),f.oldVersion,f.newVersion,so(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),c.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",d=>a(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const w5=["get","getKey","getAll","getAllKeys","count"],E5=["put","add","delete","clear"],rb=new Map;function RO(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rb.get(e))return rb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=E5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||w5.includes(n)))return;const o=async function(l,...c){const f=this.transaction(l,a?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),a&&f.done]))[0]};return rb.set(e,o),o}y5(t=>({...t,get:(e,n,r)=>RO(e,n)||t.get(e,n,r),has:(e,n)=>!!RO(e,n)||t.has(e,n)}));class T5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(S5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function S5(t){return t.getComponent()?.type==="VERSION"}const X_="@firebase/app",DO="0.14.7";const Xa=new _w("@firebase/app"),A5="@firebase/app-compat",x5="@firebase/analytics-compat",O5="@firebase/analytics",C5="@firebase/app-check-compat",I5="@firebase/app-check",P5="@firebase/auth",R5="@firebase/auth-compat",D5="@firebase/database",N5="@firebase/data-connect",k5="@firebase/database-compat",M5="@firebase/functions",j5="@firebase/functions-compat",L5="@firebase/installations",V5="@firebase/installations-compat",U5="@firebase/messaging",z5="@firebase/messaging-compat",B5="@firebase/performance",q5="@firebase/performance-compat",F5="@firebase/remote-config",H5="@firebase/remote-config-compat",$5="@firebase/storage",G5="@firebase/storage-compat",K5="@firebase/firestore",W5="@firebase/ai",Y5="@firebase/firestore-compat",X5="firebase",Q5="12.8.0";const Q_="[DEFAULT]",Z5={[X_]:"fire-core",[A5]:"fire-core-compat",[O5]:"fire-analytics",[x5]:"fire-analytics-compat",[I5]:"fire-app-check",[C5]:"fire-app-check-compat",[P5]:"fire-auth",[R5]:"fire-auth-compat",[D5]:"fire-rtdb",[N5]:"fire-data-connect",[k5]:"fire-rtdb-compat",[M5]:"fire-fn",[j5]:"fire-fn-compat",[L5]:"fire-iid",[V5]:"fire-iid-compat",[U5]:"fire-fcm",[z5]:"fire-fcm-compat",[B5]:"fire-perf",[q5]:"fire-perf-compat",[F5]:"fire-rc",[H5]:"fire-rc-compat",[$5]:"fire-gcs",[G5]:"fire-gcs-compat",[K5]:"fire-fst",[Y5]:"fire-fst-compat",[W5]:"fire-vertex","fire-js":"fire-js",[X5]:"fire-js-all"};const Sm=new Map,J5=new Map,Z_=new Map;function NO(t,e){try{t.container.addComponent(e)}catch(n){Xa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sl(t){const e=t.name;if(Z_.has(e))return Xa.debug(`There were multiple attempts to register component ${e}.`),!1;Z_.set(e,t);for(const n of Sm.values())NO(n,t);for(const n of J5.values())NO(n,t);return!0}function Ug(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ni(t){return t==null?!1:t.settings!==void 0}const ez={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oo=new Nh("app","Firebase",ez);class tz{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new go("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oo.create("app-deleted",{appName:this._name})}}const Vl=Q5;function rN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Q_,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw oo.create("bad-app-name",{appName:String(a)});if(n||(n=ZD()),!n)throw oo.create("no-options");const o=Sm.get(a);if(o){if(mo(n,o.options)&&mo(r,o.config))return o;throw oo.create("duplicate-app",{appName:a})}const l=new o5(a);for(const f of Z_.values())l.addComponent(f);const c=new tz(n,r,l);return Sm.set(a,c),c}function iN(t=Q_){const e=Sm.get(t);if(!e&&t===Q_&&ZD())return rN();if(!e)throw oo.create("no-app",{appName:t});return e}function ua(t,e,n){let r=Z5[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const l=[`Unable to register library "${r}" with version "${e}":`];a&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xa.warn(l.join(" "));return}Sl(new go(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const nz="firebase-heartbeat-database",rz=1,ah="firebase-heartbeat-store";let ib=null;function aN(){return ib||(ib=_5(nz,rz,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ah)}catch(n){console.warn(n)}}}}).catch(t=>{throw oo.create("idb-open",{originalErrorMessage:t.message})})),ib}async function iz(t){try{const n=(await aN()).transaction(ah),r=await n.objectStore(ah).get(sN(t));return await n.done,r}catch(e){if(e instanceof wa)Xa.warn(e.message);else{const n=oo.create("idb-get",{originalErrorMessage:e?.message});Xa.warn(n.message)}}}async function kO(t,e){try{const r=(await aN()).transaction(ah,"readwrite");await r.objectStore(ah).put(e,sN(t)),await r.done}catch(n){if(n instanceof wa)Xa.warn(n.message);else{const r=oo.create("idb-set",{originalErrorMessage:n?.message});Xa.warn(r.message)}}}function sN(t){return`${t.name}!${t.options.appId}`}const az=1024,sz=30;class oz{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uz(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=MO();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>sz){const a=cz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Xa.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=MO(),{heartbeatsToSend:n,unsentEntries:r}=lz(this._heartbeatsCache.heartbeats),a=Tm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Xa.warn(e),""}}}function MO(){return new Date().toISOString().substring(0,10)}function lz(t,e=az){const n=[];let r=t.slice();for(const a of t){const o=n.find(l=>l.agent===a.agent);if(o){if(o.dates.push(a.date),jO(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),jO(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class uz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YU()?XU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iz(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return kO(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return kO(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function jO(t){return Tm(JSON.stringify({version:2,heartbeats:t})).length}function cz(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function fz(t){Sl(new go("platform-logger",e=>new T5(e),"PRIVATE")),Sl(new go("heartbeat",e=>new oz(e),"PRIVATE")),ua(X_,DO,t),ua(X_,DO,"esm2020"),ua("fire-js","")}fz("");var hz="firebase",dz="12.8.0";ua(hz,dz,"app");var LO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lo,oN;(function(){var t;function e(C,D){function L(){}L.prototype=D.prototype,C.F=D.prototype,C.prototype=new L,C.prototype.constructor=C,C.D=function(q,U,M){for(var V=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)V[ge-2]=arguments[ge];return D.prototype[U].apply(q,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,D,L){L||(L=0);const q=Array(16);if(typeof D=="string")for(var U=0;U<16;++U)q[U]=D.charCodeAt(L++)|D.charCodeAt(L++)<<8|D.charCodeAt(L++)<<16|D.charCodeAt(L++)<<24;else for(U=0;U<16;++U)q[U]=D[L++]|D[L++]<<8|D[L++]<<16|D[L++]<<24;D=C.g[0],L=C.g[1],U=C.g[2];let M=C.g[3],V;V=D+(M^L&(U^M))+q[0]+3614090360&4294967295,D=L+(V<<7&4294967295|V>>>25),V=M+(U^D&(L^U))+q[1]+3905402710&4294967295,M=D+(V<<12&4294967295|V>>>20),V=U+(L^M&(D^L))+q[2]+606105819&4294967295,U=M+(V<<17&4294967295|V>>>15),V=L+(D^U&(M^D))+q[3]+3250441966&4294967295,L=U+(V<<22&4294967295|V>>>10),V=D+(M^L&(U^M))+q[4]+4118548399&4294967295,D=L+(V<<7&4294967295|V>>>25),V=M+(U^D&(L^U))+q[5]+1200080426&4294967295,M=D+(V<<12&4294967295|V>>>20),V=U+(L^M&(D^L))+q[6]+2821735955&4294967295,U=M+(V<<17&4294967295|V>>>15),V=L+(D^U&(M^D))+q[7]+4249261313&4294967295,L=U+(V<<22&4294967295|V>>>10),V=D+(M^L&(U^M))+q[8]+1770035416&4294967295,D=L+(V<<7&4294967295|V>>>25),V=M+(U^D&(L^U))+q[9]+2336552879&4294967295,M=D+(V<<12&4294967295|V>>>20),V=U+(L^M&(D^L))+q[10]+4294925233&4294967295,U=M+(V<<17&4294967295|V>>>15),V=L+(D^U&(M^D))+q[11]+2304563134&4294967295,L=U+(V<<22&4294967295|V>>>10),V=D+(M^L&(U^M))+q[12]+1804603682&4294967295,D=L+(V<<7&4294967295|V>>>25),V=M+(U^D&(L^U))+q[13]+4254626195&4294967295,M=D+(V<<12&4294967295|V>>>20),V=U+(L^M&(D^L))+q[14]+2792965006&4294967295,U=M+(V<<17&4294967295|V>>>15),V=L+(D^U&(M^D))+q[15]+1236535329&4294967295,L=U+(V<<22&4294967295|V>>>10),V=D+(U^M&(L^U))+q[1]+4129170786&4294967295,D=L+(V<<5&4294967295|V>>>27),V=M+(L^U&(D^L))+q[6]+3225465664&4294967295,M=D+(V<<9&4294967295|V>>>23),V=U+(D^L&(M^D))+q[11]+643717713&4294967295,U=M+(V<<14&4294967295|V>>>18),V=L+(M^D&(U^M))+q[0]+3921069994&4294967295,L=U+(V<<20&4294967295|V>>>12),V=D+(U^M&(L^U))+q[5]+3593408605&4294967295,D=L+(V<<5&4294967295|V>>>27),V=M+(L^U&(D^L))+q[10]+38016083&4294967295,M=D+(V<<9&4294967295|V>>>23),V=U+(D^L&(M^D))+q[15]+3634488961&4294967295,U=M+(V<<14&4294967295|V>>>18),V=L+(M^D&(U^M))+q[4]+3889429448&4294967295,L=U+(V<<20&4294967295|V>>>12),V=D+(U^M&(L^U))+q[9]+568446438&4294967295,D=L+(V<<5&4294967295|V>>>27),V=M+(L^U&(D^L))+q[14]+3275163606&4294967295,M=D+(V<<9&4294967295|V>>>23),V=U+(D^L&(M^D))+q[3]+4107603335&4294967295,U=M+(V<<14&4294967295|V>>>18),V=L+(M^D&(U^M))+q[8]+1163531501&4294967295,L=U+(V<<20&4294967295|V>>>12),V=D+(U^M&(L^U))+q[13]+2850285829&4294967295,D=L+(V<<5&4294967295|V>>>27),V=M+(L^U&(D^L))+q[2]+4243563512&4294967295,M=D+(V<<9&4294967295|V>>>23),V=U+(D^L&(M^D))+q[7]+1735328473&4294967295,U=M+(V<<14&4294967295|V>>>18),V=L+(M^D&(U^M))+q[12]+2368359562&4294967295,L=U+(V<<20&4294967295|V>>>12),V=D+(L^U^M)+q[5]+4294588738&4294967295,D=L+(V<<4&4294967295|V>>>28),V=M+(D^L^U)+q[8]+2272392833&4294967295,M=D+(V<<11&4294967295|V>>>21),V=U+(M^D^L)+q[11]+1839030562&4294967295,U=M+(V<<16&4294967295|V>>>16),V=L+(U^M^D)+q[14]+4259657740&4294967295,L=U+(V<<23&4294967295|V>>>9),V=D+(L^U^M)+q[1]+2763975236&4294967295,D=L+(V<<4&4294967295|V>>>28),V=M+(D^L^U)+q[4]+1272893353&4294967295,M=D+(V<<11&4294967295|V>>>21),V=U+(M^D^L)+q[7]+4139469664&4294967295,U=M+(V<<16&4294967295|V>>>16),V=L+(U^M^D)+q[10]+3200236656&4294967295,L=U+(V<<23&4294967295|V>>>9),V=D+(L^U^M)+q[13]+681279174&4294967295,D=L+(V<<4&4294967295|V>>>28),V=M+(D^L^U)+q[0]+3936430074&4294967295,M=D+(V<<11&4294967295|V>>>21),V=U+(M^D^L)+q[3]+3572445317&4294967295,U=M+(V<<16&4294967295|V>>>16),V=L+(U^M^D)+q[6]+76029189&4294967295,L=U+(V<<23&4294967295|V>>>9),V=D+(L^U^M)+q[9]+3654602809&4294967295,D=L+(V<<4&4294967295|V>>>28),V=M+(D^L^U)+q[12]+3873151461&4294967295,M=D+(V<<11&4294967295|V>>>21),V=U+(M^D^L)+q[15]+530742520&4294967295,U=M+(V<<16&4294967295|V>>>16),V=L+(U^M^D)+q[2]+3299628645&4294967295,L=U+(V<<23&4294967295|V>>>9),V=D+(U^(L|~M))+q[0]+4096336452&4294967295,D=L+(V<<6&4294967295|V>>>26),V=M+(L^(D|~U))+q[7]+1126891415&4294967295,M=D+(V<<10&4294967295|V>>>22),V=U+(D^(M|~L))+q[14]+2878612391&4294967295,U=M+(V<<15&4294967295|V>>>17),V=L+(M^(U|~D))+q[5]+4237533241&4294967295,L=U+(V<<21&4294967295|V>>>11),V=D+(U^(L|~M))+q[12]+1700485571&4294967295,D=L+(V<<6&4294967295|V>>>26),V=M+(L^(D|~U))+q[3]+2399980690&4294967295,M=D+(V<<10&4294967295|V>>>22),V=U+(D^(M|~L))+q[10]+4293915773&4294967295,U=M+(V<<15&4294967295|V>>>17),V=L+(M^(U|~D))+q[1]+2240044497&4294967295,L=U+(V<<21&4294967295|V>>>11),V=D+(U^(L|~M))+q[8]+1873313359&4294967295,D=L+(V<<6&4294967295|V>>>26),V=M+(L^(D|~U))+q[15]+4264355552&4294967295,M=D+(V<<10&4294967295|V>>>22),V=U+(D^(M|~L))+q[6]+2734768916&4294967295,U=M+(V<<15&4294967295|V>>>17),V=L+(M^(U|~D))+q[13]+1309151649&4294967295,L=U+(V<<21&4294967295|V>>>11),V=D+(U^(L|~M))+q[4]+4149444226&4294967295,D=L+(V<<6&4294967295|V>>>26),V=M+(L^(D|~U))+q[11]+3174756917&4294967295,M=D+(V<<10&4294967295|V>>>22),V=U+(D^(M|~L))+q[2]+718787259&4294967295,U=M+(V<<15&4294967295|V>>>17),V=L+(M^(U|~D))+q[9]+3951481745&4294967295,C.g[0]=C.g[0]+D&4294967295,C.g[1]=C.g[1]+(U+(V<<21&4294967295|V>>>11))&4294967295,C.g[2]=C.g[2]+U&4294967295,C.g[3]=C.g[3]+M&4294967295}r.prototype.v=function(C,D){D===void 0&&(D=C.length);const L=D-this.blockSize,q=this.C;let U=this.h,M=0;for(;M<D;){if(U==0)for(;M<=L;)a(this,C,M),M+=this.blockSize;if(typeof C=="string"){for(;M<D;)if(q[U++]=C.charCodeAt(M++),U==this.blockSize){a(this,q),U=0;break}}else for(;M<D;)if(q[U++]=C[M++],U==this.blockSize){a(this,q),U=0;break}}this.h=U,this.o+=D},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var D=1;D<C.length-8;++D)C[D]=0;D=this.o*8;for(var L=C.length-8;L<C.length;++L)C[L]=D&255,D/=256;for(this.v(C),C=Array(16),D=0,L=0;L<4;++L)for(let q=0;q<32;q+=8)C[D++]=this.g[L]>>>q&255;return C};function o(C,D){var L=c;return Object.prototype.hasOwnProperty.call(L,C)?L[C]:L[C]=D(C)}function l(C,D){this.h=D;const L=[];let q=!0;for(let U=C.length-1;U>=0;U--){const M=C[U]|0;q&&M==D||(L[U]=M,q=!1)}this.g=L}var c={};function f(C){return-128<=C&&C<128?o(C,function(D){return new l([D|0],D<0?-1:0)}):new l([C|0],C<0?-1:0)}function d(C){if(isNaN(C)||!isFinite(C))return m;if(C<0)return S(d(-C));const D=[];let L=1;for(let q=0;C>=L;q++)D[q]=C/L|0,L*=4294967296;return new l(D,0)}function p(C,D){if(C.length==0)throw Error("number format error: empty string");if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(C.charAt(0)=="-")return S(p(C.substring(1),D));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const L=d(Math.pow(D,8));let q=m;for(let M=0;M<C.length;M+=8){var U=Math.min(8,C.length-M);const V=parseInt(C.substring(M,M+U),D);U<8?(U=d(Math.pow(D,U)),q=q.j(U).add(d(V))):(q=q.j(L),q=q.add(d(V)))}return q}var m=f(0),v=f(1),_=f(16777216);t=l.prototype,t.m=function(){if(T(this))return-S(this).m();let C=0,D=1;for(let L=0;L<this.g.length;L++){const q=this.i(L);C+=(q>=0?q:4294967296+q)*D,D*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(w(this))return"0";if(T(this))return"-"+S(this).toString(C);const D=d(Math.pow(C,6));var L=this;let q="";for(;;){const U=z(L,D).g;L=P(L,U.j(D));let M=((L.g.length>0?L.g[0]:L.h)>>>0).toString(C);if(L=U,w(L))return M+q;for(;M.length<6;)M="0"+M;q=M+q}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function w(C){if(C.h!=0)return!1;for(let D=0;D<C.g.length;D++)if(C.g[D]!=0)return!1;return!0}function T(C){return C.h==-1}t.l=function(C){return C=P(this,C),T(C)?-1:w(C)?0:1};function S(C){const D=C.g.length,L=[];for(let q=0;q<D;q++)L[q]=~C.g[q];return new l(L,~C.h).add(v)}t.abs=function(){return T(this)?S(this):this},t.add=function(C){const D=Math.max(this.g.length,C.g.length),L=[];let q=0;for(let U=0;U<=D;U++){let M=q+(this.i(U)&65535)+(C.i(U)&65535),V=(M>>>16)+(this.i(U)>>>16)+(C.i(U)>>>16);q=V>>>16,M&=65535,V&=65535,L[U]=V<<16|M}return new l(L,L[L.length-1]&-2147483648?-1:0)};function P(C,D){return C.add(S(D))}t.j=function(C){if(w(this)||w(C))return m;if(T(this))return T(C)?S(this).j(S(C)):S(S(this).j(C));if(T(C))return S(this.j(S(C)));if(this.l(_)<0&&C.l(_)<0)return d(this.m()*C.m());const D=this.g.length+C.g.length,L=[];for(var q=0;q<2*D;q++)L[q]=0;for(q=0;q<this.g.length;q++)for(let U=0;U<C.g.length;U++){const M=this.i(q)>>>16,V=this.i(q)&65535,ge=C.i(U)>>>16,ve=C.i(U)&65535;L[2*q+2*U]+=V*ve,k(L,2*q+2*U),L[2*q+2*U+1]+=M*ve,k(L,2*q+2*U+1),L[2*q+2*U+1]+=V*ge,k(L,2*q+2*U+1),L[2*q+2*U+2]+=M*ge,k(L,2*q+2*U+2)}for(C=0;C<D;C++)L[C]=L[2*C+1]<<16|L[2*C];for(C=D;C<2*D;C++)L[C]=0;return new l(L,0)};function k(C,D){for(;(C[D]&65535)!=C[D];)C[D+1]+=C[D]>>>16,C[D]&=65535,D++}function R(C,D){this.g=C,this.h=D}function z(C,D){if(w(D))throw Error("division by zero");if(w(C))return new R(m,m);if(T(C))return D=z(S(C),D),new R(S(D.g),S(D.h));if(T(D))return D=z(C,S(D)),new R(S(D.g),D.h);if(C.g.length>30){if(T(C)||T(D))throw Error("slowDivide_ only works with positive integers.");for(var L=v,q=D;q.l(C)<=0;)L=H(L),q=H(q);var U=F(L,1),M=F(q,1);for(q=F(q,2),L=F(L,2);!w(q);){var V=M.add(q);V.l(C)<=0&&(U=U.add(L),M=V),q=F(q,1),L=F(L,1)}return D=P(C,U.j(D)),new R(U,D)}for(U=m;C.l(D)>=0;){for(L=Math.max(1,Math.floor(C.m()/D.m())),q=Math.ceil(Math.log(L)/Math.LN2),q=q<=48?1:Math.pow(2,q-48),M=d(L),V=M.j(D);T(V)||V.l(C)>0;)L-=q,M=d(L),V=M.j(D);w(M)&&(M=v),U=U.add(M),C=P(C,V)}return new R(U,C)}t.B=function(C){return z(this,C).h},t.and=function(C){const D=Math.max(this.g.length,C.g.length),L=[];for(let q=0;q<D;q++)L[q]=this.i(q)&C.i(q);return new l(L,this.h&C.h)},t.or=function(C){const D=Math.max(this.g.length,C.g.length),L=[];for(let q=0;q<D;q++)L[q]=this.i(q)|C.i(q);return new l(L,this.h|C.h)},t.xor=function(C){const D=Math.max(this.g.length,C.g.length),L=[];for(let q=0;q<D;q++)L[q]=this.i(q)^C.i(q);return new l(L,this.h^C.h)};function H(C){const D=C.g.length+1,L=[];for(let q=0;q<D;q++)L[q]=C.i(q)<<1|C.i(q-1)>>>31;return new l(L,C.h)}function F(C,D){const L=D>>5;D%=32;const q=C.g.length-L,U=[];for(let M=0;M<q;M++)U[M]=D>0?C.i(M+L)>>>D|C.i(M+L+1)<<32-D:C.i(M+L);return new l(U,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,oN=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=p,lo=l}).apply(typeof LO<"u"?LO:typeof self<"u"?self:typeof window<"u"?window:{});var Mp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lN,Ff,uN,sm,J_,cN,fN,hN;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mp=="object"&&Mp];for(var E=0;E<g.length;++E){var O=g[E];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=n(this);function a(g,E){if(E)e:{var O=r;g=g.split(".");for(var j=0;j<g.length-1;j++){var X=g[j];if(!(X in O))break e;O=O[X]}g=g[g.length-1],j=O[g],E=E(j),E!=j&&E!=null&&e(O,g,{configurable:!0,writable:!0,value:E})}}a("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(g){return g||function(E){var O=[],j;for(j in E)Object.prototype.hasOwnProperty.call(E,j)&&O.push([j,E[j]]);return O}});var o=o||{},l=this||self;function c(g){var E=typeof g;return E=="object"&&g!=null||E=="function"}function f(g,E,O){return g.call.apply(g.bind,arguments)}function d(g,E,O){return d=f,d.apply(null,arguments)}function p(g,E){var O=Array.prototype.slice.call(arguments,1);return function(){var j=O.slice();return j.push.apply(j,arguments),g.apply(this,j)}}function m(g,E){function O(){}O.prototype=E.prototype,g.Z=E.prototype,g.prototype=new O,g.prototype.constructor=g,g.Ob=function(j,X,re){for(var ye=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)ye[Ue-2]=arguments[Ue];return E.prototype[X].apply(j,ye)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function _(g){const E=g.length;if(E>0){const O=Array(E);for(let j=0;j<E;j++)O[j]=g[j];return O}return[]}function w(g,E){for(let j=1;j<arguments.length;j++){const X=arguments[j];var O=typeof X;if(O=O!="object"?O:X?Array.isArray(X)?"array":O:"null",O=="array"||O=="object"&&typeof X.length=="number"){O=g.length||0;const re=X.length||0;g.length=O+re;for(let ye=0;ye<re;ye++)g[O+ye]=X[ye]}else g.push(X)}}class T{constructor(E,O){this.i=E,this.j=O,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function S(g){l.setTimeout(()=>{throw g},0)}function P(){var g=C;let E=null;return g.g&&(E=g.g,g.g=g.g.next,g.g||(g.h=null),E.next=null),E}class k{constructor(){this.h=this.g=null}add(E,O){const j=R.get();j.set(E,O),this.h?this.h.next=j:this.g=j,this.h=j}}var R=new T(()=>new z,g=>g.reset());class z{constructor(){this.next=this.g=this.h=null}set(E,O){this.h=E,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let H,F=!1,C=new k,D=()=>{const g=Promise.resolve(void 0);H=()=>{g.then(L)}};function L(){for(var g;g=P();){try{g.h.call(g.g)}catch(O){S(O)}var E=R;E.j(g),E.h<100&&(E.h++,g.next=E.g,E.g=g)}F=!1}function q(){this.u=this.u,this.C=this.C}q.prototype.u=!1,q.prototype.dispose=function(){this.u||(this.u=!0,this.N())},q.prototype[Symbol.dispose]=function(){this.dispose()},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(g,E){this.type=g,this.g=this.target=E,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,E=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const O=()=>{};l.addEventListener("test",O,E),l.removeEventListener("test",O,E)}catch{}return g})();function V(g){return/^[\s\xa0]*$/.test(g)}function ge(g,E){U.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,E)}m(ge,U),ge.prototype.init=function(g,E){const O=this.type=g.type,j=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=E,E=g.relatedTarget,E||(O=="mouseover"?E=g.fromElement:O=="mouseout"&&(E=g.toElement)),this.relatedTarget=E,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&ge.Z.h.call(this)},ge.prototype.h=function(){ge.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var ve="closure_listenable_"+(Math.random()*1e6|0),Y=0;function oe(g,E,O,j,X){this.listener=g,this.proxy=null,this.src=E,this.type=O,this.capture=!!j,this.ha=X,this.key=++Y,this.da=this.fa=!1}function ne(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Z(g,E,O){for(const j in g)E.call(O,g[j],j,g)}function W(g,E){for(const O in g)E.call(void 0,g[O],O,g)}function B(g){const E={};for(const O in g)E[O]=g[O];return E}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fe(g,E){let O,j;for(let X=1;X<arguments.length;X++){j=arguments[X];for(O in j)g[O]=j[O];for(let re=0;re<J.length;re++)O=J[re],Object.prototype.hasOwnProperty.call(j,O)&&(g[O]=j[O])}}function pe(g){this.src=g,this.g={},this.h=0}pe.prototype.add=function(g,E,O,j,X){const re=g.toString();g=this.g[re],g||(g=this.g[re]=[],this.h++);const ye=De(g,E,j,X);return ye>-1?(E=g[ye],O||(E.fa=!1)):(E=new oe(E,this.src,re,!!j,X),E.fa=O,g.push(E)),E};function xe(g,E){const O=E.type;if(O in g.g){var j=g.g[O],X=Array.prototype.indexOf.call(j,E,void 0),re;(re=X>=0)&&Array.prototype.splice.call(j,X,1),re&&(ne(E),g.g[O].length==0&&(delete g.g[O],g.h--))}}function De(g,E,O,j){for(let X=0;X<g.length;++X){const re=g[X];if(!re.da&&re.listener==E&&re.capture==!!O&&re.ha==j)return X}return-1}var Ie="closure_lm_"+(Math.random()*1e6|0),ht={};function le(g,E,O,j,X){if(Array.isArray(E)){for(let re=0;re<E.length;re++)le(g,E[re],O,j,X);return null}return O=gs(O),g&&g[ve]?g.J(E,O,c(j)?!!j.capture:!1,X):je(g,E,O,!1,j,X)}function je(g,E,O,j,X,re){if(!E)throw Error("Invalid event type");const ye=c(X)?!!X.capture:!!X;let Ue=Ht(g);if(Ue||(g[Ie]=Ue=new pe(g)),O=Ue.add(E,O,j,ye,re),O.proxy)return O;if(j=Fe(),O.proxy=j,j.src=g,j.listener=O,g.addEventListener)M||(X=ye),X===void 0&&(X=!1),g.addEventListener(E.toString(),j,X);else if(g.attachEvent)g.attachEvent(He(E.toString()),j);else if(g.addListener&&g.removeListener)g.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return O}function Fe(){function g(O){return E.call(g.src,g.listener,O)}const E=fn;return g}function me(g,E,O,j,X){if(Array.isArray(E))for(var re=0;re<E.length;re++)me(g,E[re],O,j,X);else j=c(j)?!!j.capture:!!j,O=gs(O),g&&g[ve]?(g=g.i,re=String(E).toString(),re in g.g&&(E=g.g[re],O=De(E,O,j,X),O>-1&&(ne(E[O]),Array.prototype.splice.call(E,O,1),E.length==0&&(delete g.g[re],g.h--)))):g&&(g=Ht(g))&&(E=g.g[E.toString()],g=-1,E&&(g=De(E,O,j,X)),(O=g>-1?E[g]:null)&&Ft(O))}function Ft(g){if(typeof g!="number"&&g&&!g.da){var E=g.src;if(E&&E[ve])xe(E.i,g);else{var O=g.type,j=g.proxy;E.removeEventListener?E.removeEventListener(O,j,g.capture):E.detachEvent?E.detachEvent(He(O),j):E.addListener&&E.removeListener&&E.removeListener(j),(O=Ht(E))?(xe(O,g),O.h==0&&(O.src=null,E[Ie]=null)):ne(g)}}}function He(g){return g in ht?ht[g]:ht[g]="on"+g}function fn(g,E){if(g.da)g=!0;else{E=new ge(E,this);const O=g.listener,j=g.ha||g.src;g.fa&&Ft(g),g=O.call(j,E)}return g}function Ht(g){return g=g[Ie],g instanceof pe?g:null}var Sr="__closure_events_fn_"+(Math.random()*1e9>>>0);function gs(g){return typeof g=="function"?g:(g[Sr]||(g[Sr]=function(E){return g.handleEvent(E)}),g[Sr])}function Xt(){q.call(this),this.i=new pe(this),this.M=this,this.G=null}m(Xt,q),Xt.prototype[ve]=!0,Xt.prototype.removeEventListener=function(g,E,O,j){me(this,g,E,O,j)};function hn(g,E){var O,j=g.G;if(j)for(O=[];j;j=j.G)O.push(j);if(g=g.M,j=E.type||E,typeof E=="string")E=new U(E,g);else if(E instanceof U)E.target=E.target||g;else{var X=E;E=new U(j,g),fe(E,X)}X=!0;let re,ye;if(O)for(ye=O.length-1;ye>=0;ye--)re=E.g=O[ye],X=ys(re,j,!0,E)&&X;if(re=E.g=g,X=ys(re,j,!0,E)&&X,X=ys(re,j,!1,E)&&X,O)for(ye=0;ye<O.length;ye++)re=E.g=O[ye],X=ys(re,j,!1,E)&&X}Xt.prototype.N=function(){if(Xt.Z.N.call(this),this.i){var g=this.i;for(const E in g.g){const O=g.g[E];for(let j=0;j<O.length;j++)ne(O[j]);delete g.g[E],g.h--}}this.G=null},Xt.prototype.J=function(g,E,O,j){return this.i.add(String(g),E,!1,O,j)},Xt.prototype.K=function(g,E,O,j){return this.i.add(String(g),E,!0,O,j)};function ys(g,E,O,j){if(E=g.i.g[String(E)],!E)return!0;E=E.concat();let X=!0;for(let re=0;re<E.length;++re){const ye=E[re];if(ye&&!ye.da&&ye.capture==O){const Ue=ye.listener,Gt=ye.ha||ye.src;ye.fa&&xe(g.i,ye),X=Ue.call(Gt,j)!==!1&&X}}return X&&!j.defaultPrevented}function Xy(g,E){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=d(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:l.setTimeout(g,E||0)}function sd(g){g.g=Xy(()=>{g.g=null,g.i&&(g.i=!1,sd(g))},g.l);const E=g.h;g.h=null,g.m.apply(null,E)}class Qn extends q{constructor(E,O){super(),this.m=E,this.l=O,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:sd(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Do(g){q.call(this),this.h=g,this.g={}}m(Do,q);var Cc=[];function Ic(g){Z(g.g,function(E,O){this.g.hasOwnProperty(O)&&Ft(E)},g),g.g={}}Do.prototype.N=function(){Do.Z.N.call(this),Ic(this)},Do.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vs=l.JSON.stringify,Qy=l.JSON.parse,od=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function ld(){}function ud(){}var ci={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function In(){U.call(this,"d")}m(In,U);function zr(){U.call(this,"c")}m(zr,U);var $t={},cd=null;function Hl(){return cd=cd||new Xt}$t.Ia="serverreachability";function fd(g){U.call(this,$t.Ia,g)}m(fd,U);function ki(g){const E=Hl();hn(E,new fd(E))}$t.STAT_EVENT="statevent";function No(g,E){U.call(this,$t.STAT_EVENT,g),this.stat=E}m(No,U);function Qt(g){const E=Hl();hn(E,new No(E,g))}$t.Ja="timingevent";function Mi(g,E){U.call(this,$t.Ja,g),this.size=E}m(Mi,U);function ji(g,E){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},E)}function fi(){this.g=!0}fi.prototype.ua=function(){this.g=!1};function Zy(g,E,O,j,X,re){g.info(function(){if(g.g)if(re){var ye="",Ue=re.split("&");for(let at=0;at<Ue.length;at++){var Gt=Ue[at].split("=");if(Gt.length>1){const Ct=Gt[0];Gt=Gt[1];const Hr=Ct.split("_");ye=Hr.length>=2&&Hr[1]=="type"?ye+(Ct+"="+Gt+"&"):ye+(Ct+"=redacted&")}}}else ye=null;else ye=re;return"XMLHTTP REQ ("+j+") [attempt "+X+"]: "+E+`
`+O+`
`+ye})}function hd(g,E,O,j,X,re,ye){g.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+X+"]: "+E+`
`+O+`
`+re+" "+ye})}function Li(g,E,O,j){g.info(function(){return"XMLHTTP TEXT ("+E+"): "+Jy(g,O)+(j?" "+j:"")})}function ko(g,E){g.info(function(){return"TIMEOUT: "+E})}fi.prototype.info=function(){};function Jy(g,E){if(!g.g)return E;if(!E)return null;try{const re=JSON.parse(E);if(re){for(g=0;g<re.length;g++)if(Array.isArray(re[g])){var O=re[g];if(!(O.length<2)){var j=O[1];if(Array.isArray(j)&&!(j.length<1)){var X=j[0];if(X!="noop"&&X!="stop"&&X!="close")for(let ye=1;ye<j.length;ye++)j[ye]=""}}}}return vs(re)}catch{return E}}var Mo={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Pc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Rc;function jo(){}m(jo,ld),jo.prototype.g=function(){return new XMLHttpRequest},Rc=new jo;function Ea(g){return encodeURIComponent(String(g))}function dd(g){var E=1;g=g.split(":");const O=[];for(;E>0&&g.length;)O.push(g.shift()),E--;return g.length&&O.push(g.join(":")),O}function hi(g,E,O,j){this.j=g,this.i=E,this.l=O,this.S=j||1,this.V=new Do(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new di}function di(){this.i=null,this.g="",this.h=!1}var Zt={},vn={};function Vi(g,E,O){g.M=1,g.A=Lo(en(E)),g.u=O,g.R=!0,$l(g,null)}function $l(g,E){g.F=Date.now(),Ui(g),g.B=en(g.A);var O=g.B,j=g.S;Array.isArray(j)||(j=[String(j)]),Yl(O.i,"t",j),g.C=0,O=g.j.L,g.h=new di,g.g=Cd(g.j,O?E:null,!g.u),g.P>0&&(g.O=new Qn(d(g.Y,g,g.g),g.P)),E=g.V,O=g.g,j=g.ba;var X="readystatechange";Array.isArray(X)||(X&&(Cc[0]=X.toString()),X=Cc);for(let re=0;re<X.length;re++){const ye=le(O,X[re],j||E.handleEvent,!1,E.h||E);if(!ye)break;E.g[ye.key]=ye}E=g.J?B(g.J):{},g.u?(g.v||(g.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,E)):(g.v="GET",g.g.ea(g.B,g.v,null,E)),ki(),Zy(g.i,g.v,g.B,g.l,g.S,g.u)}hi.prototype.ba=function(g){g=g.target;const E=this.O;E&&gi(g)==3?E.j():this.Y(g)},hi.prototype.Y=function(g){try{if(g==this.g)e:{const Ue=gi(this.g),Gt=this.g.ya(),at=this.g.ca();if(!(Ue<3)&&(Ue!=3||this.g&&(this.h.h||this.g.la()||Pn(this.g)))){this.K||Ue!=4||Gt==7||(Gt==8||at<=0?ki(3):ki(2)),zi(this);var E=this.g.ca();this.X=E;var O=ev(this);if(this.o=E==200,hd(this.i,this.v,this.B,this.l,this.S,Ue,E),this.o){if(this.U&&!this.L){t:{if(this.g){var j,X=this.g;if((j=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(j)){var re=j;break t}}re=null}if(g=re)Li(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Bi(this,g);else{this.o=!1,this.m=3,Qt(12),Ar(this),Br(this);break e}}if(this.R){g=!0;let Ct;for(;!this.K&&this.C<O.length;)if(Ct=md(this,O),Ct==vn){Ue==4&&(this.m=4,Qt(14),g=!1),Li(this.i,this.l,null,"[Incomplete Response]");break}else if(Ct==Zt){this.m=4,Qt(15),Li(this.i,this.l,O,"[Invalid Chunk]"),g=!1;break}else Li(this.i,this.l,Ct,null),Bi(this,Ct);if(pd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||O.length!=0||this.h.h||(this.m=1,Qt(16),g=!1),this.o=this.o&&g,!g)Li(this.i,this.l,O,"[Invalid Chunked Response]"),Ar(this),Br(this);else if(O.length>0&&!this.W){this.W=!0;var ye=this.j;ye.g==this&&ye.aa&&!ye.P&&(ye.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),Gc(ye),ye.P=!0,Qt(11))}}else Li(this.i,this.l,O,null),Bi(this,O);Ue==4&&Ar(this),this.o&&!this.K&&(Ue==4?Sd(this.j,this):(this.o=!1,Ui(this)))}else Sa(this.g),E==400&&O.indexOf("Unknown SID")>0?(this.m=3,Qt(12)):(this.m=0,Qt(13)),Ar(this),Br(this)}}}catch{}};function ev(g){if(!pd(g))return g.g.la();const E=Pn(g.g);if(E==="")return"";let O="";const j=E.length,X=gi(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return Ar(g),Br(g),"";g.h.i=new l.TextDecoder}for(let re=0;re<j;re++)g.h.h=!0,O+=g.h.i.decode(E[re],{stream:!(X&&re==j-1)});return E.length=0,g.h.g+=O,g.C=0,g.h.g}function pd(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function md(g,E){var O=g.C,j=E.indexOf(`
`,O);return j==-1?vn:(O=Number(E.substring(O,j)),isNaN(O)?Zt:(j+=1,j+O>E.length?vn:(E=E.slice(j,j+O),g.C=j+O,E)))}hi.prototype.cancel=function(){this.K=!0,Ar(this)};function Ui(g){g.T=Date.now()+g.H,Gl(g,g.H)}function Gl(g,E){if(g.D!=null)throw Error("WatchDog timer not null");g.D=ji(d(g.aa,g),E)}function zi(g){g.D&&(l.clearTimeout(g.D),g.D=null)}hi.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(ko(this.i,this.B),this.M!=2&&(ki(),Qt(17)),Ar(this),this.m=2,Br(this)):Gl(this,this.T-g)};function Br(g){g.j.I==0||g.K||Sd(g.j,g)}function Ar(g){zi(g);var E=g.O;E&&typeof E.dispose=="function"&&E.dispose(),g.O=null,Ic(g.V),g.g&&(E=g.g,g.g=null,E.abort(),E.dispose())}function Bi(g,E){try{var O=g.j;if(O.I!=0&&(O.g==g||Fi(O.h,g))){if(!g.L&&Fi(O.h,g)&&O.I==3){try{var j=O.Ba.g.parse(E)}catch{j=null}if(Array.isArray(j)&&j.length==3){var X=j;if(X[0]==0){e:if(!O.v){if(O.g)if(O.g.F+3e3<g.F)eu(O),xs(O);else break e;Ho(O),Qt(18)}}else O.xa=X[1],0<O.xa-O.K&&X[2]<37500&&O.F&&O.A==0&&!O.C&&(O.C=ji(d(O.Va,O),6e3));qi(O.h)<=1&&O.ta&&(O.ta=void 0)}else Yi(O,11)}else if((g.L||O.g==g)&&eu(O),!V(E))for(X=O.Ba.g.parse(E),E=0;E<X.length;E++){let at=X[E];const Ct=at[0];if(!(Ct<=O.K))if(O.K=Ct,at=at[1],O.I==2)if(at[0]=="c"){O.M=at[1],O.ba=at[2];const Hr=at[3];Hr!=null&&(O.ka=Hr,O.j.info("VER="+O.ka));const Xi=at[4];Xi!=null&&(O.za=Xi,O.j.info("SVER="+O.za));const yi=at[5];yi!=null&&typeof yi=="number"&&yi>0&&(j=1.5*yi,O.O=j,O.j.info("backChannelRequestTimeoutMs_="+j)),j=O;const vi=g.g;if(vi){const $o=vi.g?vi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($o){var re=j.h;re.g||$o.indexOf("spdy")==-1&&$o.indexOf("quic")==-1&&$o.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(kc(re,re.h),re.h=null))}if(j.G){const tu=vi.g?vi.g.getResponseHeader("X-HTTP-Session-Id"):null;tu&&(j.wa=tu,lt(j.J,j.G,tu))}}O.I=3,O.l&&O.l.ra(),O.aa&&(O.T=Date.now()-g.F,O.j.info("Handshake RTT: "+O.T+"ms")),j=O;var ye=g;if(j.na=Od(j,j.L?j.ba:null,j.W),ye.L){Mc(j.h,ye);var Ue=ye,Gt=j.O;Gt&&(Ue.H=Gt),Ue.D&&(zi(Ue),Ui(Ue)),j.g=ye}else Ed(j);O.i.length>0&&Wi(O)}else at[0]!="stop"&&at[0]!="close"||Yi(O,7);else O.I==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?Yi(O,7):Hc(O):at[0]!="noop"&&O.l&&O.l.qa(at),O.A=0)}}ki(4)}catch{}}var Jt=class{constructor(g,E){this.g=g,this.map=E}};function Dc(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Nc(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function qi(g){return g.h?1:g.g?g.g.size:0}function Fi(g,E){return g.h?g.h==E:g.g?g.g.has(E):!1}function kc(g,E){g.g?g.g.add(E):g.h=E}function Mc(g,E){g.h&&g.h==E?g.h=null:g.g&&g.g.has(E)&&g.g.delete(E)}Dc.prototype.cancel=function(){if(this.i=jc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function jc(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let E=g.i;for(const O of g.g.values())E=E.concat(O.G);return E}return _(g.i)}var gd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kl(g,E){if(g){g=g.split("&");for(let O=0;O<g.length;O++){const j=g[O].indexOf("=");let X,re=null;j>=0?(X=g[O].substring(0,j),re=g[O].substring(j+1)):X=g[O],E(X,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function xr(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;g instanceof xr?(this.l=g.l,bn(this,g.j),this.o=g.o,this.g=g.g,bs(this,g.u),this.h=g.h,Lc(this,_d(g.i)),this.m=g.m):g&&(E=String(g).match(gd))?(this.l=!1,bn(this,E[1]||"",!0),this.o=Hi(E[2]||""),this.g=Hi(E[3]||"",!0),bs(this,E[4]),this.h=Hi(E[5]||"",!0),Lc(this,E[6]||"",!0),this.m=Hi(E[7]||"")):(this.l=!1,this.i=new ws(null,this.l))}xr.prototype.toString=function(){const g=[];var E=this.j;E&&g.push(Vo(E,Wl,!0),":");var O=this.g;return(O||E=="file")&&(g.push("//"),(E=this.o)&&g.push(Vo(E,Wl,!0),"@"),g.push(Ea(O).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.u,O!=null&&g.push(":",String(O))),(O=this.h)&&(this.g&&O.charAt(0)!="/"&&g.push("/"),g.push(Vo(O,O.charAt(0)=="/"?Vc:yd,!0))),(O=this.i.toString())&&g.push("?",O),(O=this.m)&&g.push("#",Vo(O,vd)),g.join("")},xr.prototype.resolve=function(g){const E=en(this);let O=!!g.j;O?bn(E,g.j):O=!!g.o,O?E.o=g.o:O=!!g.g,O?E.g=g.g:O=g.u!=null;var j=g.h;if(O)bs(E,g.u);else if(O=!!g.h){if(j.charAt(0)!="/")if(this.g&&!this.h)j="/"+j;else{var X=E.h.lastIndexOf("/");X!=-1&&(j=E.h.slice(0,X+1)+j)}if(X=j,X==".."||X==".")j="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){j=X.lastIndexOf("/",0)==0,X=X.split("/");const re=[];for(let ye=0;ye<X.length;){const Ue=X[ye++];Ue=="."?j&&ye==X.length&&re.push(""):Ue==".."?((re.length>1||re.length==1&&re[0]!="")&&re.pop(),j&&ye==X.length&&re.push("")):(re.push(Ue),j=!0)}j=re.join("/")}else j=X}return O?E.h=j:O=g.i.toString()!=="",O?Lc(E,_d(g.i)):O=!!g.m,O&&(E.m=g.m),E};function en(g){return new xr(g)}function bn(g,E,O){g.j=O?Hi(E,!0):E,g.j&&(g.j=g.j.replace(/:$/,""))}function bs(g,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);g.u=E}else g.u=null}function Lc(g,E,O){E instanceof ws?(g.i=E,Xl(g.i,g.l)):(O||(E=Vo(E,_s)),g.i=new ws(E,g.l))}function lt(g,E,O){g.i.set(E,O)}function Lo(g){return lt(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function Hi(g,E){return g?E?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Vo(g,E,O){return typeof g=="string"?(g=encodeURI(g).replace(E,sr),O&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function sr(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Wl=/[#\/\?@]/g,yd=/[#\?:]/g,Vc=/[#\?]/g,_s=/[#\?@]/g,vd=/#/g;function ws(g,E){this.h=this.g=null,this.i=g||null,this.j=!!E}function or(g){g.g||(g.g=new Map,g.h=0,g.i&&Kl(g.i,function(E,O){g.add(decodeURIComponent(E.replace(/\+/g," ")),O)}))}t=ws.prototype,t.add=function(g,E){or(this),this.i=null,g=Es(this,g);let O=this.g.get(g);return O||this.g.set(g,O=[]),O.push(E),this.h+=1,this};function bd(g,E){or(g),E=Es(g,E),g.g.has(E)&&(g.i=null,g.h-=g.g.get(E).length,g.g.delete(E))}function Uc(g,E){return or(g),E=Es(g,E),g.g.has(E)}t.forEach=function(g,E){or(this),this.g.forEach(function(O,j){O.forEach(function(X){g.call(E,X,j,this)},this)},this)};function zc(g,E){or(g);let O=[];if(typeof E=="string")Uc(g,E)&&(O=O.concat(g.g.get(Es(g,E))));else for(g=Array.from(g.g.values()),E=0;E<g.length;E++)O=O.concat(g[E]);return O}t.set=function(g,E){return or(this),this.i=null,g=Es(this,g),Uc(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[E]),this.h+=1,this},t.get=function(g,E){return g?(g=zc(this,g),g.length>0?String(g[0]):E):E};function Yl(g,E,O){bd(g,E),O.length>0&&(g.i=null,g.g.set(Es(g,E),_(O)),g.h+=O.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],E=Array.from(this.g.keys());for(let j=0;j<E.length;j++){var O=E[j];const X=Ea(O);O=zc(this,O);for(let re=0;re<O.length;re++){let ye=X;O[re]!==""&&(ye+="="+Ea(O[re])),g.push(ye)}}return this.i=g.join("&")};function _d(g){const E=new ws;return E.i=g.i,g.g&&(E.g=new Map(g.g),E.h=g.h),E}function Es(g,E){return E=String(E),g.j&&(E=E.toLowerCase()),E}function Xl(g,E){E&&!g.j&&(or(g),g.i=null,g.g.forEach(function(O,j){const X=j.toLowerCase();j!=X&&(bd(this,j),Yl(this,X,O))},g)),g.j=E}function pi(g,E){const O=new fi;if(l.Image){const j=new Image;j.onload=p(qr,O,"TestLoadImage: loaded",!0,E,j),j.onerror=p(qr,O,"TestLoadImage: error",!1,E,j),j.onabort=p(qr,O,"TestLoadImage: abort",!1,E,j),j.ontimeout=p(qr,O,"TestLoadImage: timeout",!1,E,j),l.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=g}else E(!1)}function Bc(g,E){const O=new fi,j=new AbortController,X=setTimeout(()=>{j.abort(),qr(O,"TestPingServer: timeout",!1,E)},1e4);fetch(g,{signal:j.signal}).then(re=>{clearTimeout(X),re.ok?qr(O,"TestPingServer: ok",!0,E):qr(O,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(X),qr(O,"TestPingServer: error",!1,E)})}function qr(g,E,O,j,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),j(O)}catch{}}function Ts(){this.g=new od}function $i(g){this.i=g.Sb||null,this.h=g.ab||!1}m($i,ld),$i.prototype.g=function(){return new Uo(this.i,this.h)};function Uo(g,E){Xt.call(this),this.H=g,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Uo,Xt),t=Uo.prototype,t.open=function(g,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=E,this.readyState=1,mi(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(E.body=g),(this.H||l).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ss(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ql(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ql(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var E=g.value?g.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!g.done}))&&(this.response=this.responseText+=E)}g.done?Ss(this):mi(this),this.readyState==3&&Ql(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,Ss(this))},t.Na=function(g){this.g&&(this.response=g,Ss(this))},t.ga=function(){this.g&&Ss(this)};function Ss(g){g.readyState=4,g.l=null,g.j=null,g.B=null,mi(g)}t.setRequestHeader=function(g,E){this.A.append(g,E)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],E=this.h.entries();for(var O=E.next();!O.done;)O=O.value,g.push(O[0]+": "+O[1]),O=E.next();return g.join(`\r
`)};function mi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Uo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Fr(g){let E="";return Z(g,function(O,j){E+=j,E+=":",E+=O,E+=`\r
`}),E}function zo(g,E,O){e:{for(j in O){var j=!1;break e}j=!0}j||(O=Fr(O),typeof g=="string"?O!=null&&Ea(O):lt(g,E,O))}function dt(g){Xt.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(dt,Xt);var Gi=/^https?$/i,qc=["POST","PUT"];t=dt.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,E,O,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);E=E?E.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Rc.g(),this.g.onreadystatechange=v(d(this.Ca,this));try{this.B=!0,this.g.open(E,String(g),!0),this.B=!1}catch(re){Bo(this,re);return}if(g=O||"",O=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var X in j)O.set(X,j[X]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const re of j.keys())O.set(re,j.get(re));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(O.keys()).find(re=>re.toLowerCase()=="content-type"),X=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(qc,E,void 0)>=0)||j||X||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ye]of O)this.g.setRequestHeader(re,ye);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(re){Bo(this,re)}};function Bo(g,E){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=E,g.o=5,Fc(g),Ta(g)}function Fc(g){g.A||(g.A=!0,hn(g,"complete"),hn(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,hn(this,"complete"),hn(this,"abort"),Ta(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ta(this,!0)),dt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?qo(this):this.Xa())},t.Xa=function(){qo(this)};function qo(g){if(g.h&&typeof o<"u"){if(g.v&&gi(g)==4)setTimeout(g.Ca.bind(g),0);else if(hn(g,"readystatechange"),gi(g)==4){g.h=!1;try{const re=g.ca();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var O;if(!(O=E)){var j;if(j=re===0){let ye=String(g.D).match(gd)[1]||null;!ye&&l.self&&l.self.location&&(ye=l.self.location.protocol.slice(0,-1)),j=!Gi.test(ye?ye.toLowerCase():"")}O=j}if(O)hn(g,"complete"),hn(g,"success");else{g.o=6;try{var X=gi(g)>2?g.g.statusText:""}catch{X=""}g.l=X+" ["+g.ca()+"]",Fc(g)}}finally{Ta(g)}}}}function Ta(g,E){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const O=g.g;g.g=null,E||hn(g,"ready");try{O.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function gi(g){return g.g?g.g.readyState:0}t.ca=function(){try{return gi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var E=this.g.responseText;return g&&E.indexOf(g)==0&&(E=E.substring(g.length)),Qy(E)}};function Pn(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Sa(g){const E={};g=(g.g&&gi(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<g.length;j++){if(V(g[j]))continue;var O=dd(g[j]);const X=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const re=E[X]||[];E[X]=re,re.push(O)}W(E,function(j){return j.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ki(g,E,O){return O&&O.internalChannelParams&&O.internalChannelParams[g]||E}function As(g){this.za=0,this.i=[],this.j=new fi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ki("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ki("baseRetryDelayMs",5e3,g),this.Za=Ki("retryDelaySeedMs",1e4,g),this.Ta=Ki("forwardChannelMaxRetries",2,g),this.va=Ki("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new Dc(g&&g.concurrentRequestLimit),this.Ba=new Ts,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=As.prototype,t.ka=8,t.I=1,t.connect=function(g,E,O,j){Qt(0),this.W=g,this.H=E||{},O&&j!==void 0&&(this.H.OSID=O,this.H.OAID=j),this.F=this.X,this.J=Od(this,null,this.W),Wi(this)};function Hc(g){if(Zl(g),g.I==3){var E=g.V++,O=en(g.J);if(lt(O,"SID",g.M),lt(O,"RID",E),lt(O,"TYPE","terminate"),Fo(g,O),E=new hi(g,g.j,E),E.M=2,E.A=Lo(en(O)),O=!1,l.navigator&&l.navigator.sendBeacon)try{O=l.navigator.sendBeacon(E.A.toString(),"")}catch{}!O&&l.Image&&(new Image().src=E.A,O=!0),O||(E.g=Cd(E.j,null),E.g.ea(E.A)),E.F=Date.now(),Ui(E)}xd(g)}function xs(g){g.g&&(Gc(g),g.g.cancel(),g.g=null)}function Zl(g){xs(g),g.v&&(l.clearTimeout(g.v),g.v=null),eu(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function Wi(g){if(!Nc(g.h)&&!g.m){g.m=!0;var E=g.Ea;H||D(),F||(H(),F=!0),C.add(E,g),g.D=0}}function Jl(g,E){return qi(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=E.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=ji(d(g.Ea,g,E),Ad(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const X=new hi(this,this.j,g);let re=this.o;if(this.U&&(re?(re=B(re),fe(re,this.U)):re=this.U),this.u!==null||this.R||(X.J=re,re=null),this.S)e:{for(var E=0,O=0;O<this.i.length;O++){t:{var j=this.i[O];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(E+=j,E>4096){E=O;break e}if(E===4096||O===this.i.length-1){E=O+1;break e}}E=1e3}else E=1e3;E=wd(this,X,E),O=en(this.J),lt(O,"RID",g),lt(O,"CVER",22),this.G&&lt(O,"X-HTTP-Session-Id",this.G),Fo(this,O),re&&(this.R?E="headers="+Ea(Fr(re))+"&"+E:this.u&&zo(O,this.u,re)),kc(this.h,X),this.Ra&&lt(O,"TYPE","init"),this.S?(lt(O,"$req",E),lt(O,"SID","null"),X.U=!0,Vi(X,O,null)):Vi(X,O,E),this.I=2}}else this.I==3&&(g?$c(this,g):this.i.length==0||Nc(this.h)||$c(this))};function $c(g,E){var O;E?O=E.l:O=g.V++;const j=en(g.J);lt(j,"SID",g.M),lt(j,"RID",O),lt(j,"AID",g.K),Fo(g,j),g.u&&g.o&&zo(j,g.u,g.o),O=new hi(g,g.j,O,g.D+1),g.u===null&&(O.J=g.o),E&&(g.i=E.G.concat(g.i)),E=wd(g,O,1e3),O.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),kc(g.h,O),Vi(O,j,E)}function Fo(g,E){g.H&&Z(g.H,function(O,j){lt(E,j,O)}),g.l&&Z({},function(O,j){lt(E,j,O)})}function wd(g,E,O){O=Math.min(g.i.length,O);const j=g.l?d(g.l.Ka,g.l,g):null;e:{var X=g.i;let Ue=-1;for(;;){const Gt=["count="+O];Ue==-1?O>0?(Ue=X[0].g,Gt.push("ofs="+Ue)):Ue=0:Gt.push("ofs="+Ue);let at=!0;for(let Ct=0;Ct<O;Ct++){var re=X[Ct].g;const Hr=X[Ct].map;if(re-=Ue,re<0)Ue=Math.max(0,X[Ct].g-100),at=!1;else try{re="req"+re+"_"||"";try{var ye=Hr instanceof Map?Hr:Object.entries(Hr);for(const[Xi,yi]of ye){let vi=yi;c(yi)&&(vi=vs(yi)),Gt.push(re+Xi+"="+encodeURIComponent(vi))}}catch(Xi){throw Gt.push(re+"type="+encodeURIComponent("_badmap")),Xi}}catch{j&&j(Hr)}}if(at){ye=Gt.join("&");break e}}ye=void 0}return g=g.i.splice(0,O),E.G=g,ye}function Ed(g){if(!g.g&&!g.v){g.Y=1;var E=g.Da;H||D(),F||(H(),F=!0),C.add(E,g),g.A=0}}function Ho(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=ji(d(g.Da,g),Ad(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,Td(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=ji(d(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Qt(10),xs(this),Td(this))};function Gc(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function Td(g){g.g=new hi(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var E=en(g.na);lt(E,"RID","rpc"),lt(E,"SID",g.M),lt(E,"AID",g.K),lt(E,"CI",g.F?"0":"1"),!g.F&&g.ia&&lt(E,"TO",g.ia),lt(E,"TYPE","xmlhttp"),Fo(g,E),g.u&&g.o&&zo(E,g.u,g.o),g.O&&(g.g.H=g.O);var O=g.g;g=g.ba,O.M=1,O.A=Lo(en(E)),O.u=null,O.R=!0,$l(O,g)}t.Va=function(){this.C!=null&&(this.C=null,xs(this),Ho(this),Qt(19))};function eu(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function Sd(g,E){var O=null;if(g.g==E){eu(g),Gc(g),g.g=null;var j=2}else if(Fi(g.h,E))O=E.G,Mc(g.h,E),j=1;else return;if(g.I!=0){if(E.o)if(j==1){O=E.u?E.u.length:0,E=Date.now()-E.F;var X=g.D;j=Hl(),hn(j,new Mi(j,O)),Wi(g)}else Ed(g);else if(X=E.m,X==3||X==0&&E.X>0||!(j==1&&Jl(g,E)||j==2&&Ho(g)))switch(O&&O.length>0&&(E=g.h,E.i=E.i.concat(O)),X){case 1:Yi(g,5);break;case 4:Yi(g,10);break;case 3:Yi(g,6);break;default:Yi(g,2)}}}function Ad(g,E){let O=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(O*=2),O*E}function Yi(g,E){if(g.j.info("Error code "+E),E==2){var O=d(g.bb,g),j=g.Ua;const X=!j;j=new xr(j||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||bn(j,"https"),Lo(j),X?pi(j.toString(),O):Bc(j.toString(),O)}else Qt(2);g.I=0,g.l&&g.l.pa(E),xd(g),Zl(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),Qt(2)):(this.j.info("Failed to ping google.com"),Qt(1))};function xd(g){if(g.I=0,g.ja=[],g.l){const E=jc(g.h);(E.length!=0||g.i.length!=0)&&(w(g.ja,E),w(g.ja,g.i),g.h.i.length=0,_(g.i),g.i.length=0),g.l.oa()}}function Od(g,E,O){var j=O instanceof xr?en(O):new xr(O);if(j.g!="")E&&(j.g=E+"."+j.g),bs(j,j.u);else{var X=l.location;j=X.protocol,E=E?E+"."+X.hostname:X.hostname,X=+X.port;const re=new xr(null);j&&bn(re,j),E&&(re.g=E),X&&bs(re,X),O&&(re.h=O),j=re}return O=g.G,E=g.wa,O&&E&&lt(j,O,E),lt(j,"VER",g.ka),Fo(g,j),j}function Cd(g,E,O){if(E&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=g.Aa&&!g.ma?new dt(new $i({ab:O})):new dt(g.ma),E.Fa(g.L),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Id(){}t=Id.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Os(){}Os.prototype.g=function(g,E){return new Zn(g,E)};function Zn(g,E){Xt.call(this),this.g=new As(E),this.l=g,this.h=E&&E.messageUrlParams||null,g=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(g?g["X-WebChannel-Content-Type"]=E.messageContentType:g={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(g?g["X-WebChannel-Client-Profile"]=E.sa:g={"X-WebChannel-Client-Profile":E.sa}),this.g.U=g,(g=E&&E.Qb)&&!V(g)&&(this.g.u=g),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!V(E)&&(this.g.G=E,g=this.h,g!==null&&E in g&&(g=this.h,E in g&&delete g[E])),this.j=new Aa(this)}m(Zn,Xt),Zn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Zn.prototype.close=function(){Hc(this.g)},Zn.prototype.o=function(g){var E=this.g;if(typeof g=="string"){var O={};O.__data__=g,g=O}else this.v&&(O={},O.__data__=vs(g),g=O);E.i.push(new Jt(E.Ya++,g)),E.I==3&&Wi(E)},Zn.prototype.N=function(){this.g.l=null,delete this.j,Hc(this.g),delete this.g,Zn.Z.N.call(this)};function Pd(g){In.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var E=g.__sm__;if(E){e:{for(const O in E){g=O;break e}g=void 0}(this.i=g)&&(g=this.i,E=E!==null&&g in E?E[g]:void 0),this.data=E}else this.data=g}m(Pd,In);function Rd(){zr.call(this),this.status=1}m(Rd,zr);function Aa(g){this.g=g}m(Aa,Id),Aa.prototype.ra=function(){hn(this.g,"a")},Aa.prototype.qa=function(g){hn(this.g,new Pd(g))},Aa.prototype.pa=function(g){hn(this.g,new Rd)},Aa.prototype.oa=function(){hn(this.g,"b")},Os.prototype.createWebChannel=Os.prototype.g,Zn.prototype.send=Zn.prototype.o,Zn.prototype.open=Zn.prototype.m,Zn.prototype.close=Zn.prototype.close,hN=function(){return new Os},fN=function(){return Hl()},cN=$t,J_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Mo.NO_ERROR=0,Mo.TIMEOUT=8,Mo.HTTP_ERROR=6,sm=Mo,Pc.COMPLETE="complete",uN=Pc,ud.EventType=ci,ci.OPEN="a",ci.CLOSE="b",ci.ERROR="c",ci.MESSAGE="d",Xt.prototype.listen=Xt.prototype.J,Ff=ud,dt.prototype.listenOnce=dt.prototype.K,dt.prototype.getLastError=dt.prototype.Ha,dt.prototype.getLastErrorCode=dt.prototype.ya,dt.prototype.getStatus=dt.prototype.ca,dt.prototype.getResponseJson=dt.prototype.La,dt.prototype.getResponseText=dt.prototype.la,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Fa,lN=dt}).apply(typeof Mp<"u"?Mp:typeof self<"u"?self:typeof window<"u"?window:{});let pr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};pr.UNAUTHENTICATED=new pr(null),pr.GOOGLE_CREDENTIALS=new pr("google-credentials-uid"),pr.FIRST_PARTY=new pr("first-party-uid"),pr.MOCK_USER=new pr("mock-user");let cc="12.8.0";function pz(t){cc=t}const Al=new _w("@firebase/firestore");function Mu(){return Al.logLevel}function _e(t,...e){if(Al.logLevel<=Xe.DEBUG){const n=e.map(Ew);Al.debug(`Firestore (${cc}): ${t}`,...n)}}function Qa(t,...e){if(Al.logLevel<=Xe.ERROR){const n=e.map(Ew);Al.error(`Firestore (${cc}): ${t}`,...n)}}function sh(t,...e){if(Al.logLevel<=Xe.WARN){const n=e.map(Ew);Al.warn(`Firestore (${cc}): ${t}`,...n)}}function Ew(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ne(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,dN(t,r,n)}function dN(t,e,n){let r=`FIRESTORE (${cc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Qa(r),new Error(r)}function ot(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||dN(e,a,r)}function Ve(t,e){return t}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends wa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class uo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class mz{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(pr.UNAUTHENTICATED)))}shutdown(){}}class yz{constructor(e){this.t=e,this.currentUser=pr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ot(this.o===void 0,42304);let r=this.i;const a=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let o=new uo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new uo,e.enqueueRetryable((()=>a(this.currentUser)))};const l=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},c=f=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>c(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new uo)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ot(typeof r.accessToken=="string",31837,{l:r}),new mz(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string",2055,{h:e}),new pr(e)}}class vz{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=pr.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class bz{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new vz(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(pr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class VO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _z{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ni(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ot(this.o===void 0,3512);const r=o=>{o.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,_e("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const a=o=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new VO(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ot(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new VO(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function wz(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Tw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=wz(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<n&&(r+=e.charAt(a[o]%62))}return r}}function Qe(t,e){return t<e?-1:t>e?1:0}function e1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),o=e.charAt(r);if(a!==o)return ab(a)===ab(o)?Qe(a,o):ab(a)?1:-1}return Qe(t.length,e.length)}const Ez=55296,Tz=57343;function ab(t){const e=t.charCodeAt(0);return e>=Ez&&e<=Tz}function Qu(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}const UO="__name__";class ia{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ne(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ne(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ia.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ia?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const o=ia.compareSegments(e.get(a),n.get(a));if(o!==0)return o}return Qe(e.length,n.length)}static compareSegments(e,n){const r=ia.isNumericId(e),a=ia.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?ia.extractNumericId(e).compare(ia.extractNumericId(n)):e1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return lo.fromString(e.substring(4,e.length-2))}}class Tt extends ia{construct(e,n,r){return new Tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new Tt(n)}static emptyPath(){return new Tt([])}}const Sz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vn extends ia{construct(e,n,r){return new Vn(e,n,r)}static isValidIdentifier(e){return Sz.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===UO}static keyField(){return new Vn([UO])}static fromServerFormat(e){const n=[];let r="",a=0;const o=()=>{if(r.length===0)throw new be(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;a<e.length;){const c=e[a];if(c==="\\"){if(a+1===e.length)throw new be(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new be(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else c==="`"?(l=!l,a++):c!=="."||l?(r+=c,a++):(o(),a++)}if(o(),l)throw new be(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vn(n)}static emptyPath(){return new Vn([])}}class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(Tt.fromString(e))}static fromName(e){return new Ce(Tt.fromString(e).popFirst(5))}static empty(){return new Ce(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new Tt(e.slice()))}}function pN(t,e,n){if(!n)throw new be(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Az(t,e,n,r){if(e===!0&&r===!0)throw new be(ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function zO(t){if(!Ce.isDocumentKey(t))throw new be(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function BO(t){if(Ce.isDocumentKey(t))throw new be(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function zg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ne(12329,{type:typeof t})}function Oi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zg(t);throw new be(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function un(t,e){const n={typeString:t};return e&&(n.value=e),n}function Mh(t,e){if(!mN(t))throw new be(ce.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(a&&typeof l!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new be(ce.INVALID_ARGUMENT,n);return!0}const qO=-62135596800,FO=1e6;class Ot{static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*FO);return new Ot(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<qO)throw new be(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/FO}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Mh(e,Ot._jsonSchema))return new Ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-qO;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ot._jsonSchemaVersion="firestore/timestamp/1.0",Ot._jsonSchema={type:un("string",Ot._jsonSchemaVersion),seconds:un("number"),nanoseconds:un("number")};class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new Ot(0,0))}static max(){return new Me(new Ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const oh=-1;function xz(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Me.fromTimestamp(r===1e9?new Ot(n+1,0):new Ot(n,r));return new yo(a,Ce.empty(),e)}function Oz(t){return new yo(t.readTime,t.key,oh)}class yo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new yo(Me.min(),Ce.empty(),oh)}static max(){return new yo(Me.max(),Ce.empty(),oh)}}function Cz(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ce.comparator(t.documentKey,e.documentKey),n!==0?n:Qe(t.largestBatchId,e.largestBatchId))}const Iz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Pz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function fc(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==Iz)throw t;_e("LocalStore","Unexpectedly lost primary lease")}class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new de(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof de?n:de.resolve(n)}catch(n){return de.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):de.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):de.reject(n)}static resolve(e){return new de(((n,r)=>{n(e)}))}static reject(e){return new de(((n,r)=>{r(e)}))}static waitFor(e){return new de(((n,r)=>{let a=0,o=0,l=!1;e.forEach((c=>{++a,c.next((()=>{++o,l&&o===a&&n()}),(f=>r(f)))})),l=!0,o===a&&n()}))}static or(e){let n=de.resolve(!1);for(const r of e)n=n.next((a=>a?de.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,o)=>{r.push(n.call(this,a,o))})),this.waitFor(r)}static mapArray(e,n){return new de(((r,a)=>{const o=e.length,l=new Array(o);let c=0;for(let f=0;f<o;f++){const d=f;n(e[d]).next((p=>{l[d]=p,++c,c===o&&r(l)}),(p=>a(p)))}}))}static doWhile(e,n){return new de(((r,a)=>{const o=()=>{e()===!0?n().next((()=>{o()}),a):r()};o()}))}}function Rz(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hc(t){return t.name==="IndexedDbTransactionError"}class Bg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Bg.ce=-1;const Sw=-1;function qg(t){return t==null}function Am(t){return t===0&&1/t==-1/0}function Dz(t){return typeof t=="number"&&Number.isInteger(t)&&!Am(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const gN="";function Nz(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=HO(e)),e=kz(t.get(n),e);return HO(e)}function kz(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const o=t.charAt(a);switch(o){case"\0":n+="";break;case gN:n+="";break;default:n+=o}}return n}function HO(t){return t+gN+""}function $O(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Oo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Dt{constructor(e,n){this.comparator=e,this.root=n||Ln.EMPTY}insert(e,n){return new Dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ln.BLACK,null,null))}remove(e){return new Dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ln.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jp(this.root,e,this.comparator,!1)}getReverseIterator(){return new jp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jp(this.root,e,this.comparator,!0)}}class jp{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ln{constructor(e,n,r,a,o){this.key=e,this.value=n,this.color=r??Ln.RED,this.left=a??Ln.EMPTY,this.right=o??Ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,o){return new Ln(e??this.key,n??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,n,r),null):o===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Ln.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}Ln.EMPTY=null,Ln.RED=!0,Ln.BLACK=!1;Ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,n,r,a,o){return this}insert(e,n,r){return new Ln(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class mn{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new GO(this.data.getIterator())}getIteratorFrom(e){return new GO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof mn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new mn(this.comparator);return n.data=e,n}}class GO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Mr{constructor(e){this.fields=e,e.sort(Vn.comparator)}static empty(){return new Mr([])}unionWith(e){let n=new mn(Vn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class vN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class qn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new vN("Invalid base64 string: "+o):o}})(e);return new qn(n)}static fromUint8Array(e){const n=(function(a){let o="";for(let l=0;l<a.length;++l)o+=String.fromCharCode(a[l]);return o})(e);return new qn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qn.EMPTY_BYTE_STRING=new qn("");const Mz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vo(t){if(ot(!!t,39018),typeof t=="string"){let e=0;const n=Mz.exec(t);if(ot(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yt(t.seconds),nanos:Yt(t.nanos)}}function Yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function bo(t){return typeof t=="string"?qn.fromBase64String(t):qn.fromUint8Array(t)}const bN="server_timestamp",_N="__type__",wN="__previous_value__",EN="__local_write_time__";function Aw(t){return(t?.mapValue?.fields||{})[_N]?.stringValue===bN}function Fg(t){const e=t.mapValue.fields[wN];return Aw(e)?Fg(e):e}function lh(t){const e=vo(t.mapValue.fields[EN].timestampValue);return new Ot(e.seconds,e.nanos)}class jz{constructor(e,n,r,a,o,l,c,f,d,p,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=p,this.apiKey=m}}const xm="(default)";class uh{constructor(e,n){this.projectId=e,this.database=n||xm}static empty(){return new uh("","")}get isDefaultDatabase(){return this.database===xm}isEqual(e){return e instanceof uh&&e.projectId===this.projectId&&e.database===this.database}}function Lz(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new be(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uh(t.options.projectId,e)}const TN="__type__",Vz="__max__",Lp={mapValue:{}},SN="__vector__",Om="value";function _o(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Aw(t)?4:zz(t)?9007199254740991:Uz(t)?10:11:Ne(28295,{value:t})}function ma(t,e){if(t===e)return!0;const n=_o(t);if(n!==_o(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return lh(t).isEqual(lh(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const l=vo(a.timestampValue),c=vo(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,o){return bo(a.bytesValue).isEqual(bo(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,o){return Yt(a.geoPointValue.latitude)===Yt(o.geoPointValue.latitude)&&Yt(a.geoPointValue.longitude)===Yt(o.geoPointValue.longitude)})(t,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return Yt(a.integerValue)===Yt(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const l=Yt(a.doubleValue),c=Yt(o.doubleValue);return l===c?Am(l)===Am(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return Qu(t.arrayValue.values||[],e.arrayValue.values||[],ma);case 10:case 11:return(function(a,o){const l=a.mapValue.fields||{},c=o.mapValue.fields||{};if($O(l)!==$O(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!ma(l[f],c[f])))return!1;return!0})(t,e);default:return Ne(52216,{left:t})}}function ch(t,e){return(t.values||[]).find((n=>ma(n,e)))!==void 0}function Zu(t,e){if(t===e)return 0;const n=_o(t),r=_o(e);if(n!==r)return Qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(t.booleanValue,e.booleanValue);case 2:return(function(o,l){const c=Yt(o.integerValue||o.doubleValue),f=Yt(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1})(t,e);case 3:return KO(t.timestampValue,e.timestampValue);case 4:return KO(lh(t),lh(e));case 5:return e1(t.stringValue,e.stringValue);case 6:return(function(o,l){const c=bo(o),f=bo(l);return c.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(o,l){const c=o.split("/"),f=l.split("/");for(let d=0;d<c.length&&d<f.length;d++){const p=Qe(c[d],f[d]);if(p!==0)return p}return Qe(c.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,l){const c=Qe(Yt(o.latitude),Yt(l.latitude));return c!==0?c:Qe(Yt(o.longitude),Yt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return WO(t.arrayValue,e.arrayValue);case 10:return(function(o,l){const c=o.fields||{},f=l.fields||{},d=c[Om]?.arrayValue,p=f[Om]?.arrayValue,m=Qe(d?.values?.length||0,p?.values?.length||0);return m!==0?m:WO(d,p)})(t.mapValue,e.mapValue);case 11:return(function(o,l){if(o===Lp.mapValue&&l===Lp.mapValue)return 0;if(o===Lp.mapValue)return 1;if(l===Lp.mapValue)return-1;const c=o.fields||{},f=Object.keys(c),d=l.fields||{},p=Object.keys(d);f.sort(),p.sort();for(let m=0;m<f.length&&m<p.length;++m){const v=e1(f[m],p[m]);if(v!==0)return v;const _=Zu(c[f[m]],d[p[m]]);if(_!==0)return _}return Qe(f.length,p.length)})(t.mapValue,e.mapValue);default:throw Ne(23264,{he:n})}}function KO(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qe(t,e);const n=vo(t),r=vo(e),a=Qe(n.seconds,r.seconds);return a!==0?a:Qe(n.nanos,r.nanos)}function WO(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const o=Zu(n[a],r[a]);if(o)return o}return Qe(n.length,r.length)}function Ju(t){return t1(t)}function t1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=vo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return bo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ce.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const o of n.values||[])a?a=!1:r+=",",r+=t1(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",o=!0;for(const l of r)o?o=!1:a+=",",a+=`${l}:${t1(n.fields[l])}`;return a+"}"})(t.mapValue):Ne(61005,{value:t})}function om(t){switch(_o(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fg(t);return e?16+om(e):16;case 5:return 2*t.stringValue.length;case 6:return bo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+om(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return Oo(r.fields,((o,l)=>{a+=o.length+om(l)})),a})(t.mapValue);default:throw Ne(13486,{value:t})}}function YO(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function n1(t){return!!t&&"integerValue"in t}function xw(t){return!!t&&"arrayValue"in t}function XO(t){return!!t&&"nullValue"in t}function QO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function lm(t){return!!t&&"mapValue"in t}function Uz(t){return(t?.mapValue?.fields||{})[TN]?.stringValue===SN}function Qf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Oo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Qf(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qf(t.arrayValue.values[n]);return e}return{...t}}function zz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Vz}class gr{constructor(e){this.value=e}static empty(){return new gr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!lm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qf(n)}setAll(e){let n=Vn.emptyPath(),r={},a=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const f=this.getFieldsMap(n);this.applyChanges(f,r,a),r={},a=[],n=c.popLast()}l?r[c.lastSegment()]=Qf(l):a.push(c.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,a)}delete(e){const n=this.field(e.popLast());lm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ma(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];lm(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){Oo(n,((a,o)=>e[a]=o));for(const a of r)delete e[a]}clone(){return new gr(Qf(this.value))}}function AN(t){const e=[];return Oo(t.fields,((n,r)=>{const a=new Vn([n]);if(lm(r)){const o=AN(r.mapValue).fields;if(o.length===0)e.push(a);else for(const l of o)e.push(a.child(l))}else e.push(a)})),new Mr(e)}class Wn{constructor(e,n,r,a,o,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Wn(e,0,Me.min(),Me.min(),Me.min(),gr.empty(),0)}static newFoundDocument(e,n,r,a){return new Wn(e,1,n,Me.min(),r,a,0)}static newNoDocument(e,n){return new Wn(e,2,n,Me.min(),Me.min(),gr.empty(),0)}static newUnknownDocument(e,n){return new Wn(e,3,n,Me.min(),Me.min(),gr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Cm{constructor(e,n){this.position=e,this.inclusive=n}}function ZO(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const o=e[a],l=t.position[a];if(o.field.isKeyField()?r=Ce.comparator(Ce.fromName(l.referenceValue),n.key):r=Zu(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function JO(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ma(t.position[n],e.position[n]))return!1;return!0}class fh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Bz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class xN{}class ln extends xN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Fz(e,n,r):n==="array-contains"?new Gz(e,r):n==="in"?new Kz(e,r):n==="not-in"?new Wz(e,r):n==="array-contains-any"?new Yz(e,r):new ln(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Hz(e,r):new $z(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Zu(n,this.value)):n!==null&&_o(this.value)===_o(n)&&this.matchesComparison(Zu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ri extends xN{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ri(e,n)}matches(e){return ON(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ON(t){return t.op==="and"}function CN(t){return qz(t)&&ON(t)}function qz(t){for(const e of t.filters)if(e instanceof Ri)return!1;return!0}function r1(t){if(t instanceof ln)return t.field.canonicalString()+t.op.toString()+Ju(t.value);if(CN(t))return t.filters.map((e=>r1(e))).join(",");{const e=t.filters.map((n=>r1(n))).join(",");return`${t.op}(${e})`}}function IN(t,e){return t instanceof ln?(function(r,a){return a instanceof ln&&r.op===a.op&&r.field.isEqual(a.field)&&ma(r.value,a.value)})(t,e):t instanceof Ri?(function(r,a){return a instanceof Ri&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,l,c)=>o&&IN(l,a.filters[c])),!0):!1})(t,e):void Ne(19439)}function PN(t){return t instanceof ln?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ju(n.value)}`})(t):t instanceof Ri?(function(n){return n.op.toString()+" {"+n.getFilters().map(PN).join(" ,")+"}"})(t):"Filter"}class Fz extends ln{constructor(e,n,r){super(e,n,r),this.key=Ce.fromName(r.referenceValue)}matches(e){const n=Ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class Hz extends ln{constructor(e,n){super(e,"in",n),this.keys=RN("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class $z extends ln{constructor(e,n){super(e,"not-in",n),this.keys=RN("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function RN(t,e){return(e.arrayValue?.values||[]).map((n=>Ce.fromName(n.referenceValue)))}class Gz extends ln{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xw(n)&&ch(n.arrayValue,this.value)}}class Kz extends ln{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ch(this.value.arrayValue,n)}}class Wz extends ln{constructor(e,n){super(e,"not-in",n)}matches(e){if(ch(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ch(this.value.arrayValue,n)}}class Yz extends ln{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xw(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>ch(this.value.arrayValue,r)))}}class Xz{constructor(e,n=null,r=[],a=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=l,this.endAt=c,this.Te=null}}function eC(t,e=null,n=[],r=[],a=null,o=null,l=null){return new Xz(t,e,n,r,a,o,l)}function Ow(t){const e=Ve(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>r1(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),qg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Ju(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Ju(r))).join(",")),e.Te=n}return e.Te}function Cw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Bz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!IN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!JO(t.startAt,e.startAt)&&JO(t.endAt,e.endAt)}function i1(t){return Ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class dc{constructor(e,n=null,r=[],a=[],o=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Qz(t,e,n,r,a,o,l,c){return new dc(t,e,n,r,a,o,l,c)}function Hg(t){return new dc(t)}function tC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Zz(t){return Ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function DN(t){return t.collectionGroup!==null}function Zf(t){const e=Ve(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new mn(Vn.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(c=c.add(d.field))}))})),c})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new fh(o,r))})),n.has(Vn.keyField().canonicalString())||e.Ie.push(new fh(Vn.keyField(),r))}return e.Ie}function ca(t){const e=Ve(t);return e.Ee||(e.Ee=Jz(e,Zf(t))),e.Ee}function Jz(t,e){if(t.limitType==="F")return eC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new fh(a.field,o)}));const n=t.endAt?new Cm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Cm(t.startAt.position,t.startAt.inclusive):null;return eC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function a1(t,e){const n=t.filters.concat([e]);return new dc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function e9(t,e){const n=t.explicitOrderBy.concat([e]);return new dc(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function s1(t,e,n){return new dc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $g(t,e){return Cw(ca(t),ca(e))&&t.limitType===e.limitType}function NN(t){return`${Ow(ca(t))}|lt:${t.limitType}`}function ju(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>PN(a))).join(", ")}]`),qg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>Ju(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>Ju(a))).join(",")),`Target(${r})`})(ca(t))}; limitType=${t.limitType})`}function Gg(t,e){return e.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ce.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,a){for(const o of Zf(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(l,c,f){const d=ZO(l,c,f);return l.inclusive?d<=0:d<0})(r.startAt,Zf(r),a)||r.endAt&&!(function(l,c,f){const d=ZO(l,c,f);return l.inclusive?d>=0:d>0})(r.endAt,Zf(r),a))})(t,e)}function t9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function kN(t){return(e,n)=>{let r=!1;for(const a of Zf(t)){const o=n9(a,e,n);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function n9(t,e,n){const r=t.field.isKeyField()?Ce.comparator(e.key,n.key):(function(o,l,c){const f=l.data.field(o),d=c.data.field(o);return f!==null&&d!==null?Zu(f,d):Ne(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ne(19790,{direction:t.dir})}}class Ul{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Oo(this.inner,((n,r)=>{for(const[a,o]of r)e(a,o)}))}isEmpty(){return yN(this.inner)}size(){return this.innerSize}}const r9=new Dt(Ce.comparator);function Za(){return r9}const MN=new Dt(Ce.comparator);function Hf(...t){let e=MN;for(const n of t)e=e.insert(n.key,n);return e}function jN(t){let e=MN;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function hl(){return Jf()}function LN(){return Jf()}function Jf(){return new Ul((t=>t.toString()),((t,e)=>t.isEqual(e)))}const i9=new Dt(Ce.comparator),a9=new mn(Ce.comparator);function Ze(...t){let e=a9;for(const n of t)e=e.add(n);return e}const s9=new mn(Qe);function o9(){return s9}function Iw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Am(e)?"-0":e}}function VN(t){return{integerValue:""+t}}function UN(t,e){return Dz(e)?VN(e):Iw(t,e)}class Kg{constructor(){this._=void 0}}function l9(t,e,n){return t instanceof Im?(function(a,o){const l={fields:{[_N]:{stringValue:bN},[EN]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&Aw(o)&&(o=Fg(o)),o&&(l.fields[wN]=o),{mapValue:l}})(n,e):t instanceof ec?BN(t,e):t instanceof hh?qN(t,e):(function(a,o){const l=zN(a,o),c=nC(l)+nC(a.Ae);return n1(l)&&n1(a.Ae)?VN(c):Iw(a.serializer,c)})(t,e)}function u9(t,e,n){return t instanceof ec?BN(t,e):t instanceof hh?qN(t,e):n}function zN(t,e){return t instanceof dh?(function(r){return n1(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Im extends Kg{}class ec extends Kg{constructor(e){super(),this.elements=e}}function BN(t,e){const n=FN(e);for(const r of t.elements)n.some((a=>ma(a,r)))||n.push(r);return{arrayValue:{values:n}}}class hh extends Kg{constructor(e){super(),this.elements=e}}function qN(t,e){let n=FN(e);for(const r of t.elements)n=n.filter((a=>!ma(a,r)));return{arrayValue:{values:n}}}class dh extends Kg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function nC(t){return Yt(t.integerValue||t.doubleValue)}function FN(t){return xw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class HN{constructor(e,n){this.field=e,this.transform=n}}function c9(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof ec&&a instanceof ec||r instanceof hh&&a instanceof hh?Qu(r.elements,a.elements,ma):r instanceof dh&&a instanceof dh?ma(r.Ae,a.Ae):r instanceof Im&&a instanceof Im})(t.transform,e.transform)}class f9{constructor(e,n){this.version=e,this.transformResults=n}}class si{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new si}static exists(e){return new si(void 0,e)}static updateTime(e){return new si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function um(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wg{}function $N(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Pw(t.key,si.none()):new jh(t.key,t.data,si.none());{const n=t.data,r=gr.empty();let a=new mn(Vn.comparator);for(let o of e.fields)if(!a.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),a=a.add(o)}return new Co(t.key,r,new Mr(a.toArray()),si.none())}}function h9(t,e,n){t instanceof jh?(function(a,o,l){const c=a.value.clone(),f=iC(a.fieldTransforms,o,l.transformResults);c.setAll(f),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Co?(function(a,o,l){if(!um(a.precondition,o))return void o.convertToUnknownDocument(l.version);const c=iC(a.fieldTransforms,o,l.transformResults),f=o.data;f.setAll(GN(a)),f.setAll(c),o.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(a,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function eh(t,e,n,r){return t instanceof jh?(function(o,l,c,f){if(!um(o.precondition,l))return c;const d=o.value.clone(),p=aC(o.fieldTransforms,f,l);return d.setAll(p),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof Co?(function(o,l,c,f){if(!um(o.precondition,l))return c;const d=aC(o.fieldTransforms,f,l),p=l.data;return p.setAll(GN(o)),p.setAll(d),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(o,l,c){return um(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function d9(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),o=zN(r.transform,a||null);o!=null&&(n===null&&(n=gr.empty()),n.set(r.field,o))}return n||null}function rC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Qu(r,a,((o,l)=>c9(o,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class jh extends Wg{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Co extends Wg{constructor(e,n,r,a,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function GN(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function iC(t,e,n){const r=new Map;ot(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const o=t[a],l=o.transform,c=e.data.field(o.field);r.set(o.field,u9(l,c,n[a]))}return r}function aC(t,e,n){const r=new Map;for(const a of t){const o=a.transform,l=n.data.field(a.field);r.set(a.field,l9(o,l,e))}return r}class Pw extends Wg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class p9 extends Wg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class m9{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&h9(o,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=eh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=eh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=LN();return this.mutations.forEach((a=>{const o=e.get(a.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=n.has(a.key)?null:c;const f=$N(l,c);f!==null&&r.set(a.key,f),l.isValidDocument()||l.convertToNoDocument(Me.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ze())}isEqual(e){return this.batchId===e.batchId&&Qu(this.mutations,e.mutations,((n,r)=>rC(n,r)))&&Qu(this.baseMutations,e.baseMutations,((n,r)=>rC(n,r)))}}class Rw{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){ot(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return i9})();const o=e.mutations;for(let l=0;l<o.length;l++)a=a.insert(o[l].key,r[l].version);return new Rw(e,n,r,a)}}class g9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class y9{constructor(e,n){this.count=e,this.unchangedNames=n}}var sn,et;function v9(t){switch(t){case ce.OK:return Ne(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return Ne(15467,{code:t})}}function KN(t){if(t===void 0)return Qa("GRPC error has no .code"),ce.UNKNOWN;switch(t){case sn.OK:return ce.OK;case sn.CANCELLED:return ce.CANCELLED;case sn.UNKNOWN:return ce.UNKNOWN;case sn.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case sn.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case sn.INTERNAL:return ce.INTERNAL;case sn.UNAVAILABLE:return ce.UNAVAILABLE;case sn.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case sn.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case sn.NOT_FOUND:return ce.NOT_FOUND;case sn.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case sn.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case sn.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case sn.ABORTED:return ce.ABORTED;case sn.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case sn.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case sn.DATA_LOSS:return ce.DATA_LOSS;default:return Ne(39323,{code:t})}}(et=sn||(sn={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";function b9(){return new TextEncoder}const _9=new lo([4294967295,4294967295],0);function sC(t){const e=b9().encode(t),n=new oN;return n.update(e),new Uint8Array(n.digest())}function oC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new lo([n,r],0),new lo([a,o],0)]}class Dw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $f(`Invalid padding: ${n}`);if(r<0)throw new $f(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $f(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $f(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=lo.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(lo.fromNumber(r)));return a.compare(_9)===1&&(a=new lo([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=sC(e),[r,a]=oC(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,a,o);if(!this.we(l))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Dw(o,a,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=sC(e),[r,a]=oC(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,a,o);this.be(l)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $f extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Yg{constructor(e,n,r,a,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,Lh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Yg(Me.min(),a,new Dt(Qe),Za(),Ze())}}class Lh{constructor(e,n,r,a,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Lh(r,n,Ze(),Ze(),Ze())}}class cm{constructor(e,n,r,a){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=a}}class WN{constructor(e,n){this.targetId=e,this.Ce=n}}class YN{constructor(e,n,r=qn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class lC{constructor(){this.ve=0,this.Fe=uC(),this.Me=qn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ze(),n=Ze(),r=Ze();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Ne(38017,{changeType:o})}})),new Lh(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=uC()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ot(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class w9{constructor(e){this.Ge=e,this.ze=new Map,this.je=Za(),this.He=Vp(),this.Je=Vp(),this.Ze=new Dt(Qe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const o=a.target;if(i1(o))if(r===0){const l=new Ce(o.path);this.et(n,l,Wn.newNoDocument(l,Me.min()))}else ot(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),f=c?this.ct(c,e,l):1;if(f!==0){this.it(n);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=n;let l,c;try{l=bo(r).toUint8Array()}catch(f){if(f instanceof vN)return sh("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new Dw(l,a,o)}catch(f){return sh(f instanceof $f?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((o=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(n,o,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((o,l)=>{const c=this.ot(l);if(c){if(o.current&&i1(c.target)){const f=new Ce(c.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,Wn.newNoDocument(f,e))}o.Be&&(n.set(l,o.ke()),o.Ke())}}));let r=Ze();this.Je.forEach(((o,l)=>{let c=!0;l.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const a=new Yg(e,n,this.Ze,this.je,r);return this.je=Za(),this.He=Vp(),this.Je=Vp(),this.Ze=new Dt(Qe),a}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new lC,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new mn(Qe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new mn(Qe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new lC),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Vp(){return new Dt(Ce.comparator)}function uC(){return new Dt(Ce.comparator)}const E9={asc:"ASCENDING",desc:"DESCENDING"},T9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},S9={and:"AND",or:"OR"};class A9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function o1(t,e){return t.useProto3Json||qg(e)?e:{value:e}}function Pm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function x9(t,e){return Pm(t,e.toTimestamp())}function fa(t){return ot(!!t,49232),Me.fromTimestamp((function(n){const r=vo(n);return new Ot(r.seconds,r.nanos)})(t))}function Nw(t,e){return l1(t,e).canonicalString()}function l1(t,e){const n=(function(a){return new Tt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function QN(t){const e=Tt.fromString(t);return ot(nk(e),10190,{key:e.toString()}),e}function u1(t,e){return Nw(t.databaseId,e.path)}function sb(t,e){const n=QN(e);if(n.get(1)!==t.databaseId.projectId)throw new be(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ce(JN(n))}function ZN(t,e){return Nw(t.databaseId,e)}function O9(t){const e=QN(t);return e.length===4?Tt.emptyPath():JN(e)}function c1(t){return new Tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function JN(t){return ot(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function cC(t,e,n){return{name:u1(t,e),fields:n.value.mapValue.fields}}function C9(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ne(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(d,p){return d.useProto3Json?(ot(p===void 0||typeof p=="string",58123),qn.fromBase64String(p||"")):(ot(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),qn.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(d){const p=d.code===void 0?ce.UNKNOWN:KN(d.code);return new be(p,d.message||"")})(l);n=new YN(r,a,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=sb(t,r.document.name),o=fa(r.document.updateTime),l=r.document.createTime?fa(r.document.createTime):Me.min(),c=new gr({mapValue:{fields:r.document.fields}}),f=Wn.newFoundDocument(a,o,l,c),d=r.targetIds||[],p=r.removedTargetIds||[];n=new cm(d,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=sb(t,r.document),o=r.readTime?fa(r.readTime):Me.min(),l=Wn.newNoDocument(a,o),c=r.removedTargetIds||[];n=new cm([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=sb(t,r.document),o=r.removedTargetIds||[];n=new cm([],o,a,null)}else{if(!("filter"in e))return Ne(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,l=new y9(a,o),c=r.targetId;n=new WN(c,l)}}return n}function I9(t,e){let n;if(e instanceof jh)n={update:cC(t,e.key,e.value)};else if(e instanceof Pw)n={delete:u1(t,e.key)};else if(e instanceof Co)n={update:cC(t,e.key,e.data),updateMask:V9(e.fieldMask)};else{if(!(e instanceof p9))return Ne(16599,{dt:e.type});n={verify:u1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,l){const c=l.transform;if(c instanceof Im)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof ec)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof hh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof dh)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Ne(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:x9(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ne(27497)})(t,e.precondition)),n}function P9(t,e){return t&&t.length>0?(ot(e!==void 0,14353),t.map((n=>(function(a,o){let l=a.updateTime?fa(a.updateTime):fa(o);return l.isEqual(Me.min())&&(l=fa(o)),new f9(l,a.transformResults||[])})(n,e)))):[]}function R9(t,e){return{documents:[ZN(t,e.path)]}}function D9(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ZN(t,a);const o=(function(d){if(d.length!==0)return tk(Ri.create(d,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const l=(function(d){if(d.length!==0)return d.map((p=>(function(v){return{field:Lu(v.field),direction:M9(v.dir)}})(p)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=o1(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:a}}function N9(t){let e=O9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){ot(r===1,65062);const p=n.from[0];p.allDescendants?a=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=(function(m){const v=ek(m);return v instanceof Ri&&CN(v)?v.getFilters():[v]})(n.where));let l=[];n.orderBy&&(l=(function(m){return m.map((v=>(function(w){return new fh(Vu(w.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(v)))})(n.orderBy));let c=null;n.limit&&(c=(function(m){let v;return v=typeof m=="object"?m.value:m,qg(v)?null:v})(n.limit));let f=null;n.startAt&&(f=(function(m){const v=!!m.before,_=m.values||[];return new Cm(_,v)})(n.startAt));let d=null;return n.endAt&&(d=(function(m){const v=!m.before,_=m.values||[];return new Cm(_,v)})(n.endAt)),Qz(e,a,l,o,c,"F",f,d)}function k9(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ek(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Vu(n.unaryFilter.field);return ln.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Vu(n.unaryFilter.field);return ln.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Vu(n.unaryFilter.field);return ln.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Vu(n.unaryFilter.field);return ln.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}})(t):t.fieldFilter!==void 0?(function(n){return ln.create(Vu(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ri.create(n.compositeFilter.filters.map((r=>ek(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}})(n.compositeFilter.op))})(t):Ne(30097,{filter:t})}function M9(t){return E9[t]}function j9(t){return T9[t]}function L9(t){return S9[t]}function Lu(t){return{fieldPath:t.canonicalString()}}function Vu(t){return Vn.fromServerFormat(t.fieldPath)}function tk(t){return t instanceof ln?(function(n){if(n.op==="=="){if(QO(n.value))return{unaryFilter:{field:Lu(n.field),op:"IS_NAN"}};if(XO(n.value))return{unaryFilter:{field:Lu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(QO(n.value))return{unaryFilter:{field:Lu(n.field),op:"IS_NOT_NAN"}};if(XO(n.value))return{unaryFilter:{field:Lu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lu(n.field),op:j9(n.op),value:n.value}}})(t):t instanceof Ri?(function(n){const r=n.getFilters().map((a=>tk(a)));return r.length===1?r[0]:{compositeFilter:{op:L9(n.op),filters:r}}})(t):Ne(54877,{filter:t})}function V9(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function nk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function rk(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class io{constructor(e,n,r,a,o=Me.min(),l=Me.min(),c=qn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new io(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new io(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class U9{constructor(e){this.yt=e}}function z9(t){const e=N9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?s1(e,e.limit,"L"):e}class B9{constructor(){this.Sn=new q9}addToCollectionParentIndex(e,n){return this.Sn.add(n),de.resolve()}getCollectionParents(e,n){return de.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return de.resolve()}deleteFieldIndex(e,n){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,n){return de.resolve()}getDocumentsMatchingTarget(e,n){return de.resolve(null)}getIndexType(e,n){return de.resolve(0)}getFieldIndexes(e,n){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,n){return de.resolve(yo.min())}getMinOffsetFromCollectionGroup(e,n){return de.resolve(yo.min())}updateCollectionGroup(e,n,r){return de.resolve()}updateIndexEntries(e,n){return de.resolve()}}class q9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new mn(Tt.comparator),o=!a.has(r);return this.index[n]=a.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new mn(Tt.comparator)).toArray()}}const fC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ik=41943040;class mr{static withCacheSize(e){return new mr(e,mr.DEFAULT_COLLECTION_PERCENTILE,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}mr.DEFAULT_COLLECTION_PERCENTILE=10,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mr.DEFAULT=new mr(ik,mr.DEFAULT_COLLECTION_PERCENTILE,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mr.DISABLED=new mr(-1,0,0);class tc{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new tc(0)}static ar(){return new tc(-1)}}const hC="LruGarbageCollector",ak=1048576;function dC([t,e],[n,r]){const a=Qe(t,n);return a===0?Qe(e,r):a}class F9{constructor(e){this.Pr=e,this.buffer=new mn(dC),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();dC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class H9{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){_e(hC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){hc(n)?_e(hC,"Ignoring IndexedDB error during garbage collection: ",n):await fc(n)}await this.Ar(3e5)}))}}class $9{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return de.resolve(Bg.ce);const r=new F9(n);return this.Vr.forEachTarget(e,(a=>r.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>r.Er(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(fC)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fC):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,a,o,l,c,f,d;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),a=this.params.maximumSequenceNumbersToCollect):a=m,l=Date.now(),this.nthSequenceNumber(e,a)))).next((m=>(r=m,c=Date.now(),this.removeTargets(e,r,n)))).next((m=>(o=m,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(d=Date.now(),Mu()<=Xe.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${a} in `+(c-l)+`ms
	Removed ${o} targets in `+(f-c)+`ms
	Removed ${m} documents in `+(d-f)+`ms
Total Duration: ${d-p}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:m}))))}}function G9(t,e){return new $9(t,e)}class K9{constructor(){this.changes=new Ul((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?de.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class W9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Y9{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&eh(r.mutation,a,Mr.empty(),Ot.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ze()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ze()){const a=hl();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((o=>{let l=Hf();return o.forEach(((c,f)=>{l=l.insert(c,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=hl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ze())))}populateOverlays(e,n,r){const a=[];return r.forEach((o=>{n.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,a){let o=Za();const l=Jf(),c=(function(){return Jf()})();return n.forEach(((f,d)=>{const p=r.get(d.key);a.has(d.key)&&(p===void 0||p.mutation instanceof Co)?o=o.insert(d.key,d):p!==void 0?(l.set(d.key,p.mutation.getFieldMask()),eh(p.mutation,d,p.mutation.getFieldMask(),Ot.now())):l.set(d.key,Mr.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((d,p)=>l.set(d,p))),n.forEach(((d,p)=>c.set(d,new W9(p,l.get(d)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Jf();let a=new Dt(((l,c)=>l-c)),o=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((f=>{const d=n.get(f);if(d===null)return;let p=r.get(f)||Mr.empty();p=c.applyToLocalView(d,p),r.set(f,p);const m=(a.get(c.batchId)||Ze()).add(f);a=a.insert(c.batchId,m)}))})).next((()=>{const l=[],c=a.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),d=f.key,p=f.value,m=LN();p.forEach((v=>{if(!o.has(v)){const _=$N(n.get(v),r.get(v));_!==null&&m.set(v,_),o=o.add(v)}})),l.push(this.documentOverlayCache.saveOverlays(e,d,m))}return de.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return Zz(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):DN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((o=>{const l=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-o.size):de.resolve(hl());let c=oh,f=o;return l.next((d=>de.forEach(d,((p,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),o.get(p)?de.resolve():this.remoteDocumentCache.getEntry(e,p).next((v=>{f=f.insert(p,v)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,f,d,Ze()))).next((p=>({batchId:c,changes:jN(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ce(n)).next((r=>{let a=Hf();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const o=n.collectionGroup;let l=Hf();return this.indexManager.getCollectionParents(e,o).next((c=>de.forEach(c,(f=>{const d=(function(m,v){return new dc(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,a).next((p=>{p.forEach(((m,v)=>{l=l.insert(m,v)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,a)))).next((l=>{o.forEach(((f,d)=>{const p=d.getKey();l.get(p)===null&&(l=l.insert(p,Wn.newInvalidDocument(p)))}));let c=Hf();return l.forEach(((f,d)=>{const p=o.get(f);p!==void 0&&eh(p.mutation,d,Mr.empty(),Ot.now()),Gg(n,d)&&(c=c.insert(f,d))})),c}))}}class X9{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return de.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:fa(a.createTime)}})(n)),de.resolve()}getNamedQuery(e,n){return de.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:z9(a.bundledQuery),readTime:fa(a.readTime)}})(n)),de.resolve()}}class Q9{constructor(){this.overlays=new Dt(Ce.comparator),this.Lr=new Map}getOverlay(e,n){return de.resolve(this.overlays.get(n))}getOverlays(e,n){const r=hl();return de.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,o)=>{this.bt(e,n,o)})),de.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.Lr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(r)),de.resolve()}getOverlaysForCollection(e,n,r){const a=hl(),o=n.length+1,l=new Ce(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,d=f.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>r&&a.set(f.getKey(),f)}return de.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let o=new Dt(((d,p)=>d-p));const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let p=o.get(d.largestBatchId);p===null&&(p=hl(),o=o.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const c=hl(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,p)=>c.set(d,p))),!(c.size()>=a)););return de.resolve(c)}bt(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const l=this.Lr.get(a.largestBatchId).delete(r.key);this.Lr.set(a.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new g9(n,r));let o=this.Lr.get(n);o===void 0&&(o=Ze(),this.Lr.set(n,o)),this.Lr.set(n,o.add(r.key))}}class Z9{constructor(){this.sessionToken=qn.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,de.resolve()}}class kw{constructor(){this.kr=new mn(Tn.Kr),this.qr=new mn(Tn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Tn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Tn(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new Ce(new Tt([])),r=new Tn(n,e),a=new Tn(n,e+1),o=[];return this.qr.forEachInRange([r,a],(l=>{this.Wr(l),o.push(l.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ce(new Tt([])),r=new Tn(n,e),a=new Tn(n,e+1);let o=Ze();return this.qr.forEachInRange([r,a],(l=>{o=o.add(l.key)})),o}containsKey(e){const n=new Tn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Tn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ce.comparator(e.key,n.key)||Qe(e.Hr,n.Hr)}static Ur(e,n){return Qe(e.Hr,n.Hr)||Ce.comparator(e.key,n.key)}}class J9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new mn(Tn.Kr)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new m9(o,n,r,a);this.mutationQueue.push(l);for(const c of a)this.Jr=this.Jr.add(new Tn(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return de.resolve(l)}lookupMutationBatch(e,n){return de.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.Xr(r),o=a<0?0:a;return de.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?Sw:this.Yn-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Tn(n,0),a=new Tn(n,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,a],(l=>{const c=this.Zr(l.Hr);o.push(c)})),de.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new mn(Qe);return n.forEach((a=>{const o=new Tn(a,0),l=new Tn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,l],(c=>{r=r.add(c.Hr)}))})),de.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let o=r;Ce.isDocumentKey(o)||(o=o.child(""));const l=new Tn(new Ce(o),0);let c=new mn(Qe);return this.Jr.forEachWhile((f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===a&&(c=c.add(f.Hr)),!0)}),l),de.resolve(this.Yr(c))}Yr(e){const n=[];return e.forEach((r=>{const a=this.Zr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){ot(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return de.forEach(n.mutations,(a=>{const o=new Tn(a.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Tn(n,0),a=this.Jr.firstAfterOrEqual(r);return de.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class eB{constructor(e){this.ti=e,this.docs=(function(){return new Dt(Ce.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),o=a?a.size:0,l=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return de.resolve(r?r.document.mutableCopy():Wn.newInvalidDocument(n))}getEntries(e,n){let r=Za();return n.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():Wn.newInvalidDocument(a))})),de.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let o=Za();const l=n.path,c=new Ce(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:d,value:{document:p}}=f.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||Cz(Oz(p),r)<=0||(a.has(p.key)||Gg(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return de.resolve(o)}getAllFromCollectionGroup(e,n,r,a){Ne(9500)}ni(e,n){return de.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new tB(this)}getSize(e){return de.resolve(this.size)}}class tB extends K9{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(r)})),de.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class nB{constructor(e){this.persistence=e,this.ri=new Ul((n=>Ow(n)),Cw),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.ii=0,this.si=new kw,this.targetCount=0,this.oi=tc._r()}forEachTarget(e,n){return this.ri.forEach(((r,a)=>n(a))),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),de.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new tc(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,de.resolve()}updateTargetData(e,n){return this.lr(n),de.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,n,r){let a=0;const o=[];return this.ri.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ri.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),a++)})),de.waitFor(o).next((()=>a))}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return de.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),de.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const a=this.persistence.referenceDelegate,o=[];return a&&n.forEach((l=>{o.push(a.markPotentiallyOrphaned(e,l))})),de.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),de.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return de.resolve(r)}containsKey(e,n){return de.resolve(this.si.containsKey(n))}}class sk{constructor(e,n){this._i={},this.overlays={},this.ai=new Bg(0),this.ui=!1,this.ui=!0,this.ci=new Z9,this.referenceDelegate=e(this),this.li=new nB(this),this.indexManager=new B9,this.remoteDocumentCache=(function(a){return new eB(a)})((r=>this.referenceDelegate.hi(r))),this.serializer=new U9(n),this.Pi=new X9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Q9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new J9(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){_e("MemoryPersistence","Starting transaction:",e);const a=new rB(this.ai.next());return this.referenceDelegate.Ti(),r(a).next((o=>this.referenceDelegate.Ii(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ei(e,n){return de.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class rB extends Pz{constructor(e){super(),this.currentSequenceNumber=e}}class Mw{constructor(e){this.persistence=e,this.Ri=new kw,this.Ai=null}static Vi(e){return new Mw(e)}get di(){if(this.Ai)return this.Ai;throw Ne(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),de.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),de.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((o=>this.di.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.di,(r=>{const a=Ce.fromPath(r);return this.mi(e,a).next((o=>{o||n.removeEntry(a,Me.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return de.or([()=>de.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Rm{constructor(e,n){this.persistence=e,this.fi=new Ul((r=>Nz(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=G9(this,n)}static Vi(e,n){return new Rm(e,n)}Ti(){}Ii(e){return de.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return de.forEach(this.fi,((r,a)=>this.wr(e,r,a).next((o=>o?de.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ni(e,(l=>this.wr(e,l,n).next((c=>{c||(r++,o.removeEntry(l,Me.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),de.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),de.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),de.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=om(e.data.value)),n}wr(e,n,r){return de.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return de.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class jw{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=a}static Es(e,n){let r=Ze(),a=Ze();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new jw(e,n.fromCache,r,a)}}class iB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class aB{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return WU()?8:Rz(Xn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const o={result:null};return this.gs(e,n).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ps(e,n,a,r).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new iB;return this.ys(e,n,l).next((c=>{if(o.result=c,this.As)return this.ws(e,n,l,c.size)}))})).next((()=>o.result))}ws(e,n,r,a){return r.documentReadCount<this.Vs?(Mu()<=Xe.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",ju(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),de.resolve()):(Mu()<=Xe.DEBUG&&_e("QueryEngine","Query:",ju(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(Mu()<=Xe.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",ju(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ca(n))):de.resolve())}gs(e,n){if(tC(n))return de.resolve(null);let r=ca(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=s1(n,null,"F"),r=ca(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const l=Ze(...o);return this.fs.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((f=>{const d=this.bs(n,c);return this.Ss(n,d,l,f.readTime)?this.gs(e,s1(n,null,"F")):this.Ds(e,d,n,f)}))))})))))}ps(e,n,r,a){return tC(n)||a.isEqual(Me.min())?de.resolve(null):this.fs.getDocuments(e,r).next((o=>{const l=this.bs(n,o);return this.Ss(n,l,r,a)?de.resolve(null):(Mu()<=Xe.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ju(n)),this.Ds(e,l,n,xz(a,oh)).next((c=>c)))}))}bs(e,n){let r=new mn(kN(e));return n.forEach(((a,o)=>{Gg(e,o)&&(r=r.add(o))})),r}Ss(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}ys(e,n,r){return Mu()<=Xe.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",ju(n)),this.fs.getDocumentsMatchingQuery(e,n,yo.min(),r)}Ds(e,n,r,a){return this.fs.getDocumentsMatchingQuery(e,r,a).next((o=>(n.forEach((l=>{o=o.insert(l.key,l)})),o)))}}const Lw="LocalStore",sB=3e8;class oB{constructor(e,n,r,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new Dt(Qe),this.Fs=new Ul((o=>Ow(o)),Cw),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Y9(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function lB(t,e,n,r){return new oB(t,e,n,r)}async function ok(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const l=[],c=[];let f=Ze();for(const d of a){l.push(d.batchId);for(const p of d.mutations)f=f.add(p.key)}for(const d of o){c.push(d.batchId);for(const p of d.mutations)f=f.add(p.key)}return n.localDocuments.getDocuments(r,f).next((d=>({Ns:d,removedBatchIds:l,addedBatchIds:c})))}))}))}function uB(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),o=n.xs.newChangeBuffer({trackRemovals:!0});return(function(c,f,d,p){const m=d.batch,v=m.keys();let _=de.resolve();return v.forEach((w=>{_=_.next((()=>p.getEntry(f,w))).next((T=>{const S=d.docVersions.get(w);ot(S!==null,48541),T.version.compareTo(S)<0&&(m.applyToRemoteDocument(T,d),T.isValidDocument()&&(T.setReadTime(d.commitVersion),p.addEntry(T)))}))})),_.next((()=>c.mutationQueue.removeMutationBatch(f,m)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let f=Ze();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(f=f.add(c.batch.mutations[d].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function lk(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function cB(t,e){const n=Ve(t),r=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const c=[];e.targetChanges.forEach(((p,m)=>{const v=a.get(m);if(!v)return;c.push(n.li.removeMatchingKeys(o,p.removedDocuments,m).next((()=>n.li.addMatchingKeys(o,p.addedDocuments,m))));let _=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?_=_.withResumeToken(qn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,r)),a=a.insert(m,_),(function(T,S,P){return T.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=sB?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(v,_,p)&&c.push(n.li.updateTargetData(o,_))}));let f=Za(),d=Ze();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))})),c.push(fB(o,l,e.documentUpdates).next((p=>{f=p.Bs,d=p.Ls}))),!r.isEqual(Me.min())){const p=n.li.getLastRemoteSnapshotVersion(o).next((m=>n.li.setTargetsMetadata(o,o.currentSequenceNumber,r)));c.push(p)}return de.waitFor(c).next((()=>l.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(n.vs=a,o)))}function fB(t,e,n){let r=Ze(),a=Ze();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let l=Za();return n.forEach(((c,f)=>{const d=o.get(c);f.isFoundDocument()!==d.isFoundDocument()&&(a=a.add(c)),f.isNoDocument()&&f.version.isEqual(Me.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):_e(Lw,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",f.version)})),{Bs:l,Ls:a}}))}function hB(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Sw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function dB(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.li.getTargetData(r,e).next((o=>o?(a=o,de.resolve(a)):n.li.allocateTargetId(r).next((l=>(a=new io(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.vs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function f1(t,e,n){const r=Ve(t),a=r.vs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(l=>r.persistence.referenceDelegate.removeTarget(l,a)))}catch(l){if(!hc(l))throw l;_e(Lw,`Failed to update sequence numbers for target ${e}: ${l}`)}r.vs=r.vs.remove(e),r.Fs.delete(a.target)}function pC(t,e,n){const r=Ve(t);let a=Me.min(),o=Ze();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,d,p){const m=Ve(f),v=m.Fs.get(p);return v!==void 0?de.resolve(m.vs.get(v)):m.li.getTargetData(d,p)})(r,l,ca(e)).next((c=>{if(c)return a=c.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(l,c.targetId).next((f=>{o=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(l,e,n?a:Me.min(),n?o:Ze()))).next((c=>(pB(r,t9(e),c),{documents:c,ks:o})))))}function pB(t,e,n){let r=t.Ms.get(e)||Me.min();n.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Ms.set(e,r)}class mC{constructor(){this.activeTargetIds=o9()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mB{constructor(){this.vo=new mC,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new mC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class gB{Mo(e){}shutdown(){}}const gC="ConnectivityMonitor";class yC{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){_e(gC,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){_e(gC,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Up=null;function h1(){return Up===null?Up=(function(){return 268435456+Math.round(2147483648*Math.random())})():Up++,"0x"+Up.toString(16)}const ob="RestConnection",yB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class vB{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${a}`,this.$o=this.databaseId.database===xm?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Wo(e,n,r,a,o){const l=h1(),c=this.Qo(e,n.toUriEncodedString());_e(ob,`Sending RPC '${e}' ${l}:`,c,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,a,o);const{host:d}=new URL(c),p=xo(d);return this.zo(e,c,f,r,p).then((m=>(_e(ob,`Received RPC '${e}' ${l}: `,m),m)),(m=>{throw sh(ob,`RPC '${e}' ${l} failed with error: `,m,"url: ",c,"request:",r),m}))}jo(e,n,r,a,o,l){return this.Wo(e,n,r,a,o)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+cc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,o)=>e[o]=a)),r&&r.headers.forEach(((a,o)=>e[o]=a))}Qo(e,n){const r=yB[e];let a=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class bB{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Gn="WebChannelConnection",Df=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Fu extends vB{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Fu.c_){const e=fN();Df(e,cN.STAT_EVENT,(n=>{n.stat===J_.PROXY?_e(Gn,"STAT_EVENT: detected buffering proxy"):n.stat===J_.NOPROXY&&_e(Gn,"STAT_EVENT: detected no buffering proxy")})),Fu.c_=!0}}zo(e,n,r,a,o){const l=h1();return new Promise(((c,f)=>{const d=new lN;d.setWithCredentials(!0),d.listenOnce(uN.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case sm.NO_ERROR:const m=d.getResponseJson();_e(Gn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(m)),c(m);break;case sm.TIMEOUT:_e(Gn,`RPC '${e}' ${l} timed out`),f(new be(ce.DEADLINE_EXCEEDED,"Request time out"));break;case sm.HTTP_ERROR:const v=d.getStatus();if(_e(Gn,`RPC '${e}' ${l} failed with status:`,v,"response text:",d.getResponseText()),v>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const w=_?.error;if(w&&w.status&&w.message){const T=(function(P){const k=P.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(k)>=0?k:ce.UNKNOWN})(w.status);f(new be(T,w.message))}else f(new be(ce.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new be(ce.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:l,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{_e(Gn,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(a);_e(Gn,`RPC '${e}' ${l} sending request:`,a),d.send(n,"POST",p,r,15)}))}T_(e,n,r){const a=h1(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=this.createWebChannelTransport(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Go(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=o.join("");_e(Gn,`Creating RPC '${e}' stream ${a}: ${d}`,c);const p=l.createWebChannel(d,c);this.I_(p);let m=!1,v=!1;const _=new bB({Ho:w=>{v?_e(Gn,`Not sending because RPC '${e}' stream ${a} is closed:`,w):(m||(_e(Gn,`Opening RPC '${e}' stream ${a} transport.`),p.open(),m=!0),_e(Gn,`RPC '${e}' stream ${a} sending:`,w),p.send(w))},Jo:()=>p.close()});return Df(p,Ff.EventType.OPEN,(()=>{v||(_e(Gn,`RPC '${e}' stream ${a} transport opened.`),_.i_())})),Df(p,Ff.EventType.CLOSE,(()=>{v||(v=!0,_e(Gn,`RPC '${e}' stream ${a} transport closed`),_.o_(),this.E_(p))})),Df(p,Ff.EventType.ERROR,(w=>{v||(v=!0,sh(Gn,`RPC '${e}' stream ${a} transport errored. Name:`,w.name,"Message:",w.message),_.o_(new be(ce.UNAVAILABLE,"The operation could not be completed")))})),Df(p,Ff.EventType.MESSAGE,(w=>{if(!v){const T=w.data[0];ot(!!T,16349);const S=T,P=S?.error||S[0]?.error;if(P){_e(Gn,`RPC '${e}' stream ${a} received error:`,P);const k=P.status;let R=(function(F){const C=sn[F];if(C!==void 0)return KN(C)})(k),z=P.message;R===void 0&&(R=ce.INTERNAL,z="Unknown error status: "+k+" with message "+P.message),v=!0,_.o_(new be(R,z)),p.close()}else _e(Gn,`RPC '${e}' stream ${a} received:`,T),_.__(T)}})),Fu.u_(),setTimeout((()=>{_.s_()}),0),_}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return hN()}}function _B(t){return new Fu(t)}function lb(){return typeof document<"u"?document:null}function Xg(t){return new A9(t,!0)}Fu.c_=!1;class uk{constructor(e,n,r=1e3,a=1.5,o=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=a,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&_e("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const vC="PersistentStream";class ck{constructor(e,n,r,a,o,l,c,f){this.Ci=e,this.b_=r,this.S_=a,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new uk(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(Qa(n.toString()),Qa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new be(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return _e(vC,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(_e(vC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class wB extends ck{constructor(e,n,r,a,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,l),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=C9(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Me.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Me.min():l.readTime?fa(l.readTime):Me.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=c1(this.serializer),n.addTarget=(function(o,l){let c;const f=l.target;if(c=i1(f)?{documents:R9(o,f)}:{query:D9(o,f).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=XN(o,l.resumeToken);const d=o1(o,l.expectedCount);d!==null&&(c.expectedCount=d)}else if(l.snapshotVersion.compareTo(Me.min())>0){c.readTime=Pm(o,l.snapshotVersion.toTimestamp());const d=o1(o,l.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,e);const r=k9(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=c1(this.serializer),n.removeTarget=e,this.K_(n)}}class EB extends ck{constructor(e,n,r,a,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,l),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return ot(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ot(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ot(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=P9(e.writeResults,e.commitTime),r=fa(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=c1(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>I9(this.serializer,r)))};this.K_(n)}}class TB{}class SB extends TB{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new be(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Wo(e,l1(n,r),a,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new be(ce.UNKNOWN,o.toString())}))}jo(e,n,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.jo(e,l1(n,r),a,l,c,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new be(ce.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function AB(t,e,n,r){return new SB(t,e,n,r)}class xB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qa(n),this.aa=!1):_e("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const xl="RemoteStore";class OB{constructor(e,n,r,a,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((l=>{r.enqueueAndForget((async()=>{zl(this)&&(_e(xl,"Restarting streams for network reachability change."),await(async function(f){const d=Ve(f);d.Ea.add(4),await Vh(d),d.Va.set("Unknown"),d.Ea.delete(4),await Qg(d)})(this))}))})),this.Va=new xB(r,a)}}async function Qg(t){if(zl(t))for(const e of t.Ra)await e(!0)}async function Vh(t){for(const e of t.Ra)await e(!1)}function fk(t,e){const n=Ve(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Bw(n)?zw(n):pc(n).O_()&&Uw(n,e))}function Vw(t,e){const n=Ve(t),r=pc(n);n.Ia.delete(e),r.O_()&&hk(n,e),n.Ia.size===0&&(r.O_()?r.L_():zl(n)&&n.Va.set("Unknown"))}function Uw(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pc(t).Z_(e)}function hk(t,e){t.da.$e(e),pc(t).X_(e)}function zw(t){t.da=new w9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),pc(t).start(),t.Va.ua()}function Bw(t){return zl(t)&&!pc(t).x_()&&t.Ia.size>0}function zl(t){return Ve(t).Ea.size===0}function dk(t){t.da=void 0}async function CB(t){t.Va.set("Online")}async function IB(t){t.Ia.forEach(((e,n)=>{Uw(t,e)}))}async function PB(t,e){dk(t),Bw(t)?(t.Va.ha(e),zw(t)):t.Va.set("Unknown")}async function RB(t,e,n){if(t.Va.set("Online"),e instanceof YN&&e.state===2&&e.cause)try{await(async function(a,o){const l=o.cause;for(const c of o.targetIds)a.Ia.has(c)&&(await a.remoteSyncer.rejectListen(c,l),a.Ia.delete(c),a.da.removeTarget(c))})(t,e)}catch(r){_e(xl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Dm(t,r)}else if(e instanceof cm?t.da.Xe(e):e instanceof WN?t.da.st(e):t.da.tt(e),!n.isEqual(Me.min()))try{const r=await lk(t.localStore);n.compareTo(r)>=0&&await(function(o,l){const c=o.da.Tt(l);return c.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const p=o.Ia.get(d);p&&o.Ia.set(d,p.withResumeToken(f.resumeToken,l))}})),c.targetMismatches.forEach(((f,d)=>{const p=o.Ia.get(f);if(!p)return;o.Ia.set(f,p.withResumeToken(qn.EMPTY_BYTE_STRING,p.snapshotVersion)),hk(o,f);const m=new io(p.target,f,d,p.sequenceNumber);Uw(o,m)})),o.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){_e(xl,"Failed to raise snapshot:",r),await Dm(t,r)}}async function Dm(t,e,n){if(!hc(e))throw e;t.Ea.add(1),await Vh(t),t.Va.set("Offline"),n||(n=()=>lk(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{_e(xl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Qg(t)}))}function pk(t,e){return e().catch((n=>Dm(t,n,e)))}async function Zg(t){const e=Ve(t),n=wo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Sw;for(;DB(e);)try{const a=await hB(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,NB(e,a)}catch(a){await Dm(e,a)}mk(e)&&gk(e)}function DB(t){return zl(t)&&t.Ta.length<10}function NB(t,e){t.Ta.push(e);const n=wo(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function mk(t){return zl(t)&&!wo(t).x_()&&t.Ta.length>0}function gk(t){wo(t).start()}async function kB(t){wo(t).ra()}async function MB(t){const e=wo(t);for(const n of t.Ta)e.ea(n.mutations)}async function jB(t,e,n){const r=t.Ta.shift(),a=Rw.from(r,e,n);await pk(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Zg(t)}async function LB(t,e){e&&wo(t).Y_&&await(async function(r,a){if((function(l){return v9(l)&&l!==ce.ABORTED})(a.code)){const o=r.Ta.shift();wo(r).B_(),await pk(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await Zg(r)}})(t,e),mk(t)&&gk(t)}async function bC(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),_e(xl,"RemoteStore received new credentials");const r=zl(n);n.Ea.add(3),await Vh(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Qg(n)}async function VB(t,e){const n=Ve(t);e?(n.Ea.delete(2),await Qg(n)):e||(n.Ea.add(2),await Vh(n),n.Va.set("Unknown"))}function pc(t){return t.ma||(t.ma=(function(n,r,a){const o=Ve(n);return o.sa(),new wB(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Zo:CB.bind(null,t),Yo:IB.bind(null,t),t_:PB.bind(null,t),J_:RB.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),Bw(t)?zw(t):t.Va.set("Unknown")):(await t.ma.stop(),dk(t))}))),t.ma}function wo(t){return t.fa||(t.fa=(function(n,r,a){const o=Ve(n);return o.sa(),new EB(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:kB.bind(null,t),t_:LB.bind(null,t),ta:MB.bind(null,t),na:jB.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Zg(t)):(await t.fa.stop(),t.Ta.length>0&&(_e(xl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class qw{constructor(e,n,r,a,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new uo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,o){const l=Date.now()+r,c=new qw(e,n,l,a,o);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fw(t,e){if(Qa("AsyncQueue",`${e}: ${t}`),hc(t))return new be(ce.UNAVAILABLE,`${e}: ${t}`);throw t}class Hu{static emptySet(e){return new Hu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ce.comparator(n.key,r.key):(n,r)=>Ce.comparator(n.key,r.key),this.keyedMap=Hf(),this.sortedSet=new Dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Hu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class _C{constructor(){this.ga=new Dt(Ce.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ne(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class nc{constructor(e,n,r,a,o,l,c,f,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,a,o){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new nc(e,n,Hu.emptySet(n),l,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$g(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}class UB{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class zB{constructor(){this.queries=wC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=Ve(n),o=a.queries;a.queries=wC(),o.forEach(((l,c)=>{for(const f of c.ba)f.onError(r)}))})(this,new be(ce.ABORTED,"Firestore shutting down"))}}function wC(){return new Ul((t=>NN(t)),$g)}async function yk(t,e){const n=Ve(t);let r=3;const a=e.query;let o=n.queries.get(a);o?!o.Sa()&&e.Da()&&(r=2):(o=new UB,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(a,!0);break;case 1:o.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(l){const c=Fw(l,`Initialization of query '${ju(e.query)}' failed`);return void e.onError(c)}n.queries.set(a,o),o.ba.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&Hw(n)}async function vk(t,e){const n=Ve(t),r=e.query;let a=3;const o=n.queries.get(r);if(o){const l=o.ba.indexOf(e);l>=0&&(o.ba.splice(l,1),o.ba.length===0?a=e.Da()?0:1:!o.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function BB(t,e){const n=Ve(t);let r=!1;for(const a of e){const o=a.query,l=n.queries.get(o);if(l){for(const c of l.ba)c.Fa(a)&&(r=!0);l.wa=a}}r&&Hw(n)}function qB(t,e,n){const r=Ve(t),a=r.queries.get(e);if(a)for(const o of a.ba)o.onError(n);r.queries.delete(e)}function Hw(t){t.Ca.forEach((e=>{e.next()}))}var d1,EC;(EC=d1||(d1={})).Ma="default",EC.Cache="cache";class bk{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new nc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=nc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==d1.Cache}}class _k{constructor(e){this.key=e}}class wk{constructor(e){this.key=e}}class FB{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ze(),this.mutatedKeys=Ze(),this.eu=kN(e),this.tu=new Hu(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new _C,a=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,l=a,c=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,d=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((p,m)=>{const v=a.get(p),_=Gg(this.query,m)?m:null,w=!!v&&this.mutatedKeys.has(v.key),T=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let S=!1;v&&_?v.data.isEqual(_.data)?w!==T&&(r.track({type:3,doc:_}),S=!0):this.su(v,_)||(r.track({type:2,doc:_}),S=!0,(f&&this.eu(_,f)>0||d&&this.eu(_,d)<0)&&(c=!0)):!v&&_?(r.track({type:0,doc:_}),S=!0):v&&!_&&(r.track({type:1,doc:v}),S=!0,(f||d)&&(c=!0)),S&&(_?(l=l.add(_),o=T?o.add(p):o.delete(p)):(l=l.delete(p),o=o.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{tu:l,iu:r,Ss:c,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,m)=>(function(_,w){const T=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Vt:S})}};return T(_)-T(w)})(p.type,m.type)||this.eu(p.doc,m.doc))),this.ou(r),a=a??!1;const c=n&&!a?this._u():[],f=this.Ya.size===0&&this.current&&!a?1:0,d=f!==this.Xa;return this.Xa=f,l.length!==0||d?{snapshot:new nc(this.query,e.tu,o,l,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _C,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ze(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new wk(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new _k(r))})),n}cu(e){this.Za=e.ks,this.Ya=Ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return nc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const $w="SyncEngine";class HB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $B{constructor(e){this.key=e,this.hu=!1}}class GB{constructor(e,n,r,a,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Ul((c=>NN(c)),$g),this.Iu=new Map,this.Eu=new Set,this.Ru=new Dt(Ce.comparator),this.Au=new Map,this.Vu=new kw,this.du={},this.mu=new Map,this.fu=tc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function KB(t,e,n=!0){const r=Ok(t);let a;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await Ek(r,e,n,!0),a}async function WB(t,e){const n=Ok(t);await Ek(n,e,!0,!1)}async function Ek(t,e,n,r){const a=await dB(t.localStore,ca(e)),o=a.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let c;return r&&(c=await YB(t,e,o,l==="current",a.resumeToken)),t.isPrimaryClient&&n&&fk(t.remoteStore,a),c}async function YB(t,e,n,r,a){t.pu=(m,v,_)=>(async function(T,S,P,k){let R=S.view.ru(P);R.Ss&&(R=await pC(T.localStore,S.query,!1).then((({documents:C})=>S.view.ru(C,R))));const z=k&&k.targetChanges.get(S.targetId),H=k&&k.targetMismatches.get(S.targetId)!=null,F=S.view.applyChanges(R,T.isPrimaryClient,z,H);return SC(T,S.targetId,F.au),F.snapshot})(t,m,v,_);const o=await pC(t.localStore,e,!0),l=new FB(e,o.ks),c=l.ru(o.documents),f=Lh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),d=l.applyChanges(c,t.isPrimaryClient,f);SC(t,n,d.au);const p=new HB(e,n,l);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function XB(t,e,n){const r=Ve(t),a=r.Tu.get(e),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((l=>!$g(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await f1(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&Vw(r.remoteStore,a.targetId),p1(r,a.targetId)})).catch(fc)):(p1(r,a.targetId),await f1(r.localStore,a.targetId,!0))}async function QB(t,e){const n=Ve(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Vw(n.remoteStore,r.targetId))}async function ZB(t,e,n){const r=a8(t);try{const a=await(function(l,c){const f=Ve(l),d=Ot.now(),p=c.reduce(((_,w)=>_.add(w.key)),Ze());let m,v;return f.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let w=Za(),T=Ze();return f.xs.getEntries(_,p).next((S=>{w=S,w.forEach(((P,k)=>{k.isValidDocument()||(T=T.add(P))}))})).next((()=>f.localDocuments.getOverlayedDocuments(_,w))).next((S=>{m=S;const P=[];for(const k of c){const R=d9(k,m.get(k.key).overlayedDocument);R!=null&&P.push(new Co(k.key,R,AN(R.value.mapValue),si.exists(!0)))}return f.mutationQueue.addMutationBatch(_,d,P,c)})).next((S=>{v=S;const P=S.applyToLocalDocumentSet(m,T);return f.documentOverlayCache.saveOverlays(_,S.batchId,P)}))})).then((()=>({batchId:v.batchId,changes:jN(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(l,c,f){let d=l.du[l.currentUser.toKey()];d||(d=new Dt(Qe)),d=d.insert(c,f),l.du[l.currentUser.toKey()]=d})(r,a.batchId,n),await Uh(r,a.changes),await Zg(r.remoteStore)}catch(a){const o=Fw(a,"Failed to persist write");n.reject(o)}}async function Tk(t,e){const n=Ve(t);try{const r=await cB(n.localStore,e);e.targetChanges.forEach(((a,o)=>{const l=n.Au.get(o);l&&(ot(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?l.hu=!0:a.modifiedDocuments.size>0?ot(l.hu,14607):a.removedDocuments.size>0&&(ot(l.hu,42227),l.hu=!1))})),await Uh(n,r,e)}catch(r){await fc(r)}}function TC(t,e,n){const r=Ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((o,l)=>{const c=l.view.va(e);c.snapshot&&a.push(c.snapshot)})),(function(l,c){const f=Ve(l);f.onlineState=c;let d=!1;f.queries.forEach(((p,m)=>{for(const v of m.ba)v.va(c)&&(d=!0)})),d&&Hw(f)})(r.eventManager,e),a.length&&r.Pu.J_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function JB(t,e,n){const r=Ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),o=a&&a.key;if(o){let l=new Dt(Ce.comparator);l=l.insert(o,Wn.newNoDocument(o,Me.min()));const c=Ze().add(o),f=new Yg(Me.min(),new Map,new Dt(Qe),l,c);await Tk(r,f),r.Ru=r.Ru.remove(o),r.Au.delete(e),Gw(r)}else await f1(r.localStore,e,!1).then((()=>p1(r,e,n))).catch(fc)}async function e8(t,e){const n=Ve(t),r=e.batch.batchId;try{const a=await uB(n.localStore,e);Ak(n,r,null),Sk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Uh(n,a)}catch(a){await fc(a)}}async function t8(t,e,n){const r=Ve(t);try{const a=await(function(l,c){const f=Ve(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let p;return f.mutationQueue.lookupMutationBatch(d,c).next((m=>(ot(m!==null,37113),p=m.keys(),f.mutationQueue.removeMutationBatch(d,m)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,p,c))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p))).next((()=>f.localDocuments.getDocuments(d,p)))}))})(r.localStore,e);Ak(r,e,n),Sk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Uh(r,a)}catch(a){await fc(a)}}function Sk(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Ak(t,e,n){const r=Ve(t);let a=r.du[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(n?o.reject(n):o.resolve(),a=a.remove(e)),r.du[r.currentUser.toKey()]=a}}function p1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||xk(t,r)}))}function xk(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Vw(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Gw(t))}function SC(t,e,n){for(const r of n)r instanceof _k?(t.Vu.addReference(r.key,e),n8(t,r)):r instanceof wk?(_e($w,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||xk(t,r.key)):Ne(19791,{wu:r})}function n8(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(_e($w,"New document in limbo: "+n),t.Eu.add(r),Gw(t))}function Gw(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ce(Tt.fromString(e)),r=t.fu.next();t.Au.set(r,new $B(n)),t.Ru=t.Ru.insert(n,r),fk(t.remoteStore,new io(ca(Hg(n.path)),r,"TargetPurposeLimboResolution",Bg.ce))}}async function Uh(t,e,n){const r=Ve(t),a=[],o=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,f)=>{l.push(r.pu(f,e,n).then((d=>{if((d||n)&&r.isPrimaryClient){const p=d?!d.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,p?"current":"not-current")}if(d){a.push(d);const p=jw.Es(f.targetId,d);o.push(p)}})))})),await Promise.all(l),r.Pu.J_(a),await(async function(f,d){const p=Ve(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>de.forEach(d,(v=>de.forEach(v.Ts,(_=>p.persistence.referenceDelegate.addReference(m,v.targetId,_))).next((()=>de.forEach(v.Is,(_=>p.persistence.referenceDelegate.removeReference(m,v.targetId,_)))))))))}catch(m){if(!hc(m))throw m;_e(Lw,"Failed to update sequence numbers: "+m)}for(const m of d){const v=m.targetId;if(!m.fromCache){const _=p.vs.get(v),w=_.snapshotVersion,T=_.withLastLimboFreeSnapshotVersion(w);p.vs=p.vs.insert(v,T)}}})(r.localStore,o))}async function r8(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){_e($w,"User change. New user:",e.toKey());const r=await ok(n.localStore,e);n.currentUser=e,(function(o,l){o.mu.forEach((c=>{c.forEach((f=>{f.reject(new be(ce.CANCELLED,l))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Uh(n,r.Ns)}}function i8(t,e){const n=Ve(t),r=n.Au.get(e);if(r&&r.hu)return Ze().add(r.key);{let a=Ze();const o=n.Iu.get(e);if(!o)return a;for(const l of o){const c=n.Tu.get(l);a=a.unionWith(c.view.nu)}return a}}function Ok(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Tk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=i8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JB.bind(null,e),e.Pu.J_=BB.bind(null,e.eventManager),e.Pu.yu=qB.bind(null,e.eventManager),e}function a8(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=e8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=t8.bind(null,e),e}class Nm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return lB(this.persistence,new aB,e.initialUser,this.serializer)}Cu(e){return new sk(Mw.Vi,this.serializer)}Du(e){return new mB}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nm.provider={build:()=>new Nm};class s8 extends Nm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ot(this.persistence.referenceDelegate instanceof Rm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new H9(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mr.withCacheSize(this.cacheSizeBytes):mr.DEFAULT;return new sk((r=>Rm.Vi(r,n)),this.serializer)}}class m1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>TC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=r8.bind(null,this.syncEngine),await VB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new zB})()}createDatastore(e){const n=Xg(e.databaseInfo.databaseId),r=_B(e.databaseInfo);return AB(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,o,l,c){return new OB(r,a,o,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>TC(this.syncEngine,n,0)),(function(){return yC.v()?new yC:new gB})())}createSyncEngine(e,n){return(function(a,o,l,c,f,d,p){const m=new GB(a,o,l,c,f,d);return p&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ve(n);_e(xl,"RemoteStore shutting down."),r.Ea.add(5),await Vh(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}m1.provider={build:()=>new m1};class Ck{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Qa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Eo="FirestoreClient";class o8{constructor(e,n,r,a,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=a,this.user=pr.UNAUTHENTICATED,this.clientId=Tw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async l=>{_e(Eo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(_e(Eo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new uo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Fw(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function ub(t,e){t.asyncQueue.verifyOperationInProgress(),_e(Eo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await ok(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function AC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await l8(t);_e(Eo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>bC(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>bC(e.remoteStore,a))),t._onlineComponents=e}async function l8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e(Eo,"Using user provided OfflineComponentProvider");try{await ub(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ce.FAILED_PRECONDITION||a.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;sh("Error using user provided cache. Falling back to memory cache: "+n),await ub(t,new Nm)}}else _e(Eo,"Using default OfflineComponentProvider"),await ub(t,new s8(void 0));return t._offlineComponents}async function Ik(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e(Eo,"Using user provided OnlineComponentProvider"),await AC(t,t._uninitializedComponentsProvider._online)):(_e(Eo,"Using default OnlineComponentProvider"),await AC(t,new m1))),t._onlineComponents}function u8(t){return Ik(t).then((e=>e.syncEngine))}async function g1(t){const e=await Ik(t),n=e.eventManager;return n.onListen=KB.bind(null,e.syncEngine),n.onUnlisten=XB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=WB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=QB.bind(null,e.syncEngine),n}function c8(t,e,n,r){const a=new Ck(r),o=new bk(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>yk(await g1(t),o))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>vk(await g1(t),o)))}}function f8(t,e,n={}){const r=new uo;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,c,f,d){const p=new Ck({next:v=>{p.Nu(),l.enqueueAndForget((()=>vk(o,m)));const _=v.docs.has(c);!_&&v.fromCache?d.reject(new be(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&v.fromCache&&f&&f.source==="server"?d.reject(new be(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),m=new bk(Hg(c.path),p,{includeMetadataChanges:!0,Ka:!0});return yk(o,m)})(await g1(t),t.asyncQueue,e,n,r))),r.promise}function h8(t,e){const n=new uo;return t.asyncQueue.enqueueAndForget((async()=>ZB(await u8(t),e,n))),n.promise}function Pk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const d8="ComponentProvider",xC=new Map;function p8(t,e,n,r,a){return new jz(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,Pk(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,r)}const m8="firestore.googleapis.com",OC=!0;class CC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new be(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=m8,this.ssl=OC}else this.host=e.host,this.ssl=e.ssl??OC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ik;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ak)throw new be(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Az("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Pk(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new be(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new be(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new be(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kw{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new gz;switch(r.type){case"firstParty":return new bz(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=xC.get(n);r&&(_e(d8,"Removing Datastore"),xC.delete(n),r.terminate())})(this),Promise.resolve()}}class Bl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bl(this.firestore,e,this._query)}}class Ut{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new co(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Mh(n,Ut._jsonSchema))return new Ut(e,r||null,new Ce(Tt.fromString(n.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:un("string",Ut._jsonSchemaVersion),referencePath:un("string")};class co extends Bl{constructor(e,n,r){super(e,n,Hg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new Ce(e))}withConverter(e){return new co(this.firestore,e,this._path)}}function Un(t,e,...n){if(t=zt(t),pN("collection","path",e),t instanceof Kw){const r=Tt.fromString(e,...n);return BO(r),new co(t,null,r)}{if(!(t instanceof Ut||t instanceof co))throw new be(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Tt.fromString(e,...n));return BO(r),new co(t.firestore,null,r)}}function Et(t,e,...n){if(t=zt(t),arguments.length===1&&(e=Tw.newId()),pN("doc","path",e),t instanceof Kw){const r=Tt.fromString(e,...n);return zO(r),new Ut(t,null,new Ce(r))}{if(!(t instanceof Ut||t instanceof co))throw new be(ce.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Tt.fromString(e,...n));return zO(r),new Ut(t.firestore,t instanceof co?t.converter:null,new Ce(r))}}const IC="AsyncQueue";class PC{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new uk(this,"async_queue_retry"),this._c=()=>{const r=lb();r&&_e(IC,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=lb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=lb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new uo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!hc(e))throw e;_e(IC,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Qa("INTERNAL UNHANDLED ERROR: ",RC(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=qw.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&Ne(47125,{Pc:RC(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function RC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class To extends Kw{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new PC,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new PC(e),this._firestoreClient=void 0,await e}}}function g8(t,e,n){n||(n=xm);const r=Ug(t,"firestore");if(r.isInitialized(n)){const a=r.getImmediate({identifier:n}),o=r.getOptions(n);if(mo(o,e))return a;throw new be(ce.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new be(ce.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ak)throw new be(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&xo(e.host)&&bw(e.host),r.initialize({options:e,instanceIdentifier:n})}function Ww(t){if(t._terminated)throw new be(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||y8(t),t._firestoreClient}function y8(t){const e=t._freezeSettings(),n=p8(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new o8(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(t._componentsProvider))}class ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ri(qn.fromBase64String(e))}catch(n){throw new be(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ri(qn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Mh(e,ri._jsonSchema))return ri.fromBase64String(e.bytes)}}ri._jsonSchemaVersion="firestore/bytes/1.0",ri._jsonSchema={type:un("string",ri._jsonSchemaVersion),bytes:un("string")};class Yw{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zh{constructor(e){this._methodName=e}}class ha{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ha._jsonSchemaVersion}}static fromJSON(e){if(Mh(e,ha._jsonSchema))return new ha(e.latitude,e.longitude)}}ha._jsonSchemaVersion="firestore/geoPoint/1.0",ha._jsonSchema={type:un("string",ha._jsonSchemaVersion),latitude:un("number"),longitude:un("number")};class Ci{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Mh(e,Ci._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ci(e.vectorValues);throw new be(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ci._jsonSchemaVersion="firestore/vectorValue/1.0",Ci._jsonSchema={type:un("string",Ci._jsonSchemaVersion),vectorValues:un("object")};const v8=/^__.*__$/;class b8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Co(e,this.data,this.fieldMask,n,this.fieldTransforms):new jh(e,this.data,n,this.fieldTransforms)}}class Rk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Co(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Dk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{dataSource:t})}}class Jg{constructor(e,n,r,a,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Jg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return km(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Dk(this.dataSource)&&v8.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class _8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Xg(e)}createContext(e,n,r,a=!1){return new Jg({dataSource:e,methodName:n,targetDoc:r,path:Vn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ey(t){const e=t._freezeSettings(),n=Xg(t._databaseId);return new _8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Nk(t,e,n,r,a,o={}){const l=t.createContext(o.merge||o.mergeFields?2:0,e,n,a);Zw("Data must be an object, but it was:",l,r);const c=kk(r,l);let f,d;if(o.merge)f=new Mr(l.fieldMask),d=l.fieldTransforms;else if(o.mergeFields){const p=[];for(const m of o.mergeFields){const v=Ol(e,m,n);if(!l.contains(v))throw new be(ce.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);Lk(p,v)||p.push(v)}f=new Mr(p),d=l.fieldTransforms.filter((m=>f.covers(m.field)))}else f=null,d=l.fieldTransforms;return new b8(new gr(c),f,d)}class ty extends zh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ty}}function w8(t,e,n){return new Jg({dataSource:3,targetDoc:e.settings.targetDoc,methodName:t._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Xw extends zh{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=w8(this,e,!0),r=this.Ac.map((o=>mc(o,n))),a=new ec(r);return new HN(e.path,a)}isEqual(e){return e instanceof Xw&&mo(this.Ac,e.Ac)}}class Qw extends zh{constructor(e,n){super(e),this.Vc=n}_toFieldTransform(e){const n=new dh(e.serializer,UN(e.serializer,this.Vc));return new HN(e.path,n)}isEqual(e){return e instanceof Qw&&this.Vc===e.Vc}}function E8(t,e,n,r){const a=t.createContext(1,e,n);Zw("Data must be an object, but it was:",a,r);const o=[],l=gr.empty();Oo(r,((f,d)=>{const p=jk(e,f,n);d=zt(d);const m=a.childContextForFieldPath(p);if(d instanceof ty)o.push(p);else{const v=mc(d,m);v!=null&&(o.push(p),l.set(p,v))}}));const c=new Mr(o);return new Rk(l,c,a.fieldTransforms)}function T8(t,e,n,r,a,o){const l=t.createContext(1,e,n),c=[Ol(e,r,n)],f=[a];if(o.length%2!=0)throw new be(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)c.push(Ol(e,o[v])),f.push(o[v+1]);const d=[],p=gr.empty();for(let v=c.length-1;v>=0;--v)if(!Lk(d,c[v])){const _=c[v];let w=f[v];w=zt(w);const T=l.childContextForFieldPath(_);if(w instanceof ty)d.push(_);else{const S=mc(w,T);S!=null&&(d.push(_),p.set(_,S))}}const m=new Mr(d);return new Rk(p,m,l.fieldTransforms)}function S8(t,e,n,r=!1){return mc(n,t.createContext(r?4:3,e))}function mc(t,e){if(Mk(t=zt(t)))return Zw("Unsupported field value:",e,t),kk(t,e);if(t instanceof zh)return(function(r,a){if(!Dk(a.dataSource))throw a.createError(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,a){const o=[];let l=0;for(const c of r){let f=mc(c,a.childContextForArray(l));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),l++}return{arrayValue:{values:o}}})(t,e)}return(function(r,a){if((r=zt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return UN(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ot.fromDate(r);return{timestampValue:Pm(a.serializer,o)}}if(r instanceof Ot){const o=new Ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Pm(a.serializer,o)}}if(r instanceof ha)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ri)return{bytesValue:XN(a.serializer,r._byteString)};if(r instanceof Ut){const o=a.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw a.createError(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Nw(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Ci)return(function(l,c){const f=l instanceof Ci?l.toArray():l;return{mapValue:{fields:{[TN]:{stringValue:SN},[Om]:{arrayValue:{values:f.map((p=>{if(typeof p!="number")throw c.createError("VectorValues must only contain numeric values.");return Iw(c.serializer,p)}))}}}}}})(r,a);if(rk(r))return r._toProto(a.serializer);throw a.createError(`Unsupported field value: ${zg(r)}`)})(t,e)}function kk(t,e){const n={};return yN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oo(t,((r,a)=>{const o=mc(a,e.childContextForField(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function Mk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ot||t instanceof ha||t instanceof ri||t instanceof Ut||t instanceof zh||t instanceof Ci||rk(t))}function Zw(t,e,n){if(!Mk(n)||!mN(n)){const r=zg(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Ol(t,e,n){if((e=zt(e))instanceof Yw)return e._internalPath;if(typeof e=="string")return jk(t,e);throw km("Field path arguments must be of type string or ",t,!1,void 0,n)}const A8=new RegExp("[~\\*/\\[\\]]");function jk(t,e,n){if(e.search(A8)>=0)throw km(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Yw(...e.split("."))._internalPath}catch{throw km(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function km(t,e,n,r,a){const o=r&&!r.isEmpty(),l=a!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(o||l)&&(f+=" (found",o&&(f+=` in field ${r}`),l&&(f+=` in document ${a}`),f+=")"),new be(ce.INVALID_ARGUMENT,c+t+f)}function Lk(t,e){return t.some((n=>n.isEqual(e)))}class x8{convertValue(e,n="none"){switch(_o(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Oo(e,((a,o)=>{r[a]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[Om].arrayValue?.values?.map((r=>Yt(r.doubleValue)));return new Ci(n)}convertGeoPoint(e){return new ha(Yt(e.latitude),Yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Fg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(lh(e));default:return null}}convertTimestamp(e){const n=vo(e);return new Ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Tt.fromString(e);ot(nk(r),9688,{name:e});const a=new uh(r.get(1),r.get(3)),o=new Ce(r.popFirst(5));return a.isEqual(n)||Qa(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}class Vk extends x8{constructor(e){super(),this.firestore=e}convertBytes(e){return new ri(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,n)}}function O8(...t){return new Xw("arrayUnion",t)}function th(t){return new Qw("increment",t)}const DC="@firebase/firestore",NC="4.10.0";function kC(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1})(t,["next","error","complete"])}class Uk{constructor(e,n,r,a,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new C8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Ol("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class C8 extends Uk{data(){return super.data()}}function I8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jw{}class zk extends Jw{}function Mm(t,e,...n){let r=[];e instanceof Jw&&r.push(e),r=r.concat(n),(function(o){const l=o.filter((f=>f instanceof eE)).length,c=o.filter((f=>f instanceof ny)).length;if(l>1||l>0&&c>0)throw new be(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class ny extends zk{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ny(e,n,r)}_apply(e){const n=this._parse(e);return Bk(e._query,n),new Bl(e.firestore,e.converter,a1(e._query,n))}_parse(e){const n=ey(e.firestore);return(function(o,l,c,f,d,p,m){let v;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new be(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){jC(m,p);const w=[];for(const T of m)w.push(MC(f,o,T));v={arrayValue:{values:w}}}else v=MC(f,o,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||jC(m,p),v=S8(c,l,m,p==="in"||p==="not-in");return ln.create(d,p,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function jm(t,e,n){const r=e,a=Ol("where",t);return ny._create(a,r,n)}class eE extends Jw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new eE(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ri.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,o){let l=a;const c=o.getFlattenedFilters();for(const f of c)Bk(l,f),l=a1(l,f)})(e._query,n),new Bl(e.firestore,e.converter,a1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class tE extends zk{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new tE(e,n)}_apply(e){const n=(function(a,o,l){if(a.startAt!==null)throw new be(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new be(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fh(o,l)})(e._query,this._field,this._direction);return new Bl(e.firestore,e.converter,e9(e._query,n))}}function P8(t,e="asc"){const n=e,r=Ol("orderBy",t);return tE._create(r,n)}function MC(t,e,n){if(typeof(n=zt(n))=="string"){if(n==="")throw new be(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!DN(e)&&n.indexOf("/")!==-1)throw new be(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Tt.fromString(n));if(!Ce.isDocumentKey(r))throw new be(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return YO(t,new Ce(r))}if(n instanceof Ut)return YO(t,n._key);throw new be(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zg(n)}.`)}function jC(t,e){if(!Array.isArray(t)||t.length===0)throw new be(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Bk(t,e){const n=(function(a,o){for(const l of a)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new be(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function qk(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Gf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vl extends Uk{constructor(e,n,r,a,o,l){super(e,n,r,a,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ol("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=vl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}vl._jsonSchemaVersion="firestore/documentSnapshot/1.0",vl._jsonSchema={type:un("string",vl._jsonSchemaVersion),bundleSource:un("string","DocumentSnapshot"),bundleName:un("string"),bundle:un("string")};class fm extends vl{data(e={}){return super.data(e)}}class $u{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Gf(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new fm(this._firestore,this._userDataWriter,r.key,r,new Gf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let l=0;return a._snapshot.docChanges.map((c=>{const f=new fm(a._firestore,a._userDataWriter,c.doc.key,c.doc,new Gf(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const f=new fm(a._firestore,a._userDataWriter,c.doc.key,c.doc,new Gf(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);let d=-1,p=-1;return c.type!==0&&(d=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:R8(c.type),doc:f,oldIndex:d,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$u._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Tw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function R8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:t})}}$u._jsonSchemaVersion="firestore/querySnapshot/1.0",$u._jsonSchema={type:un("string",$u._jsonSchemaVersion),bundleSource:un("string","QuerySnapshot"),bundleName:un("string"),bundle:un("string")};function D8(t){t=Oi(t,Ut);const e=Oi(t.firestore,To),n=Ww(e);return f8(n,t._key).then((r=>Fk(e,t,r)))}function ry(t,e,n){t=Oi(t,Ut);const r=Oi(t.firestore,To),a=qk(t.converter,e),o=ey(r);return iy(r,[Nk(o,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,si.none())])}function Ei(t,e,n,...r){t=Oi(t,Ut);const a=Oi(t.firestore,To),o=ey(a);let l;return l=typeof(e=zt(e))=="string"||e instanceof Yw?T8(o,"updateDoc",t._key,e,n,r):E8(o,"updateDoc",t._key,e),iy(a,[l.toMutation(t._key,si.exists(!0))])}function fo(t){return iy(Oi(t.firestore,To),[new Pw(t._key,si.none())])}function ph(t,e){const n=Oi(t.firestore,To),r=Et(t),a=qk(t.converter,e),o=ey(t.firestore);return iy(n,[Nk(o,"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,si.exists(!1))]).then((()=>r))}function vr(t,...e){t=zt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||kC(e[r])||(n=e[r++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(kC(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let o,l,c;if(t instanceof Ut)l=Oi(t.firestore,To),c=Hg(t._key.path),o={next:d=>{e[r]&&e[r](Fk(l,t,d))},error:e[r+1],complete:e[r+2]};else{const d=Oi(t,Bl);l=Oi(d.firestore,To),c=d._query;const p=new Vk(l);o={next:m=>{e[r]&&e[r](new $u(l,p,d,m))},error:e[r+1],complete:e[r+2]},I8(t._query)}const f=Ww(l);return c8(f,c,a,o)}function iy(t,e){const n=Ww(t);return h8(n,e)}function Fk(t,e,n){const r=n.docs.get(e._key),a=new Vk(t);return new vl(t,a,e._key,r,new Gf(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){pz(Vl),Sl(new go("firestore",((r,{instanceIdentifier:a,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new To(new yz(r.getProvider("auth-internal")),new _z(l,r.getProvider("app-check-internal")),Lz(l,a),l);return o={useFetchStreams:n,...o},c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),ua(DC,NC,e),ua(DC,NC,"esm2020")})();function Hk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const N8=Hk,$k=new Nh("auth","Firebase",Hk());const Lm=new _w("@firebase/auth");function k8(t,...e){Lm.logLevel<=Xe.WARN&&Lm.warn(`Auth (${Vl}): ${t}`,...e)}function hm(t,...e){Lm.logLevel<=Xe.ERROR&&Lm.error(`Auth (${Vl}): ${t}`,...e)}function ga(t,...e){throw rE(t,...e)}function Ii(t,...e){return rE(t,...e)}function nE(t,e,n){const r={...N8(),[e]:n};return new Nh("auth","Firebase",r).create(e,{appName:t.name})}function bl(t){return nE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function M8(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ga(t,"argument-error"),nE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return $k.create(t,...e)}function ke(t,e,...n){if(!t)throw rE(e,...n)}function Ha(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hm(e),new Error(e)}function Ja(t,e){t||Ha(e)}function y1(){return typeof self<"u"&&self.location?.href||""}function j8(){return LC()==="http:"||LC()==="https:"}function LC(){return typeof self<"u"&&self.location?.protocol||null}function L8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(j8()||$U()||"connection"in navigator)?navigator.onLine:!0}function V8(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Bh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ja(n>e,"Short delay should be less than long delay!"),this.isMobile=qU()||GU()}get(){return L8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function iE(t,e){Ja(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Gk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ha("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ha("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ha("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const U8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const z8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],B8=new Bh(3e4,6e4);function aE(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function gc(t,e,n,r,a={}){return Kk(t,a,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=kh({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:f,...o};return HU()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&xo(t.emulatorConfig.host)&&(d.credentials="include"),Gk.fetch()(await Wk(t,t.config.apiHost,n,c),d)})}async function Kk(t,e,n){t._canInitEmulator=!1;const r={...U8,...e};try{const a=new F8(t),o=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw zp(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[f,d]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw zp(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw zp(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw zp(t,"user-disabled",l);const p=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw nE(t,p,d);ga(t,p)}}catch(a){if(a instanceof wa)throw a;ga(t,"network-request-failed",{message:String(a)})}}async function q8(t,e,n,r,a={}){const o=await gc(t,e,n,r,a);return"mfaPendingCredential"in o&&ga(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function Wk(t,e,n,r){const a=`${e}${n}?${r}`,o=t,l=o.config.emulator?iE(t.config,a):`${t.config.apiScheme}://${a}`;return z8.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}class F8{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ii(this.auth,"network-request-failed")),B8.get())})}}function zp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Ii(t,e,r);return a.customData._tokenResponse=n,a}async function H8(t,e){return gc(t,"POST","/v1/accounts:delete",e)}async function Vm(t,e){return gc(t,"POST","/v1/accounts:lookup",e)}function nh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $8(t,e=!1){const n=zt(t),r=await n.getIdToken(e),a=sE(r);ke(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,l=o?.sign_in_provider;return{claims:a,token:r,authTime:nh(cb(a.auth_time)),issuedAtTime:nh(cb(a.iat)),expirationTime:nh(cb(a.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function cb(t){return Number(t)*1e3}function sE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return hm("JWT malformed, contained fewer than 3 sections"),null;try{const a=XD(n);return a?JSON.parse(a):(hm("Failed to decode base64 JWT payload"),null)}catch(a){return hm("Caught error parsing JWT payload as JSON",a?.toString()),null}}function VC(t){const e=sE(t);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function mh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof wa&&G8(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function G8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class K8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class v1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nh(this.lastLoginAt),this.creationTime=nh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Um(t){const e=t.auth,n=await t.getIdToken(),r=await mh(t,Vm(e,{idToken:n}));ke(r?.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const o=a.providerUserInfo?.length?Yk(a.providerUserInfo):[],l=Y8(t.providerData,o),c=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!l?.length,d=c?f:!1,p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new v1(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(t,p)}async function W8(t){const e=zt(t);await Um(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Y8(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function Yk(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function X8(t,e){const n=await Kk(t,{},async()=>{const r=kh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=t.config,l=await Wk(t,a,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:c,body:r};return t.emulatorConfig&&xo(t.emulatorConfig.host)&&(f.credentials="include"),Gk.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Q8(t,e){return gc(t,"POST","/v2/accounts:revokeToken",aE(t,e))}class Gu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):VC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const n=VC(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:o}=await X8(e,n);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:o}=n,l=new Gu;return r&&(ke(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),a&&(ke(typeof a=="string","internal-error",{appName:e}),l.accessToken=a),o&&(ke(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gu,this.toJSON())}_performRefresh(){return Ha("not implemented")}}function Xs(t,e){ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xi{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new K8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new v1(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await mh(this,this.stsTokenManager.getToken(this.auth,e));return ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $8(this,e)}reload(){return W8(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Um(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(bl(this.auth));const e=await this.getIdToken();return await mh(this,H8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,o=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,f=n._redirectEventId??void 0,d=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:m,emailVerified:v,isAnonymous:_,providerData:w,stsTokenManager:T}=n;ke(m&&T,e,"internal-error");const S=Gu.fromJSON(this.name,T);ke(typeof m=="string",e,"internal-error"),Xs(r,e.name),Xs(a,e.name),ke(typeof v=="boolean",e,"internal-error"),ke(typeof _=="boolean",e,"internal-error"),Xs(o,e.name),Xs(l,e.name),Xs(c,e.name),Xs(f,e.name),Xs(d,e.name),Xs(p,e.name);const P=new xi({uid:m,auth:e,email:a,emailVerified:v,displayName:r,isAnonymous:_,photoURL:l,phoneNumber:o,tenantId:c,stsTokenManager:S,createdAt:d,lastLoginAt:p});return w&&Array.isArray(w)&&(P.providerData=w.map(k=>({...k}))),f&&(P._redirectEventId=f),P}static async _fromIdTokenResponse(e,n,r=!1){const a=new Gu;a.updateFromServerResponse(n);const o=new xi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Um(o),o}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];ke(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?Yk(a.providerUserInfo):[],l=!(a.email&&a.passwordHash)&&!o?.length,c=new Gu;c.updateFromIdToken(r);const f=new xi({uid:a.localId,auth:e,stsTokenManager:c,isAnonymous:l}),d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new v1(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(f,d),f}}const UC=new Map;function $a(t){Ja(t instanceof Function,"Expected a class definition");let e=UC.get(t);return e?(Ja(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,UC.set(t,e),e)}class Xk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Xk.type="NONE";const zC=Xk;function dm(t,e,n){return`firebase:${t}:${e}:${n}`}class Ku{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=dm(this.userKey,a.apiKey,o),this.fullPersistenceKey=dm("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Vm(this.auth,{idToken:e}).catch(()=>{});return n?xi._fromGetAccountInfoResponse(this.auth,n,e):null}return xi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ku($a(zC),e,r);const a=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=a[0]||$a(zC);const l=dm(r,e.config.apiKey,e.name);let c=null;for(const d of n)try{const p=await d._get(l);if(p){let m;if(typeof p=="string"){const v=await Vm(e,{idToken:p}).catch(()=>{});if(!v)break;m=await xi._fromGetAccountInfoResponse(e,v,p)}else m=xi._fromJSON(e,p);d!==o&&(c=m),o=d;break}}catch{}const f=a.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Ku(o,e,r):(o=f[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(l)}catch{}})),new Ku(o,e,r))}}function BC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Qk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nM(e))return"Blackberry";if(rM(e))return"Webos";if(Zk(e))return"Safari";if((e.includes("chrome/")||Jk(e))&&!e.includes("edge/"))return"Chrome";if(tM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Qk(t=Xn()){return/firefox\//i.test(t)}function Zk(t=Xn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Jk(t=Xn()){return/crios\//i.test(t)}function eM(t=Xn()){return/iemobile/i.test(t)}function tM(t=Xn()){return/android/i.test(t)}function nM(t=Xn()){return/blackberry/i.test(t)}function rM(t=Xn()){return/webos/i.test(t)}function oE(t=Xn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Z8(t=Xn()){return oE(t)&&!!window.navigator?.standalone}function J8(){return KU()&&document.documentMode===10}function iM(t=Xn()){return oE(t)||tM(t)||rM(t)||nM(t)||/windows phone/i.test(t)||eM(t)}function aM(t,e=[]){let n;switch(t){case"Browser":n=BC(Xn());break;case"Worker":n=`${BC(Xn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vl}/${r}`}class eq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,c)=>{try{const f=e(o);l(f)}catch(f){c(f)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function tq(t,e={}){return gc(t,"GET","/v2/passwordPolicy",aE(t,e))}const nq=6;class rq{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??nq,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class iq{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qC(this),this.idTokenSubscription=new qC(this),this.beforeStateQueue=new eq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$k,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$a(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ku.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Vm(this,{idToken:e}),r=await xi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ni(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&c?.user&&(r=c.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Um(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=V8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ni(this.app))return Promise.reject(bl(this));const n=e?zt(e):null;return n&&ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(bl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ni(this.app)?Promise.reject(bl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($a(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tq(this),n=new rq(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Nh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Q8(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$a(e)||this._popupRedirectResolver;ke(n,this,"argument-error"),this.redirectPersistenceManager=await Ku.create(this,[$a(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,a);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&k8(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ay(t){return zt(t)}class qC{constructor(e){this.auth=e,this.observer=null,this.addObserver=t5(n=>this.observer=n)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let lE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aq(t){lE=t}function sq(t){return lE.loadJS(t)}function oq(){return lE.gapiScript}function lq(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function uq(t,e){const n=Ug(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),o=n.getOptions();if(mo(o,e??{}))return a;ga(a,"already-initialized")}return n.initialize({options:e})}function cq(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map($a);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function fq(t,e,n){const r=ay(t);ke(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=sM(e),{host:l,port:c}=hq(e),f=c===null?"":`:${c}`,d={url:`${o}//${l}${f}/`},p=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){ke(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ke(mo(d,r.config.emulator)&&mo(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,xo(l)?(bw(`${o}//${l}${f}`),eN("Auth",!0)):dq()}function sM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function hq(t){const e=sM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:FC(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:FC(l)}}}function FC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function dq(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class oM{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ha("not implemented")}_getIdTokenResponse(e){return Ha("not implemented")}_linkToIdToken(e,n){return Ha("not implemented")}_getReauthenticationResolver(e){return Ha("not implemented")}}async function Wu(t,e){return q8(t,"POST","/v1/accounts:signInWithIdp",aE(t,e))}const pq="http://localhost";class Cl extends oM{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Cl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ga("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...o}=n;if(!r||!a)return null;const l=new Cl(r,a);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Wu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Wu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Wu(e,n)}buildRequest(){const e={requestUri:pq,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=kh(n)}return e}}class uE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class qh extends uE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Js extends qh{constructor(){super("facebook.com")}static credential(e){return Cl._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";class qa extends qh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Cl._fromParams({providerId:qa.PROVIDER_ID,signInMethod:qa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qa.credentialFromTaggedObject(e)}static credentialFromError(e){return qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return qa.credential(n,r)}catch{return null}}}qa.GOOGLE_SIGN_IN_METHOD="google.com";qa.PROVIDER_ID="google.com";class eo extends qh{constructor(){super("github.com")}static credential(e){return Cl._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return eo.credential(e.oauthAccessToken)}catch{return null}}}eo.GITHUB_SIGN_IN_METHOD="github.com";eo.PROVIDER_ID="github.com";class to extends qh{constructor(){super("twitter.com")}static credential(e,n){return Cl._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return to.credential(n,r)}catch{return null}}}to.TWITTER_SIGN_IN_METHOD="twitter.com";to.PROVIDER_ID="twitter.com";class rc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const o=await xi._fromIdTokenResponse(e,r,a),l=HC(r);return new rc({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=HC(r);return new rc({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function HC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class zm extends wa{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,zm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new zm(e,n,r,a)}}function lM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?zm._fromErrorAndOperation(t,o,e,r):o})}async function mq(t,e,n=!1){const r=await mh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return rc._forOperation(t,"link",r)}async function gq(t,e,n=!1){const{auth:r}=t;if(ni(r.app))return Promise.reject(bl(r));const a="reauthenticate";try{const o=await mh(t,lM(r,a,e,t),n);ke(o.idToken,r,"internal-error");const l=sE(o.idToken);ke(l,r,"internal-error");const{sub:c}=l;return ke(t.uid===c,r,"user-mismatch"),rc._forOperation(t,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&ga(r,"user-mismatch"),o}}async function yq(t,e,n=!1){if(ni(t.app))return Promise.reject(bl(t));const r="signIn",a=await lM(t,r,e),o=await rc._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(o.user),o}function vq(t,e,n,r){return zt(t).onIdTokenChanged(e,n,r)}function bq(t,e,n){return zt(t).beforeAuthStateChanged(e,n)}function _q(t,e,n,r){return zt(t).onAuthStateChanged(e,n,r)}function wq(t){return zt(t).signOut()}const Bm="__sak";class uM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bm,"1"),this.storage.removeItem(Bm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Eq=1e3,Tq=10;class cM extends uM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);J8()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,Tq):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Eq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cM.type="LOCAL";const Sq=cM;class fM extends uM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}fM.type="SESSION";const hM=fM;function Aq(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class sy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new sy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:o}=n.data,l=this.handlersMap[a];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const c=Array.from(l).map(async d=>d(n.origin,o)),f=await Aq(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sy.receivers=[];function cE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class xq{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,l;return new Promise((c,f)=>{const d=cE("",20);a.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:a,onMessage(m){const v=m;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(v.data.response);break;default:clearTimeout(p),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(l),a.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[a.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function da(){return window}function Oq(t){da().location.href=t}function dM(){return typeof da().WorkerGlobalScope<"u"&&typeof da().importScripts=="function"}async function Cq(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Iq(){return navigator?.serviceWorker?.controller||null}function Pq(){return dM()?self:null}const pM="firebaseLocalStorageDb",Rq=1,qm="firebaseLocalStorage",mM="fbase_key";class Fh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function oy(t,e){return t.transaction([qm],e?"readwrite":"readonly").objectStore(qm)}function Dq(){const t=indexedDB.deleteDatabase(pM);return new Fh(t).toPromise()}function b1(){const t=indexedDB.open(pM,Rq);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(qm,{keyPath:mM})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(qm)?e(r):(r.close(),await Dq(),e(await b1()))})})}async function $C(t,e,n){const r=oy(t,!0).put({[mM]:e,value:n});return new Fh(r).toPromise()}async function Nq(t,e){const n=oy(t,!1).get(e),r=await new Fh(n).toPromise();return r===void 0?null:r.value}function GC(t,e){const n=oy(t,!0).delete(e);return new Fh(n).toPromise()}const kq=800,Mq=3;class gM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await b1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Mq)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sy._getInstance(Pq()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Cq(),!this.activeServiceWorker)return;this.sender=new xq(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Iq()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await b1();return await $C(e,Bm,"1"),await GC(e,Bm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>$C(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Nq(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>GC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=oy(a,!1).getAll();return new Fh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gM.type="LOCAL";const jq=gM;new Bh(3e4,6e4);function yM(t,e){return e?$a(e):(ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class fE extends oM{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Wu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Wu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Lq(t){return yq(t.auth,new fE(t),t.bypassAuthState)}function Vq(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),gq(n,new fE(t),t.bypassAuthState)}async function Uq(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),mq(n,new fE(t),t.bypassAuthState)}class vM{constructor(e,n,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Lq;case"linkViaPopup":case"linkViaRedirect":return Uq;case"reauthViaPopup":case"reauthViaRedirect":return Vq;default:ga(this.auth,"internal-error")}}resolve(e){Ja(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ja(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zq=new Bh(2e3,1e4);async function Bq(t,e,n){if(ni(t.app))return Promise.reject(Ii(t,"operation-not-supported-in-this-environment"));const r=ay(t);M8(t,e,uE);const a=yM(r,n);return new dl(r,"signInViaPopup",e,a).executeNotNull()}class dl extends vM{constructor(e,n,r,a,o){super(e,n,a,o),this.provider=r,this.authWindow=null,this.pollId=null,dl.currentPopupAction&&dl.currentPopupAction.cancel(),dl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){Ja(this.filter.length===1,"Popup operations only handle one event");const e=cE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,dl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zq.get())};e()}}dl.currentPopupAction=null;const qq="pendingRedirect",pm=new Map;class Fq extends vM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=pm.get(this.auth._key());if(!e){try{const r=await Hq(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}pm.set(this.auth._key(),e)}return this.bypassAuthState||pm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Hq(t,e){const n=Kq(e),r=Gq(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function $q(t,e){pm.set(t._key(),e)}function Gq(t){return $a(t._redirectPersistence)}function Kq(t){return dm(qq,t.config.apiKey,t.name)}async function Wq(t,e,n=!1){if(ni(t.app))return Promise.reject(bl(t));const r=ay(t),a=yM(r,e),l=await new Fq(r,a,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const Yq=600*1e3;class Xq{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Qq(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!bM(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ii(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Yq&&this.cachedEventUids.clear(),this.cachedEventUids.has(KC(e))}saveEventToCache(e){this.cachedEventUids.add(KC(e)),this.lastProcessedEventTime=Date.now()}}function KC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bM({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Qq(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bM(t);default:return!1}}async function Zq(t,e={}){return gc(t,"GET","/v1/projects",e)}const Jq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eF=/^https?/;async function tF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Zq(t);for(const n of e)try{if(nF(n))return}catch{}ga(t,"unauthorized-domain")}function nF(t){const e=y1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!eF.test(n))return!1;if(Jq.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const rF=new Bh(3e4,6e4);function WC(){const t=da().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function iF(t){return new Promise((e,n)=>{function r(){WC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WC(),n(Ii(t,"network-request-failed"))},timeout:rF.get()})}if(da().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(da().gapi?.load)r();else{const a=lq("iframefcb");return da()[a]=()=>{gapi.load?r():n(Ii(t,"network-request-failed"))},sq(`${oq()}?onload=${a}`).catch(o=>n(o))}}).catch(e=>{throw mm=null,e})}let mm=null;function aF(t){return mm=mm||iF(t),mm}const sF=new Bh(5e3,15e3),oF="__/auth/iframe",lF="emulator/auth/iframe",uF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fF(t){const e=t.config;ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?iE(e,lF):`https://${t.config.authDomain}/${oF}`,r={apiKey:e.apiKey,appName:t.name,v:Vl},a=cF.get(t.config.apiHost);a&&(r.eid=a);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${kh(r).slice(1)}`}async function hF(t){const e=await aF(t),n=da().gapi;return ke(n,t,"internal-error"),e.open({where:document.body,url:fF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uF,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const l=Ii(t,"network-request-failed"),c=da().setTimeout(()=>{o(l)},sF.get());function f(){da().clearTimeout(c),a(r)}r.ping(f).then(f,()=>{o(l)})}))}const dF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pF=500,mF=600,gF="_blank",yF="http://localhost";class YC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vF(t,e,n,r=pF,a=mF){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f={...dF,width:r.toString(),height:a.toString(),top:o,left:l},d=Xn().toLowerCase();n&&(c=Jk(d)?gF:n),Qk(d)&&(e=e||yF,f.scrollbars="yes");const p=Object.entries(f).reduce((v,[_,w])=>`${v}${_}=${w},`,"");if(Z8(d)&&c!=="_self")return bF(e||"",c),new YC(null);const m=window.open(e||"",c,p);ke(m,t,"popup-blocked");try{m.focus()}catch{}return new YC(m)}function bF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const _F="__/auth/handler",wF="emulator/auth/handler",EF=encodeURIComponent("fac");async function XC(t,e,n,r,a,o){ke(t.config.authDomain,t,"auth-domain-config-required"),ke(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Vl,eventId:a};if(e instanceof uE){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",e5(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))l[p]=m}if(e instanceof qh){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const f=await t._getAppCheckToken(),d=f?`#${EF}=${encodeURIComponent(f)}`:"";return`${TF(t)}?${kh(c).slice(1)}${d}`}function TF({config:t}){return t.emulator?iE(t,wF):`https://${t.authDomain}/${_F}`}const fb="webStorageSupport";class SF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hM,this._completeRedirectFn=Wq,this._overrideRedirectResult=$q}async _openPopup(e,n,r,a){Ja(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await XC(e,n,r,y1(),a);return vF(e,o,cE())}async _openRedirect(e,n,r,a){await this._originValidation(e);const o=await XC(e,n,r,y1(),a);return Oq(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:o}=this.eventManagers[n];return a?Promise.resolve(a):(Ja(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await hF(e),r=new Xq(e);return n.register("authEvent",a=>(ke(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fb,{type:fb},a=>{const o=a?.[0]?.[fb];o!==void 0&&n(!!o),ga(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=tF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iM()||Zk()||oE()}}const AF=SF;var QC="@firebase/auth",ZC="1.12.0";class xF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function OF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CF(t){Sl(new go("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;ke(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aM(t)},d=new iq(r,a,o,f);return cq(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Sl(new go("auth-internal",e=>{const n=ay(e.getProvider("auth").getImmediate());return(r=>new xF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ua(QC,ZC,OF(t)),ua(QC,ZC,"esm2020")}const IF=300,PF=JD("authIdTokenMaxAge")||IF;let JC=null;const RF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>PF)return;const a=n?.token;JC!==a&&(JC=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function DF(t=iN()){const e=Ug(t,"auth");if(e.isInitialized())return e.getImmediate();const n=uq(t,{popupRedirectResolver:AF,persistence:[jq,Sq,hM]}),r=JD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=RF(o.toString());bq(n,l,()=>l(n.currentUser)),vq(n,c=>l(c))}}const a=QD("auth");return a&&fq(n,`http://${a}`),n}function NF(){return document.getElementsByTagName("head")?.[0]??document}aq({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const o=Ii("internal-error");o.customData=a,n(o)},r.type="text/javascript",r.charset="UTF-8",NF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CF("Browser");const _M="firebasestorage.googleapis.com",wM="storageBucket",kF=120*1e3,MF=600*1e3;class qt extends wa{constructor(e,n,r=0){super(hb(e),`Firebase Storage: ${n} (${hb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return hb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Bt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Bt||(Bt={}));function hb(t){return"storage/"+t}function hE(){const t="An unknown error occurred, please check the error payload for server response.";return new qt(Bt.UNKNOWN,t)}function jF(t){return new qt(Bt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function LF(t){return new qt(Bt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function VF(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new qt(Bt.UNAUTHENTICATED,t)}function UF(){return new qt(Bt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function zF(t){return new qt(Bt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function BF(){return new qt(Bt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function qF(){return new qt(Bt.CANCELED,"User canceled the upload/download.")}function FF(t){return new qt(Bt.INVALID_URL,"Invalid URL '"+t+"'.")}function HF(t){return new qt(Bt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function $F(){return new qt(Bt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+wM+"' property when initializing the app?")}function GF(){return new qt(Bt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function KF(){return new qt(Bt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function WF(t){return new qt(Bt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function _1(t){return new qt(Bt.INVALID_ARGUMENT,t)}function EM(){return new qt(Bt.APP_DELETED,"The Firebase app was deleted.")}function YF(t){return new qt(Bt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function rh(t,e){return new qt(Bt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Nf(t){throw new qt(Bt.INTERNAL_ERROR,"Internal error: "+t)}class jr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=jr.makeFromUrl(e,n)}catch{return new jr(e,"")}if(r.path==="")return r;throw HF(e)}static makeFromUrl(e,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function o(z){z.path.charAt(z.path.length-1)==="/"&&(z.path_=z.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+a+l,"i"),f={bucket:1,path:3};function d(z){z.path_=decodeURIComponent(z.path)}const p="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",_=new RegExp(`^https?://${m}/${p}/b/${a}/o${v}`,"i"),w={bucket:1,path:3},T=n===_M?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",P=new RegExp(`^https?://${T}/${a}/${S}`,"i"),R=[{regex:c,indices:f,postModify:o},{regex:_,indices:w,postModify:d},{regex:P,indices:{bucket:1,path:2},postModify:d}];for(let z=0;z<R.length;z++){const H=R[z],F=H.regex.exec(e);if(F){const C=F[H.indices.bucket];let D=F[H.indices.path];D||(D=""),r=new jr(C,D),H.postModify(r);break}}if(r==null)throw FF(e);return r}}class XF{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function QF(t,e,n){let r=1,a=null,o=null,l=!1,c=0;function f(){return c===2}let d=!1;function p(...S){d||(d=!0,e.apply(null,S))}function m(S){a=setTimeout(()=>{a=null,t(_,f())},S)}function v(){o&&clearTimeout(o)}function _(S,...P){if(d){v();return}if(S){v(),p.call(null,S,...P);return}if(f()||l){v(),p.call(null,S,...P);return}r<64&&(r*=2);let R;c===1?(c=2,R=0):R=(r+Math.random())*1e3,m(R)}let w=!1;function T(S){w||(w=!0,v(),!d&&(a!==null?(S||(c=2),clearTimeout(a),m(0)):S||(c=1)))}return m(0),o=setTimeout(()=>{l=!0,T(!0)},n),T}function ZF(t){t(!1)}function JF(t){return t!==void 0}function e7(t){return typeof t=="object"&&!Array.isArray(t)}function dE(t){return typeof t=="string"||t instanceof String}function eI(t){return pE()&&t instanceof Blob}function pE(){return typeof Blob<"u"}function tI(t,e,n,r){if(r<e)throw _1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw _1(`Invalid value for '${t}'. Expected ${n} or less.`)}function mE(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function TM(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const a=e(r)+"="+e(t[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var _l;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(_l||(_l={}));function t7(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||a||o}class n7{constructor(e,n,r,a,o,l,c,f,d,p,m,v=!0,_=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=f,this.timeout_=d,this.progressCallback_=p,this.connectionFactory_=m,this.retry=v,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,T)=>{this.resolve_=w,this.reject_=T,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new Bp(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=c=>{const f=c.loaded,d=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,d)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const c=o.getErrorCode()===_l.NO_ERROR,f=o.getStatus();if(!c||t7(f,this.additionalRetryCodes_)&&this.retry){const p=o.getErrorCode()===_l.ABORT;r(!1,new Bp(!1,null,p));return}const d=this.successCodes_.indexOf(f)!==-1;r(!0,new Bp(d,o))})},n=(r,a)=>{const o=this.resolve_,l=this.reject_,c=a.connection;if(a.wasSuccessCode)try{const f=this.callback_(c,c.getResponse());JF(f)?o(f):o()}catch(f){l(f)}else if(c!==null){const f=hE();f.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,f)):l(f)}else if(a.canceled){const f=this.appDelete_?EM():qF();l(f)}else{const f=BF();l(f)}};this.canceled_?n(!1,new Bp(!1,null,!0)):this.backoffId_=QF(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ZF(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Bp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function r7(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function i7(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function a7(t,e){e&&(t["X-Firebase-GMPID"]=e)}function s7(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function o7(t,e,n,r,a,o,l=!0,c=!1){const f=TM(t.urlParams),d=t.url+f,p=Object.assign({},t.headers);return a7(p,e),r7(p,n),i7(p,o),s7(p,r),new n7(d,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,l,c)}function l7(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function u7(...t){const e=l7();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(pE())return new Blob(t);throw new qt(Bt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function c7(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function f7(t){if(typeof atob>"u")throw WF("base-64");return atob(t)}const sa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class db{constructor(e,n){this.data=e,this.contentType=n||null}}function h7(t,e){switch(t){case sa.RAW:return new db(SM(e));case sa.BASE64:case sa.BASE64URL:return new db(AM(t,e));case sa.DATA_URL:return new db(p7(e),m7(e))}throw hE()}function SM(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,l=t.charCodeAt(++n);r=65536|(o&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function d7(t){let e;try{e=decodeURIComponent(t)}catch{throw rh(sa.DATA_URL,"Malformed data URL.")}return SM(e)}function AM(t,e){switch(t){case sa.BASE64:{const a=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(a||o)throw rh(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case sa.BASE64URL:{const a=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(a||o)throw rh(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=f7(e)}catch(a){throw a.message.includes("polyfill")?a:rh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}class xM{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw rh(sa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=g7(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function p7(t){const e=new xM(t);return e.base64?AM(sa.BASE64,e.rest):d7(e.rest)}function m7(t){return new xM(t).contentType}function g7(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}class no{constructor(e,n){let r=0,a="";eI(e)?(this.data_=e,r=e.size,a=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,n){if(eI(this.data_)){const r=this.data_,a=c7(r,e,n);return a===null?null:new no(a)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new no(r,!0)}}static getBlob(...e){if(pE()){const n=e.map(r=>r instanceof no?r.data_:r);return new no(u7.apply(null,n))}else{const n=e.map(l=>dE(l)?h7(sa.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const a=new Uint8Array(r);let o=0;return n.forEach(l=>{for(let c=0;c<l.length;c++)a[o++]=l[c]}),new no(a,!0)}}uploadData(){return this.data_}}function OM(t){let e;try{e=JSON.parse(t)}catch{return null}return e7(e)?e:null}function y7(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function v7(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function CM(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function b7(t,e){return e}class er{constructor(e,n,r,a){this.server=e,this.local=n||e,this.writable=!!r,this.xform=a||b7}}let qp=null;function _7(t){return!dE(t)||t.length<2?t:CM(t)}function IM(){if(qp)return qp;const t=[];t.push(new er("bucket")),t.push(new er("generation")),t.push(new er("metageneration")),t.push(new er("name","fullPath",!0));function e(o,l){return _7(l)}const n=new er("name");n.xform=e,t.push(n);function r(o,l){return l!==void 0?Number(l):l}const a=new er("size");return a.xform=r,t.push(a),t.push(new er("timeCreated")),t.push(new er("updated")),t.push(new er("md5Hash",null,!0)),t.push(new er("cacheControl",null,!0)),t.push(new er("contentDisposition",null,!0)),t.push(new er("contentEncoding",null,!0)),t.push(new er("contentLanguage",null,!0)),t.push(new er("contentType",null,!0)),t.push(new er("metadata","customMetadata",!0)),qp=t,qp}function w7(t,e){function n(){const r=t.bucket,a=t.fullPath,o=new jr(r,a);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function E7(t,e,n){const r={};r.type="file";const a=n.length;for(let o=0;o<a;o++){const l=n[o];r[l.local]=l.xform(r,e[l.server])}return w7(r,t),r}function PM(t,e,n){const r=OM(e);return r===null?null:E7(t,r,n)}function T7(t,e,n,r){const a=OM(e);if(a===null||!dE(a.downloadTokens))return null;const o=a.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(d=>{const p=t.bucket,m=t.fullPath,v="/b/"+l(p)+"/o/"+l(m),_=mE(v,n,r),w=TM({alt:"media",token:d});return _+w})[0]}function S7(t,e){const n={},r=e.length;for(let a=0;a<r;a++){const o=e[a];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class RM{constructor(e,n,r,a){this.url=e,this.method=n,this.handler=r,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function DM(t){if(!t)throw hE()}function A7(t,e){function n(r,a){const o=PM(t,a,e);return DM(o!==null),o}return n}function x7(t,e){function n(r,a){const o=PM(t,a,e);return DM(o!==null),T7(o,a,t.host,t._protocol)}return n}function NM(t){function e(n,r){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=UF():a=VF():n.getStatus()===402?a=LF(t.bucket):n.getStatus()===403?a=zF(t.path):a=r,a.status=n.getStatus(),a.serverResponse=r.serverResponse,a}return e}function O7(t){const e=NM(t);function n(r,a){let o=e(r,a);return r.getStatus()===404&&(o=jF(t.path)),o.serverResponse=a.serverResponse,o}return n}function C7(t,e,n){const r=e.fullServerUrl(),a=mE(r,t.host,t._protocol),o="GET",l=t.maxOperationRetryTime,c=new RM(a,o,x7(t,n),l);return c.errorHandler=O7(e),c}function I7(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function P7(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=I7(null,e)),r}function R7(t,e,n,r,a){const o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let R="";for(let z=0;z<2;z++)R=R+Math.random().toString().slice(2);return R}const f=c();l["Content-Type"]="multipart/related; boundary="+f;const d=P7(e,r,a),p=S7(d,n),m="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+f+`\r
Content-Type: `+d.contentType+`\r
\r
`,v=`\r
--`+f+"--",_=no.getBlob(m,r,v);if(_===null)throw GF();const w={name:d.fullPath},T=mE(o,t.host,t._protocol),S="POST",P=t.maxUploadRetryTime,k=new RM(T,S,A7(t,n),P);return k.urlParams=w,k.headers=l,k.body=_.uploadData(),k.errorHandler=NM(e),k}class D7{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=_l.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=_l.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=_l.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,a,o){if(this.sent_)throw Nf("cannot .send() more than once");if(xo(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Nf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Nf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Nf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Nf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class N7 extends D7{initXhr(){this.xhr_.responseType="text"}}function kM(){return new N7}class Il{constructor(e,n){this._service=e,n instanceof jr?this._location=n:this._location=jr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Il(e,n)}get root(){const e=new jr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return CM(this._location.path)}get storage(){return this._service}get parent(){const e=y7(this._location.path);if(e===null)return null;const n=new jr(this._location.bucket,e);return new Il(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw YF(e)}}function k7(t,e,n){t._throwIfRoot("uploadBytes");const r=R7(t.storage,t._location,IM(),new no(e,!0),n);return t.storage.makeRequestWithTokens(r,kM).then(a=>({metadata:a,ref:t}))}function M7(t){t._throwIfRoot("getDownloadURL");const e=C7(t.storage,t._location,IM());return t.storage.makeRequestWithTokens(e,kM).then(n=>{if(n===null)throw KF();return n})}function j7(t,e){const n=v7(t._location.path,e),r=new jr(t._location.bucket,n);return new Il(t.storage,r)}function L7(t){return/^[A-Za-z]+:\/\//.test(t)}function V7(t,e){return new Il(t,e)}function MM(t,e){if(t instanceof gE){const n=t;if(n._bucket==null)throw $F();const r=new Il(n,n._bucket);return e!=null?MM(r,e):r}else return e!==void 0?j7(t,e):t}function U7(t,e){if(e&&L7(e)){if(t instanceof gE)return V7(t,e);throw _1("To use ref(service, url), the first argument must be a Storage instance.")}else return MM(t,e)}function nI(t,e){const n=e?.[wM];return n==null?null:jr.makeFromBucketSpec(n,t)}function z7(t,e,n,r={}){t.host=`${e}:${n}`;const a=xo(e);a&&(bw(`https://${t.host}/b`),eN("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:UU(o,t.app.options.projectId))}class gE{constructor(e,n,r,a,o,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=o,this._isUsingEmulator=l,this._bucket=null,this._host=_M,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=kF,this._maxUploadRetryTime=MF,this._requests=new Set,a!=null?this._bucket=jr.makeFromBucketSpec(a,this._host):this._bucket=nI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=jr.makeFromBucketSpec(this._url,e):this._bucket=nI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){tI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){tI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Il(this,e)}_makeRequest(e,n,r,a,o=!0){if(this._deleted)return new XF(EM());{const l=o7(e,this._appId,r,a,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,a).getPromise()}}const rI="@firebase/storage",iI="0.14.0";const jM="storage";function B7(t,e,n){return t=zt(t),k7(t,e,n)}function q7(t){return t=zt(t),M7(t)}function F7(t,e){return t=zt(t),U7(t,e)}function H7(t=iN(),e){t=zt(t);const r=Ug(t,jM).getImmediate({identifier:e}),a=LU("storage");return a&&$7(r,...a),r}function $7(t,e,n,r={}){z7(t,e,n,r)}function G7(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new gE(n,r,a,e,Vl)}function K7(){Sl(new go(jM,G7,"PUBLIC").setMultipleInstances(!0)),ua(rI,iI,""),ua(rI,iI,"esm2020")}K7();const W7={apiKey:"AIzaSyD8M2Vb_gJcy3hrOIvKi5JJLUluBgw0E_k",authDomain:"kidstracker-ed3e9.firebaseapp.com",projectId:"kidstracker-ed3e9",storageBucket:"kidstracker-ed3e9.firebasestorage.app",messagingSenderId:"805669729661",appId:"1:805669729661:web:28b82522d564fbe2784814",measurementId:"G-J4J9CLTJFR"},yE=rN(W7),Be=g8(yE,{experimentalForceLongPolling:!0}),gm=DF(yE),Y7=new qa,X7=H7(yE),Q7={fi:{daily:"Pivn saldo",saved:"Sstss",points:"pistett",buy:"Kyt -aikaa",noPoints:"Ei tarpeeksi pisteit!",granted:"Peliaika mynnetty!",tasksTitle:"Tehtvt",statsTitle:"Tilastot",inProgress:"Menossa:",availableTasks:"Vapaat tehtvt:",done:"VALMIS ",logout:"Kirjaudu ulos",approve:"Salli aloitus ",givePoints:"Anna pisteit ",executing:"Suoritetaan...",noRequests:"Ei pyyntj",taskSettings:"Tehtvien hallinta",taskName:"Tehtvn nimi",averagePerDay:"Keskiarvo pivss",perWeek:"Viikossa",noData:"Ei tietoja saatavilla",achievementsTab:"Tasot",shopTab:"Kauppa",achievements:{title:"Saavutukset",nextLevel:"Seuraava taso:",needed:"Tarvitaan:",xp:"XP",bonus:"Sinun bonuksesi"},shop:{title:"Kauppa",buyButton:"Osta",exchange:"Vaihto",buyPrefix:"Ostettu"},tasks:{laksyt:"Lksyt",jumppa:"Aamujumppa",ulkoilu:"Ulkoilu",kissat:"Kissat",kotityot:"Kotityt",kaytos:"Kyts"},admin:{checkTasks:"Tarkistus",editTasks:"Mallit",settings:"Perhe",shopSettingsTitle:"Kaupan asetukset",typeReward:"Tuote",typeMoney:"Raha",placeholderName:"Nimi...",placeholderBonus:"Palkinto...",placeholderDesc:"Kuvaus...",labelPricePoints:"Hinta (pisteit)",labelAmountEuro:"Summa ()",btnAdd:"Lis",levelsTitle:"Tasot ja saavutukset",clearConfirm:"Haluatko varmasti poistaa kaikki kertatehtvt?",clearOld:"Tyhjenn vanhat",templates:"Kaikki tehtvt",dailyLoad:"Pivn tilanne",requests:"Pyynnt",noRequests:"Ei uusia pyyntj"},auth:{welcome:" Melkein valmista",finishRegistration:"Viimeistele profiilisi",namePlaceholder:"Sinun nimesi",roleChild:"Olen lapsi",roleParent:"Olen vanhempi",familyCodeLabel:"Perhekoodi (jos on)",familyCodePlaceholder:"Esim: fam_xyz123",familyCodeHint:"* Jos jtt tyhjksi, luomme uuden perheryhmn.",startAdventure:"Aloita seikkailu! ",loading:"Hetkinen..."},profile:{roleLabel:"Rooli",familyIdLabel:"Perheen ID",parent:"Vanhempi",child:"Lapsi"},familySettings:{title:"Profiilien hallinta",inviteTitle:"Kutsu jseni",inviteDesc:"Lhet linkki lapselle tai anna skannata QR-koodi",copyCode:"Kopioi koodi",copied:"Kopioitu!",shareLink:"Jaa linkki",addManual:"Lis manuaalisesti",namePlaceholder:"Jsenen nimi",pointsBalance:"Pisteet",adminStatus:"Yllpitj",deleteConfirm:"Poistetaanko kyttj pysyvsti?"},adminForm:{editTitle:"Muokkaa tehtv",createTitle:"Uusi tehtv",forLabel:"KYTTJLLE",pointsLabel:"PISTEET",minutesLabel:"MINUUTIT",saveBtn:"Tallenna",createBtn:"Luo tehtv",copyAsNewBtn:"Kopioi uusi"},titles:{level_novice:"Aloittelija",level_apprentice:"Oppipoika",level_master:"Mestari",level_hero:"Sankari",level_legend:"Legenda"},shop_items:{shop_icecream:"Jtel",shop_gaming:"30 min peliaikaa",shop_cinema:"Elokuva",shop_money:"Rahaa"},stats:{average:"Keskiarvo pivss",weekly:"Viikossa",recentTitle:"Viimeisimmt",noData:"Ei tietoja saatavilla"},howItWorks:{title:"Miten se toimii? ",step1:{t:"Tee tehtvi",d:"Valitse tehtv listalta ja paina Aloita."},step2:{t:"Odota vahvistusta",d:"Vanhempi saa ilmoituksen ja hyvksyy suorituksen."},step3:{t:"Ker pisteit",d:"Saat XP:t ja pisteit jokaisesta tehtvst."},step4:{t:"Kyt kaupassa",d:"Vaihda pisteet peliaikaan, herkkuun tai rahaan."}}},ru:{daily:" ",saved:" ",points:"",buy:"  ",noPoints:" !",granted:" !",tasksTitle:"",statsTitle:"",inProgress:" :",availableTasks:" :",done:" ",logout:"",approve:"  ",givePoints:"  ",executing:"...",noRequests:"  ",taskSettings:" ",taskName:" ",averagePerDay:"  ",perWeek:" ",noData:" ",achievementsTab:"",shopTab:"",achievements:{title:" ",nextLevel:" :",needed:":",xp:"XP",bonus:" "},shop:{title:" ",buyButton:"",exchange:"",buyPrefix:""},tasks:{laksyt:" ",jumppa:"",ulkoilu:"",kissat:" ",kotityot:"  ",kaytos:" "},admin:{checkTasks:"",editTasks:"",settings:"",shopSettingsTitle:" ",typeReward:"",typeMoney:"",placeholderName:"...",placeholderBonus:"  ...",placeholderDesc:"...",labelPricePoints:" ()",labelAmountEuro:" ()",btnAdd:"",levelsTitle:" ",clearConfirm:"   ?",clearOld:" ",templates:" ",dailyLoad:"  ",requests:"",noRequests:"  "},auth:{welcome:"  ",finishRegistration:"  ",namePlaceholder:" ",roleChild:" ",roleParent:" ",familyCodeLabel:"  ( )",familyCodePlaceholder:": fam_xyz123",familyCodeHint:"*   ,    .",startAdventure:" ! ",loading:"..."},profile:{roleLabel:"",familyIdLabel:"ID ",parent:"",child:""},familySettings:{title:" ",inviteTitle:" ",inviteDesc:"      QR-",copyCode:" ",copied:"!",shareLink:"",addManual:" ",namePlaceholder:" ",pointsBalance:"",adminStatus:"",deleteConfirm:"  ?"},adminForm:{editTitle:"",createTitle:" ",forLabel:"",pointsLabel:"",minutesLabel:"",saveBtn:"",createBtn:" ",copyAsNewBtn:" "},titles:{level_novice:"",level_apprentice:"",level_master:"",level_hero:"",level_legend:""},shop_items:{shop_icecream:"",shop_gaming:"30  ",shop_cinema:"  ",shop_money:"  "},stats:{average:"  ",weekly:" ",recentTitle:" ",noData:" "},howItWorks:{title:"  ? ",step1:{t:" ",d:"       ."},step2:{t:" ",d:"     ."},step3:{t:" ",d:"     XP    ."},step4:{t:"  ",d:"    ,    ."}}},en:{daily:"Daily balance",saved:"Saved",points:"points",buy:"Use bonus time",noPoints:"Not enough points!",granted:"Time granted!",tasksTitle:"Tasks",statsTitle:"Statistics",inProgress:"In progress:",availableTasks:"Available tasks:",done:"DONE ",logout:"Logout",approve:"Approve start ",givePoints:"Give points ",executing:"Executing...",noRequests:"No requests",taskSettings:"Task settings",taskName:"Task name",averagePerDay:"Daily average",perWeek:"Per week",noData:"No data available",achievementsTab:"Levels",shopTab:"Shop",achievements:{title:"Achievements",nextLevel:"Next level:",needed:"Needed:",xp:"XP",bonus:"Your bonus"},shop:{title:"Bonus Shop",buyButton:"Buy",exchange:"Exchange",buyPrefix:"Purchased"},tasks:{laksyt:"Homework",jumppa:"Morning gym",ulkoilu:"Outdoors",kissat:"Feed cats",kotityot:"Housework",kaytos:"Behavior"},admin:{checkTasks:"Review",editTasks:"Templates",settings:"Family",shopSettingsTitle:"Shop Settings",typeReward:"Item",typeMoney:"Money",placeholderName:"Name...",placeholderBonus:"Reward or bonus...",placeholderDesc:"Description...",labelPricePoints:"Price (pts)",labelAmountEuro:"Amount ()",btnAdd:"Add",levelsTitle:"Levels & Achievements",clearConfirm:"Are you sure you want to delete all one-time tasks?",clearOld:"Clear old",templates:"All tasks",dailyLoad:"Daily status",requests:"Requests",noRequests:"No new requests"},auth:{welcome:" Almost ready",finishRegistration:"Set up your profile",namePlaceholder:"Your name",roleChild:"I'm a child",roleParent:"I'm a parent",familyCodeLabel:"Family code (if any)",familyCodePlaceholder:"Example: fam_xyz123",familyCodeHint:"* If left empty, a new family group will be created.",startAdventure:"Start adventure! ",loading:"One moment..."},profile:{roleLabel:"Role",familyIdLabel:"Family ID",parent:"Parent",child:"Child"},familySettings:{title:"Profile Management",inviteTitle:"Invite Members",inviteDesc:"Send link or scan QR",copyCode:"Copy code",copied:"Copied!",shareLink:"Share",addManual:"Add manually",namePlaceholder:"Member name",pointsBalance:"Points",adminStatus:"Admin",deleteConfirm:"Delete user permanently?"},adminForm:{editTitle:"Edit Task",createTitle:"New Task",forLabel:"FOR",pointsLabel:"POINTS",minutesLabel:"MINUTES",saveBtn:"Save",createBtn:"Create Task",copyAsNewBtn:"As New"},titles:{level_novice:"Novice",level_apprentice:"Apprentice",level_master:"Master",level_hero:"Hero",level_legend:"Legend"},shop_items:{shop_icecream:"Ice cream",shop_gaming:"30 min gaming",shop_cinema:"Cinema trip",shop_money:"Cash out"},stats:{average:"Aerage day",weekly:"Weekly",recentTitle:"Recent action",noData:"No Data"},howItWorks:{title:"How it works? ",step1:{t:"Complete Tasks",d:'Pick an available task from the list and tap "Start".'},step2:{t:"Wait for Approval",d:"Your parent will get a notification to review and approve your work."},step3:{t:"Earn Points",d:"For every task, you get XP and points added to your balance."},step4:{t:"Spend in Shop",d:"Exchange your points for gaming time, treats, or real rewards."}}}},Z7=({total:t,lang:e,setLang:n,t:r})=>{const[a,o]=x.useState(()=>{const f=document.body.classList.contains("dark"),d=window.matchMedia("(prefers-color-scheme: dark)").matches;return d&&!f&&document.body.classList.add("dark"),f||d});x.useEffect(()=>{const f=window.matchMedia("(prefers-color-scheme: dark)"),d=p=>{const m=p.matches;document.body.classList.toggle("dark",m),o(m)};return f.addEventListener("change",d),()=>f.removeEventListener("change",d)},[]);const l=()=>{const f=document.body.classList.toggle("dark");o(f)},c=f=>({fontSize:"22px",cursor:"pointer",border:"none",background:"none",transition:"all 0.3s ease",filter:f?"drop-shadow(0 2px 4px rgba(0,0,0,0.2))":"grayscale(1)",opacity:f?1:.3,transform:f?"scale(1.2)":"scale(1)",padding:"0 4px"});return I.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",backgroundColor:"var(--card-bg)",padding:"12px 16px",borderRadius:"24px",boxShadow:"var(--shadow)",border:"1px solid var(--border-color)",backdropFilter:"blur(10px)",position:"sticky",top:"10px",zIndex:100},children:[I.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[I.jsx("div",{style:{background:"var(--accent-green)",color:"white",width:"32px",height:"32px",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"18px",boxShadow:"0 4px 10px rgba(16, 185, 129, 0.3)"},children:""}),I.jsxs("div",{children:[I.jsx("div",{style:{fontSize:"18px",fontWeight:"800",lineHeight:1,color:"var(--text-main)"},children:t}),I.jsx("div",{style:{fontSize:"10px",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.5px"},children:r.points})]})]}),I.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[I.jsx("button",{onClick:l,style:{fontSize:"16px",background:"var(--bg-color)",border:"1px solid var(--border-color)",borderRadius:"12px",width:"36px",height:"36px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:a?"":""}),I.jsx("div",{style:{width:"1px",height:"20px",backgroundColor:"var(--border-color)"}}),I.jsxs("div",{style:{display:"flex",gap:"2px",alignItems:"center"},children:[I.jsx("button",{onClick:()=>n("fi"),style:c(e==="fi"),children:""}),I.jsx("button",{onClick:()=>n("ru"),style:c(e==="ru"),children:""}),I.jsx("button",{onClick:()=>n("en"),style:c(e==="en"),children:""})]})]})]})},J7=({activeTab:t,setActiveTab:e,t:n,userRole:r})=>{const a=(o,l="#4CAF50")=>({background:"none",border:"none",fontSize:"12px",fontWeight:t===o?"bold":"normal",color:t===o?l:"#888",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"});return I.jsxs("nav",{style:{width:"100%",display:"flex",justifyContent:"space-around",padding:"10px 0",borderTop:"1px solid var(--border-color)",backgroundColor:"var(--card-bg)"},children:[I.jsxs("button",{onClick:()=>e("tasks"),style:a("tasks"),children:[I.jsx("span",{style:{fontSize:"20px"},children:""}),n.tasksTitle]}),I.jsxs("button",{onClick:()=>e("stats"),style:a("stats"),children:[I.jsx("span",{style:{fontSize:"20px"},children:""}),n.statsTitle]}),I.jsxs("button",{onClick:()=>e("shop"),style:a("shop"),children:[I.jsx("span",{style:{fontSize:"20px"},children:""}),n.shopTab]}),I.jsxs("button",{onClick:()=>e("awards"),style:a("awards","#FF9800"),children:[I.jsx("span",{style:{fontSize:"20px"},children:""}),n.achievementsTab]}),r==="parent"&&I.jsxs("button",{onClick:()=>e("admin"),style:a("admin"),children:[I.jsx("span",{style:{fontSize:"20px"},children:""}),n.taskSettings]})]})},eH="_panelContainer_19ml5_5",tH="_leftCol_19ml5_69",nH="_card_19ml5_83",rH="_statsHeader_19ml5_101",iH="_progressBar_19ml5_115",aH="_progressFill_19ml5_131",sH="_clearButton_19ml5_141",oH="_requestItem_19ml5_169",lH="_formHeader_19ml5_195",uH="_formAvatar_19ml5_209",cH="_targetChild_19ml5_213",fH="_mainForm_19ml5_225",hH="_inputRow_19ml5_237",dH="_iconInput_19ml5_247",pH="_labelInput_19ml5_267",mH="_numberInput_19ml5_287",gH="_inputGroup_19ml5_287",yH="_gridRow_19ml5_323",vH="_inputHint_19ml5_349",bH="_buttonGroup_19ml5_381",_H="_actionButton_19ml5_391",wH="_actionIcon_19ml5_417",EH="_actionLabel_19ml5_419",TH="_submitBtn_19ml5_423",SH="_templatesContainer_19ml5_449",AH="_templateItem_19ml5_467",xH="_templateSelected_19ml5_489",OH="_templateInfo_19ml5_499",CH="_templateIcon_19ml5_511",IH="_templateLabel_19ml5_513",PH="_templateSub_19ml5_515",RH="_templateActions_19ml5_519",DH="_copyBtn_19ml5_531",NH="_deleteBtn_19ml5_549",we={panelContainer:eH,leftCol:tH,card:nH,statsHeader:rH,progressBar:iH,progressFill:aH,clearButton:sH,requestItem:oH,formHeader:lH,formAvatar:uH,targetChild:cH,mainForm:fH,inputRow:hH,iconInput:dH,labelInput:pH,numberInput:mH,inputGroup:gH,gridRow:yH,inputHint:vH,buttonGroup:bH,actionButton:_H,actionIcon:wH,actionLabel:EH,submitBtn:TH,templatesContainer:SH,templateItem:AH,templateSelected:xH,templateInfo:OH,templateIcon:CH,templateLabel:IH,templateSub:PH,templateActions:RH,copyBtn:DH,deleteBtn:NH},kH=["","","","","","","","","","","",""],pb=({active:t,icon:e,label:n,onClick:r,activeColor:a})=>I.jsxs("div",{onClick:r,className:we.actionButton,style:{border:t?`2px solid ${a}`:"2px solid var(--border-color)",backgroundColor:t?`${a}15`:"var(--card-bg)",cursor:"pointer"},children:[I.jsx("span",{className:we.actionIcon,children:e}),I.jsx("span",{className:we.actionLabel,style:{color:t?a:"var(--text-secondary)"},children:n})]}),MH=({t,currentChild:e,onSubmit:n,editingId:r,onCancel:a,formState:o,setters:l})=>I.jsxs("section",{className:we.card,children:[I.jsxs("div",{className:we.formHeader,children:[I.jsx("span",{className:we.formAvatar,children:e?.avatar||""}),I.jsxs("div",{children:[I.jsx("h3",{style:{margin:0},children:r?t.adminForm.editTitle:t.adminForm.createTitle}),I.jsxs("span",{className:we.targetChild,children:[t.adminForm.forLabel,": ",e?.name?.toUpperCase()||"..."]})]})]}),I.jsxs("form",{onSubmit:n,className:we.mainForm,children:[I.jsx("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap",marginBottom:"15px",padding:"10px",background:"rgba(0,0,0,0.05)",borderRadius:"12px"},children:kH.map(c=>I.jsx("span",{onClick:()=>l.setNewIcon(c),style:{fontSize:"24px",cursor:"pointer",transform:o.newIcon===c?"scale(1.3)":"scale(1)",transition:"transform 0.2s",filter:o.newIcon===c?"none":"grayscale(0.5) opacity(0.7)"},children:c},c))}),I.jsxs("div",{className:we.inputRow,children:[I.jsx("input",{className:we.iconInput,value:o.newIcon,onChange:c=>l.setNewIcon(c.target.value),placeholder:""}),I.jsx("input",{className:we.labelInput,value:o.newLabel,onChange:c=>l.setNewLabel(c.target.value),placeholder:t.taskName})]}),I.jsxs("div",{className:we.gridRow,children:[I.jsxs("div",{className:we.inputGroup,children:[I.jsx("span",{className:we.inputHint,children:t.adminForm.pointsLabel}),I.jsx("input",{className:we.numberInput,type:"number",value:o.newPoints,onChange:c=>l.setNewPoints(Number(c.target.value))})]}),I.jsxs("div",{className:we.inputGroup,children:[I.jsx("span",{className:we.inputHint,children:t.adminForm.minutesLabel}),I.jsx("input",{className:we.numberInput,type:"number",value:o.newDuration,onChange:c=>l.setNewDuration(Number(c.target.value))})]})]}),I.jsxs("div",{className:we.buttonGroup,children:[I.jsx(pb,{active:o.autoRepeat,icon:"",label:"Daily",activeColor:"#FF9800",onClick:()=>l.setAutoRepeat(!o.autoRepeat)}),I.jsx(pb,{active:o.autoApprove,icon:"",label:"Auto",activeColor:"#2196F3",onClick:()=>l.setAutoApprove(!o.autoApprove)}),I.jsx(pb,{active:o.autoPayout,icon:"",label:"Payout",activeColor:"#4CAF50",onClick:()=>l.setAutoPayout(!o.autoPayout)})]}),I.jsxs("div",{style:{display:"flex",gap:"10px"},children:[I.jsx("button",{type:"submit",className:we.submitBtn,style:{flex:2},children:r?t.adminForm.saveBtn:` ${t.adminForm.createBtn}`}),r&&I.jsx("button",{type:"button",onClick:a,className:we.submitBtn,style:{flex:1,background:"var(--text-secondary)",fontSize:"12px"},children:t.adminForm.copyAsNewBtn})]})]})]}),jH=({t,tasks:e,users:n,selectedChildId:r,copyToForm:a})=>{const o=e.reduce((c,f)=>{const d=f.assignedTo||"all";return c[d]||(c[d]=[]),c[d].push(f),c},{}),l=Object.keys(o).sort((c,f)=>c==="all"?-1:f==="all"?1:c===r?-1:f===r?1:0);return I.jsx("div",{className:we.templatesContainer,children:l.map(c=>{const f=o[c],d=n.find(m=>m.uid===c),p=c===r;return I.jsxs("div",{style:{marginBottom:"25px"},children:[I.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px",padding:"0 5px"},children:[I.jsx("span",{style:{fontSize:"12px",fontWeight:"900",color:p?"var(--accent-blue)":"#888",textTransform:"uppercase"},children:c==="all"?` ${t.admin.templates}`:` ${d?.name||"User"}`}),I.jsx("div",{style:{flex:1,height:"1px",background:p?"var(--accent-blue)":"#eee",opacity:.5}})]}),I.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:f.map(m=>I.jsxs("div",{className:`${we.templateItem} ${m.assignedTo===r?we.templateSelected:""}`,style:{opacity:m.assignedTo===r||c==="all"?1:.8,borderLeft:m.assignedTo===r?"4px solid var(--accent-blue)":"1px solid #eee"},children:[I.jsxs("div",{className:we.templateInfo,children:[I.jsx("span",{className:we.templateIcon,children:m.icon||""}),I.jsxs("div",{children:[I.jsx("div",{className:we.templateLabel,children:m.label}),I.jsxs("div",{className:we.templateSub,children:[m.points," pts ",m.isAutoRepeat&&"  "]})]})]}),I.jsxs("div",{className:we.templateActions,children:[I.jsx("button",{onClick:()=>a(m),className:we.copyBtn,children:""}),I.jsx("button",{onClick:()=>window.confirm(t.familySettings.deleteConfirm)&&fo(Et(Be,"tasks_list",m.id)),className:we.deleteBtn,children:""})]})]},m.id))})]},c)})})},LH=["","","","","","","","","","","",""],VH=({t})=>{const[e,n]=x.useState([]),[r,a]=x.useState(!0),[o,l]=x.useState(""),[c,f]=x.useState(""),[d,p]=x.useState(100),[m,v]=x.useState(""),_=t.admin||{};x.useEffect(()=>vr(Un(Be,"achievements_list"),S=>{const P=S.docs.map(k=>{const R=k.data();return{id:k.id,...R,label:R.label||R.labelRu||R.translationKey||""}}).filter(k=>k.type==="title");n(P.sort((k,R)=>k.threshold-R.threshold)),a(!1)}),[]);const w=async()=>{if(!o)return;const T=`title_${Date.now()}`;await ry(Et(Be,"achievements_list",T),{threshold:d,icon:m,label:o,bonus:c,type:"title"}),l(""),f("")};return r?I.jsx("div",{className:we.spinner,children:""}):I.jsxs("div",{className:we.card,children:[I.jsx("h3",{style:{color:"var(--accent-orange)"},children:t.admin.levelsTitle}),I.jsxs("div",{className:we.mainForm,style:{background:"var(--bg-color)",padding:"15px",borderRadius:"20px",marginBottom:"20px"},children:[I.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",marginBottom:"15px",background:"#fff",padding:"10px",borderRadius:"12px"},children:LH.map(T=>I.jsx("span",{onClick:()=>v(T),style:{fontSize:"24px",cursor:"pointer",padding:"5px",borderRadius:"8px",background:m===T?"#fff3e0":"transparent",border:m===T?"1px solid var(--accent-orange)":"1px solid transparent"},children:T},T))}),I.jsx("div",{className:we.inputRow,children:I.jsx("input",{className:we.labelInput,value:o,onChange:T=>l(T.target.value),placeholder:_.placeholderName||" ..."})}),I.jsx("div",{className:we.inputRow,style:{marginTop:"10px"},children:I.jsx("input",{className:we.labelInput,value:c,onChange:T=>f(T.target.value),placeholder:_.placeholderBonus||"   ...",style:{borderColor:"var(--accent-green)"}})}),I.jsxs("div",{style:{marginTop:"10px"},children:[I.jsxs("span",{style:{fontSize:"12px"},children:[t.achievements.needed," (XP)"]}),I.jsx("input",{type:"number",className:we.numberInput,value:d,onChange:T=>p(Number(T.target.value))})]}),I.jsxs("button",{onClick:w,className:we.submitBtn,style:{marginTop:"15px",background:"var(--accent-orange)"},children:[" ",_.btnAdd]})]}),I.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:e.map(T=>I.jsxs("div",{className:we.templateItem,style:{borderLeft:"4px solid var(--accent-orange)"},children:[I.jsxs("div",{className:we.templateInfo,children:[I.jsx("span",{style:{fontSize:"28px"},children:T.icon}),I.jsxs("div",{children:[I.jsx("div",{style:{fontWeight:"bold"},children:T.label}),I.jsxs("div",{style:{fontSize:"12px",color:"var(--accent-orange)",fontWeight:"bold"},children:[T.threshold," XP"]}),T.bonus&&I.jsxs("div",{style:{fontSize:"11px",color:"var(--accent-green)"},children:[" ",T.bonus]})]})]}),I.jsx("button",{onClick:()=>window.confirm(t.familySettings.deleteConfirm)&&fo(Et(Be,"achievements_list",T.id)),className:we.deleteBtn,children:""})]},T.id))})]})},UH=["","","","","","","","","","","",""],zH=({t})=>{const[e,n]=x.useState([]),[r,a]=x.useState(!0),[o,l]=x.useState(""),[c,f]=x.useState(""),[d,p]=x.useState(50),[m,v]=x.useState(""),[_,w]=x.useState("reward"),[T,S]=x.useState(0),P=t.admin||{};x.useEffect(()=>{const R=vr(Un(Be,"achievements_list"),z=>{const F=z.docs.map(C=>{const D=C.data();return{id:C.id,...D,label:D.label||D.labels?.ru||D.labelRu||""}}).filter(C=>C.type==="reward"||C.type==="exchange").sort((C,D)=>C.threshold-D.threshold);n(F),a(!1)});return()=>R()},[]);const k=async()=>{if(!o)return;const R=`${_}_${Date.now()}`;await ry(Et(Be,"achievements_list",R),{threshold:d,icon:m,type:_,label:o,description:c,..._==="exchange"&&{valueInEuro:T}}),l(""),f(""),S(0)};return r?I.jsx("div",{className:we.spinner,children:""}):I.jsxs("div",{className:we.card,style:{borderTop:"4px solid var(--accent-green)"},children:[I.jsxs("h3",{style:{color:"var(--accent-green)"},children:[" ",P.shopSettingsTitle]}),I.jsxs("div",{className:we.mainForm,style:{background:"var(--bg-color)",padding:"15px",borderRadius:"20px",marginBottom:"20px"},children:[I.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"15px"},children:[I.jsxs("button",{onClick:()=>w("reward"),className:we.actionButton,style:{flex:1,background:_==="reward"?"var(--accent-green)":"white",color:_==="reward"?"white":"black"},children:[" ",P.typeReward]}),I.jsxs("button",{onClick:()=>w("exchange"),className:we.actionButton,style:{flex:1,background:_==="exchange"?"var(--accent-blue)":"white",color:_==="exchange"?"white":"black"},children:[" ",P.typeMoney]})]}),I.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",marginBottom:"15px"},children:UH.map(R=>I.jsx("span",{onClick:()=>v(R),style:{fontSize:"24px",cursor:"pointer",padding:"5px",borderRadius:"8px",background:m===R?"#e8f5e9":"transparent",border:m===R?"1px solid var(--accent-green)":"1px solid transparent"},children:R},R))}),I.jsx("input",{className:we.labelInput,value:o,onChange:R=>l(R.target.value),placeholder:P.placeholderName,style:{marginBottom:"10px"}}),I.jsx("input",{className:we.labelInput,value:c,onChange:R=>f(R.target.value),placeholder:P.placeholderDesc,style:{marginBottom:"10px",fontSize:"14px",borderColor:"#eee"}}),I.jsxs("div",{style:{display:"flex",gap:"10px"},children:[I.jsxs("div",{style:{flex:1},children:[I.jsx("span",{style:{fontSize:"11px"},children:P.labelPricePoints}),I.jsx("input",{type:"number",className:we.numberInput,value:d,onChange:R=>p(Number(R.target.value))})]}),_==="exchange"&&I.jsxs("div",{style:{flex:1},children:[I.jsx("span",{style:{fontSize:"11px"},children:P.labelAmountEuro}),I.jsx("input",{type:"number",className:we.numberInput,value:T,onChange:R=>S(Number(R.target.value))})]})]}),I.jsxs("button",{onClick:k,className:we.submitBtn,style:{marginTop:"15px",background:"var(--accent-green)"},children:[" ",P.btnAdd]})]}),I.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:e.map(R=>I.jsxs("div",{className:we.templateItem,style:{borderLeft:`4px solid ${R.type==="reward"?"var(--accent-green)":"var(--accent-blue)"}`},children:[I.jsxs("div",{className:we.templateInfo,children:[I.jsx("span",{style:{fontSize:"24px"},children:R.icon}),I.jsxs("div",{children:[I.jsx("div",{style:{fontWeight:"bold",fontSize:"14px"},children:R.label}),R.description&&I.jsx("div",{style:{fontSize:"12px",color:"#888",fontStyle:"italic"},children:R.description}),I.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:[R.threshold," pts ",R.valueInEuro?`  ${R.valueInEuro}`:""]})]})]}),I.jsx("button",{onClick:()=>window.confirm(t.familySettings.deleteConfirm)&&fo(Et(Be,"achievements_list",R.id)),className:we.deleteBtn,children:""})]},R.id))})]})},Fp=({t,selectedChildId:e,mode:n,lang:r})=>{const[a,o]=x.useState([]),[l,c]=x.useState([]),[f,d]=x.useState([]),[p,m]=x.useState(""),[v,_]=x.useState(10),[w,T]=x.useState(""),[S,P]=x.useState(0),[k,R]=x.useState(!1),[z,H]=x.useState(!1),[F,C]=x.useState(!1),[D,L]=x.useState(null);x.useEffect(()=>{const W=vr(Un(Be,"tasks_list"),fe=>{o(fe.docs.map(pe=>({id:pe.id,...pe.data()})))}),B=vr(Un(Be,"approvals"),fe=>{c(fe.docs.map(pe=>({id:pe.id,...pe.data()})))}),J=vr(Un(Be,"users"),fe=>{d(fe.docs.map(pe=>({uid:pe.id,...pe.data()})))});return()=>{W(),B(),J()}},[]);const q=f.find(W=>W.uid===e),U=new Date().toISOString().split("T")[0],M=a.filter(W=>W.assignedTo===e||W.assignedTo==="all"),V=M.reduce((W,B)=>W+B.points,0),ge=M.filter(W=>W.lastCompleted===U).reduce((W,B)=>W+B.points,0),ve=V>0?Math.round(ge/V*100):0,Y=W=>{m(W.label),_(W.points),T(W.icon||""),P(W.duration||0),R(!!W.isAutoRepeat),H(!!W.isAutoApprove),C(!!W.isAutoPayout),L(W.id),window.scrollTo({top:0,behavior:"smooth"})},oe=async W=>{if(W.userId)try{const B=Et(Be,"users",W.userId),J=W.points<0;if(J?await Ei(B,{currentBalance:th(W.points)}):await Ei(B,{totalPoints:th(W.points),currentBalance:th(W.points)}),await ph(Un(Be,"history"),{userId:W.userId,label:W.label,points:W.points,date:new Date,type:J?"spend":"earn"}),W.taskId){const fe=a.find(pe=>pe.id===W.taskId);fe&&(fe.isAutoRepeat?await Ei(Et(Be,"tasks_list",fe.id),{lastCompleted:U}):await fo(Et(Be,"tasks_list",fe.id)))}await fo(Et(Be,"approvals",W.id))}catch(B){console.error("  :",B)}},ne=async W=>{if(W.preventDefault(),!p||!e)return;const B={label:p,points:Number(v),icon:w,duration:S>0?Number(S):null,isAutoRepeat:k,isAutoApprove:z,isAutoPayout:F,assignedTo:e};try{D?(await Ei(Et(Be,"tasks_list",D),B),L(null)):await ph(Un(Be,"tasks_list"),B),m(""),_(10),T(""),P(0),R(!1),H(!1),C(!1)}catch(J){console.error("   :",J),alert(r==="ru"?"   ":"Tehtvn tallennus eponnistui")}},Z=async()=>{if(!window.confirm(t.admin.clearConfirm))return;const W=a.filter(B=>(B.assignedTo===e||B.assignedTo==="all")&&!B.isAutoRepeat);try{await Promise.all(W.map(B=>fo(Et(Be,"tasks_list",B.id))))}catch(B){console.error(B)}};return I.jsxs("div",{className:we.panelContainer,children:[n==="check"&&I.jsxs("div",{className:we.leftCol,children:[I.jsxs("div",{className:we.card,style:{background:"linear-gradient(135deg, var(--card-bg) 0%, var(--bg-color) 100%)"},children:[I.jsxs("div",{className:we.statsHeader,children:[I.jsxs("div",{children:[I.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)",textTransform:"uppercase",fontWeight:"bold"},children:[t.admin.dailyLoad," "]}),I.jsxs("div",{style:{fontSize:"24px",fontWeight:"900"},children:[ge," ",I.jsxs("span",{style:{fontSize:"16px",color:"var(--text-secondary)",fontWeight:"normal"},children:["/ ",V," pts"]})]})]}),I.jsx("div",{style:{textAlign:"right"},children:I.jsxs("div",{style:{fontSize:"20px",fontWeight:"900",color:"var(--accent-blue)"},children:[ve,"%"]})})]}),I.jsx("div",{className:we.progressBar,children:I.jsx("div",{className:we.progressFill,style:{width:`${ve}%`,backgroundColor:ve===100?"var(--accent-green)":"var(--accent-blue)"}})})]}),I.jsxs("section",{style:{marginBottom:"30px"},children:[I.jsxs("h3",{style:{color:"var(--accent-orange)",fontSize:"18px",marginBottom:"15px"},children:[" ",t.admin.requests," (",q?.name||"...",") "]}),l.filter(W=>W.userId===e).length===0?I.jsxs("div",{style:{padding:"40px 20px",textAlign:"center",color:"var(--text-secondary)",background:"rgba(255,255,255,0.02)",borderRadius:"24px",border:"1px dashed var(--border-color)"},children:[" ",t.admin.noRequests," "]}):l.filter(W=>W.userId===e).map(W=>I.jsxs("div",{className:we.requestItem,children:[I.jsxs("div",{children:[I.jsxs("div",{style:{fontWeight:"bold"},children:[W.icon," ",W.label]}),I.jsx("div",{style:{color:W.points<0?"var(--accent-orange)":"var(--accent-green)",fontWeight:"bold"},children:W.points>0?`+${W.points}`:W.points})]}),I.jsx("button",{onClick:()=>oe(W),style:{padding:"12px 20px",background:"var(--accent-green)",color:"white",border:"none",borderRadius:"15px",fontWeight:"bold"},children:"OK"})]},W.id))]})]}),n==="edit"&&I.jsxs("div",{className:we.leftCol,children:[I.jsx(MH,{t,currentChild:q,onSubmit:ne,editingId:D,onCancel:()=>L(null),formState:{newLabel:p,newPoints:v,newIcon:w,newDuration:S,autoRepeat:k,autoApprove:z,autoPayout:F},setters:{setNewLabel:m,setNewPoints:_,setNewIcon:T,setNewDuration:P,setAutoRepeat:R,setAutoApprove:H,setAutoPayout:C}}),I.jsxs("div",{style:{marginTop:"30px"},children:[I.jsxs("button",{onClick:Z,className:we.clearButton,style:{marginBottom:"20px",width:"100%"},children:[" ",t.admin.clearOld," "]}),I.jsxs("h4",{style:{color:"var(--text-secondary)",fontSize:"11px",textTransform:"uppercase",marginBottom:"15px"},children:[" ",t.admin.templates,": "]}),I.jsx(jH,{t,tasks:a,users:f,selectedChildId:e,copyToForm:Y})]})]}),n==="shop"&&I.jsx("div",{className:we.leftCol,children:I.jsx(zH,{t})}),n==="levels"&&I.jsx("div",{className:we.leftCol,children:I.jsx(VH,{t})})]})};function LM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=LM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function _t(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=LM(t))&&(r&&(r+=" "),r+=e);return r}var BH=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function vE(t){if(typeof t!="string")return!1;var e=BH;return e.includes(t)}var qH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],FH=new Set(qH);function VM(t){return typeof t!="string"?!1:FH.has(t)}function UM(t){return typeof t=="string"&&t.startsWith("data-")}function ya(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(VM(n)||UM(n))&&(e[n]=t[n]);return e}function ly(t){if(t==null)return null;if(x.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return ya(e)}return typeof t=="object"&&!Array.isArray(t)?ya(t):null}function rr(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(VM(n)||UM(n)||vE(n))&&(e[n]=t[n]);return e}function HH(t){return t==null?null:x.isValidElement(t)?rr(t.props):typeof t=="object"&&!Array.isArray(t)?rr(t):null}var $H=["children","width","height","viewBox","className","style","title","desc"];function w1(){return w1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w1.apply(null,arguments)}function GH(t,e){if(t==null)return{};var n,r,a=KH(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function KH(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var zM=x.forwardRef((t,e)=>{var{children:n,width:r,height:a,viewBox:o,className:l,style:c,title:f,desc:d}=t,p=GH(t,$H),m=o||{width:r,height:a,x:0,y:0},v=_t("recharts-surface",l);return x.createElement("svg",w1({},rr(p),{className:v,width:r,height:a,style:c,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:e}),x.createElement("title",null,f),x.createElement("desc",null,d),n)}),WH=["children","className"];function E1(){return E1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E1.apply(null,arguments)}function YH(t,e){if(t==null)return{};var n,r,a=XH(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function XH(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var So=x.forwardRef((t,e)=>{var{children:n,className:r}=t,a=YH(t,WH),o=_t("recharts-layer",r);return x.createElement("g",E1({className:o},rr(a),{ref:e}),n)}),BM=KD(),QH=x.createContext(null);function wt(t){return function(){return t}}const qM=Math.cos,Fm=Math.sin,Ni=Math.sqrt,Hm=Math.PI,uy=2*Hm,T1=Math.PI,S1=2*T1,ul=1e-6,ZH=S1-ul;function FM(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function JH(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return FM;const n=10**e;return function(r){this._+=r[0];for(let a=1,o=r.length;a<o;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class e${constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?FM:JH(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,o,l){this._append`C${+e},${+n},${+r},${+a},${this._x1=+o},${this._y1=+l}`}arcTo(e,n,r,a,o){if(e=+e,n=+n,r=+r,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,c=this._y1,f=r-e,d=a-n,p=l-e,m=c-n,v=p*p+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>ul)if(!(Math.abs(m*f-d*p)>ul)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-l,w=a-c,T=f*f+d*d,S=_*_+w*w,P=Math.sqrt(T),k=Math.sqrt(v),R=o*Math.tan((T1-Math.acos((T+v-S)/(2*P*k)))/2),z=R/k,H=R/P;Math.abs(z-1)>ul&&this._append`L${e+z*p},${n+z*m}`,this._append`A${o},${o},0,0,${+(m*_>p*w)},${this._x1=e+H*f},${this._y1=n+H*d}`}}arc(e,n,r,a,o,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(a),f=r*Math.sin(a),d=e+c,p=n+f,m=1^l,v=l?a-o:o-a;this._x1===null?this._append`M${d},${p}`:(Math.abs(this._x1-d)>ul||Math.abs(this._y1-p)>ul)&&this._append`L${d},${p}`,r&&(v<0&&(v=v%S1+S1),v>ZH?this._append`A${r},${r},0,1,${m},${e-c},${n-f}A${r},${r},0,1,${m},${this._x1=d},${this._y1=p}`:v>ul&&this._append`A${r},${r},0,${+(v>=T1)},${m},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function bE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new e$(e)}function _E(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function HM(t){this._context=t}HM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function cy(t){return new HM(t)}function $M(t){return t[0]}function GM(t){return t[1]}function KM(t,e){var n=wt(!0),r=null,a=cy,o=null,l=bE(c);t=typeof t=="function"?t:t===void 0?$M:wt(t),e=typeof e=="function"?e:e===void 0?GM:wt(e);function c(f){var d,p=(f=_E(f)).length,m,v=!1,_;for(r==null&&(o=a(_=l())),d=0;d<=p;++d)!(d<p&&n(m=f[d],d,f))===v&&((v=!v)?o.lineStart():o.lineEnd()),v&&o.point(+t(m,d,f),+e(m,d,f));if(_)return o=null,_+""||null}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:wt(+f),c):t},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:wt(+f),c):e},c.defined=function(f){return arguments.length?(n=typeof f=="function"?f:wt(!!f),c):n},c.curve=function(f){return arguments.length?(a=f,r!=null&&(o=a(r)),c):a},c.context=function(f){return arguments.length?(f==null?r=o=null:o=a(r=f),c):r},c}function Hp(t,e,n){var r=null,a=wt(!0),o=null,l=cy,c=null,f=bE(d);t=typeof t=="function"?t:t===void 0?$M:wt(+t),e=typeof e=="function"?e:wt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?GM:wt(+n);function d(m){var v,_,w,T=(m=_E(m)).length,S,P=!1,k,R=new Array(T),z=new Array(T);for(o==null&&(c=l(k=f())),v=0;v<=T;++v){if(!(v<T&&a(S=m[v],v,m))===P)if(P=!P)_=v,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),w=v-1;w>=_;--w)c.point(R[w],z[w]);c.lineEnd(),c.areaEnd()}P&&(R[v]=+t(S,v,m),z[v]=+e(S,v,m),c.point(r?+r(S,v,m):R[v],n?+n(S,v,m):z[v]))}if(k)return c=null,k+""||null}function p(){return KM().defined(a).curve(l).context(o)}return d.x=function(m){return arguments.length?(t=typeof m=="function"?m:wt(+m),r=null,d):t},d.x0=function(m){return arguments.length?(t=typeof m=="function"?m:wt(+m),d):t},d.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:wt(+m),d):r},d.y=function(m){return arguments.length?(e=typeof m=="function"?m:wt(+m),n=null,d):e},d.y0=function(m){return arguments.length?(e=typeof m=="function"?m:wt(+m),d):e},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:wt(+m),d):n},d.lineX0=d.lineY0=function(){return p().x(t).y(e)},d.lineY1=function(){return p().x(t).y(n)},d.lineX1=function(){return p().x(r).y(e)},d.defined=function(m){return arguments.length?(a=typeof m=="function"?m:wt(!!m),d):a},d.curve=function(m){return arguments.length?(l=m,o!=null&&(c=l(o)),d):l},d.context=function(m){return arguments.length?(m==null?o=c=null:c=l(o=m),d):o},d}class WM{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function t$(t){return new WM(t,!0)}function n$(t){return new WM(t,!1)}const wE={draw(t,e){const n=Ni(e/Hm);t.moveTo(n,0),t.arc(0,0,n,0,uy)}},r$={draw(t,e){const n=Ni(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},YM=Ni(1/3),i$=YM*2,a$={draw(t,e){const n=Ni(e/i$),r=n*YM;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},s$={draw(t,e){const n=Ni(e),r=-n/2;t.rect(r,r,n,n)}},o$=.8908130915292852,XM=Fm(Hm/10)/Fm(7*Hm/10),l$=Fm(uy/10)*XM,u$=-qM(uy/10)*XM,c$={draw(t,e){const n=Ni(e*o$),r=l$*n,a=u$*n;t.moveTo(0,-n),t.lineTo(r,a);for(let o=1;o<5;++o){const l=uy*o/5,c=qM(l),f=Fm(l);t.lineTo(f*n,-c*n),t.lineTo(c*r-f*a,f*r+c*a)}t.closePath()}},mb=Ni(3),f$={draw(t,e){const n=-Ni(e/(mb*3));t.moveTo(0,n*2),t.lineTo(-mb*n,-n),t.lineTo(mb*n,-n),t.closePath()}},Jr=-.5,ei=Ni(3)/2,A1=1/Ni(12),h$=(A1/2+1)*3,d$={draw(t,e){const n=Ni(e/h$),r=n/2,a=n*A1,o=r,l=n*A1+n,c=-o,f=l;t.moveTo(r,a),t.lineTo(o,l),t.lineTo(c,f),t.lineTo(Jr*r-ei*a,ei*r+Jr*a),t.lineTo(Jr*o-ei*l,ei*o+Jr*l),t.lineTo(Jr*c-ei*f,ei*c+Jr*f),t.lineTo(Jr*r+ei*a,Jr*a-ei*r),t.lineTo(Jr*o+ei*l,Jr*l-ei*o),t.lineTo(Jr*c+ei*f,Jr*f-ei*c),t.closePath()}};function p$(t,e){let n=null,r=bE(a);t=typeof t=="function"?t:wt(t||wE),e=typeof e=="function"?e:wt(e===void 0?64:+e);function a(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return a.type=function(o){return arguments.length?(t=typeof o=="function"?o:wt(o),a):t},a.size=function(o){return arguments.length?(e=typeof o=="function"?o:wt(+o),a):e},a.context=function(o){return arguments.length?(n=o??null,a):n},a}function $m(){}function Gm(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function QM(t){this._context=t}QM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Gm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Gm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function m$(t){return new QM(t)}function ZM(t){this._context=t}ZM.prototype={areaStart:$m,areaEnd:$m,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Gm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function g$(t){return new ZM(t)}function JM(t){this._context=t}JM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Gm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function y$(t){return new JM(t)}function ej(t){this._context=t}ej.prototype={areaStart:$m,areaEnd:$m,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function v$(t){return new ej(t)}function aI(t){return t<0?-1:1}function sI(t,e,n){var r=t._x1-t._x0,a=e-t._x1,o=(t._y1-t._y0)/(r||a<0&&-0),l=(n-t._y1)/(a||r<0&&-0),c=(o*a+l*r)/(r+a);return(aI(o)+aI(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(c))||0}function oI(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function gb(t,e,n){var r=t._x0,a=t._y0,o=t._x1,l=t._y1,c=(o-r)/3;t._context.bezierCurveTo(r+c,a+c*e,o-c,l-c*n,o,l)}function Km(t){this._context=t}Km.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:gb(this,this._t0,oI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,gb(this,oI(this,n=sI(this,t,e)),n);break;default:gb(this,this._t0,n=sI(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function tj(t){this._context=new nj(t)}(tj.prototype=Object.create(Km.prototype)).point=function(t,e){Km.prototype.point.call(this,e,t)};function nj(t){this._context=t}nj.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,o){this._context.bezierCurveTo(e,t,r,n,o,a)}};function b$(t){return new Km(t)}function _$(t){return new tj(t)}function rj(t){this._context=t}rj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=lI(t),a=lI(e),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(r[0][o],a[0][o],r[1][o],a[1][o],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function lI(t){var e,n=t.length-1,r,a=new Array(n),o=new Array(n),l=new Array(n);for(a[0]=0,o[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,o[e]=4,l[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,o[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=a[e]/o[e-1],o[e]-=r,l[e]-=r*l[e-1];for(a[n-1]=l[n-1]/o[n-1],e=n-2;e>=0;--e)a[e]=(l[e]-a[e+1])/o[e];for(o[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-a[e+1];return[a,o]}function w$(t){return new rj(t)}function fy(t,e){this._context=t,this._t=e}fy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function E$(t){return new fy(t,.5)}function T$(t){return new fy(t,0)}function S$(t){return new fy(t,1)}function Pl(t,e){if((l=t.length)>1)for(var n=1,r,a,o=t[e[0]],l,c=o.length;n<l;++n)for(a=o,o=t[e[n]],r=0;r<c;++r)o[r][1]+=o[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function x1(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function A$(t,e){return t[e]}function x$(t){const e=[];return e.key=t,e}function O$(){var t=wt([]),e=x1,n=Pl,r=A$;function a(o){var l=Array.from(t.apply(this,arguments),x$),c,f=l.length,d=-1,p;for(const m of o)for(c=0,++d;c<f;++c)(l[c][d]=[0,+r(m,l[c].key,d,o)]).data=m;for(c=0,p=_E(e(l));c<f;++c)l[p[c]].index=c;return n(l,p),l}return a.keys=function(o){return arguments.length?(t=typeof o=="function"?o:wt(Array.from(o)),a):t},a.value=function(o){return arguments.length?(r=typeof o=="function"?o:wt(+o),a):r},a.order=function(o){return arguments.length?(e=o==null?x1:typeof o=="function"?o:wt(Array.from(o)),a):e},a.offset=function(o){return arguments.length?(n=o??Pl,a):n},a}function C$(t,e){if((r=t.length)>0){for(var n,r,a=0,o=t[0].length,l;a<o;++a){for(l=n=0;n<r;++n)l+=t[n][a][1]||0;if(l)for(n=0;n<r;++n)t[n][a][1]/=l}Pl(t,e)}}function I$(t,e){if((a=t.length)>0){for(var n=0,r=t[e[0]],a,o=r.length;n<o;++n){for(var l=0,c=0;l<a;++l)c+=t[l][n][1]||0;r[n][1]+=r[n][0]=-c/2}Pl(t,e)}}function P$(t,e){if(!(!((l=t.length)>0)||!((o=(a=t[e[0]]).length)>0))){for(var n=0,r=1,a,o,l;r<o;++r){for(var c=0,f=0,d=0;c<l;++c){for(var p=t[e[c]],m=p[r][1]||0,v=p[r-1][1]||0,_=(m-v)/2,w=0;w<c;++w){var T=t[e[w]],S=T[r][1]||0,P=T[r-1][1]||0;_+=S-P}f+=m,d+=_*m}a[r-1][1]+=a[r-1][0]=n,f&&(n-=d/f)}a[r-1][1]+=a[r-1][0]=n,Pl(t,e)}}var yb={},vb={},uI;function R$(){return uI||(uI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(vb)),vb}var bb={},cI;function ij(){return cI||(cI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(bb)),bb}var _b={},fI;function EE(){return fI||(fI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(_b)),_b}var wb={},Eb={},hI;function D$(){return hI||(hI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(Eb)),Eb}var dI;function TE(){return dI||(dI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=D$(),n=EE();function r(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=e.toString(a);const o=[],l=a.length;if(l===0)return o;let c=0,f="",d="",p=!1;for(a.charCodeAt(0)===46&&(o.push(""),c++);c<l;){const m=a[c];d?m==="\\"&&c+1<l?(c++,f+=a[c]):m===d?d="":f+=m:p?m==='"'||m==="'"?d=m:m==="]"?(p=!1,o.push(f),f=""):f+=m:m==="["?(p=!0,f&&(o.push(f),f="")):m==="."?f&&(o.push(f),f=""):f+=m,c++}return f&&o.push(f),o}t.toPath=r})(wb)),wb}var pI;function SE(){return pI||(pI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=R$(),n=ij(),r=EE(),a=TE();function o(c,f,d){if(c==null)return d;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return d;const p=c[f];return p===void 0?n.isDeepKey(f)?o(c,a.toPath(f),d):d:p}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const p=c[f];return p===void 0?d:p}default:{if(Array.isArray(f))return l(c,f,d);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return d;const p=c[f];return p===void 0?d:p}}}function l(c,f,d){if(f.length===0)return d;let p=c;for(let m=0;m<f.length;m++){if(p==null||e.isUnsafeProperty(f[m]))return d;p=p[f[m]]}return p===void 0?d:p}t.get=o})(yb)),yb}var Tb,mI;function N$(){return mI||(mI=1,Tb=SE().get),Tb}var k$=N$();const hy=os(k$);var M$=4;function ao(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M$,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function Vt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((a,o,l)=>{var c=n[l-1];return typeof c=="string"?a+c+o:c!==void 0?a+ao(c)+o:a+o},"")}var ii=t=>t===0?0:t>0?1:-1,es=t=>typeof t=="number"&&t!=+t,Rl=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ae=t=>(typeof t=="number"||t instanceof Number)&&!es(t),va=t=>Ae(t)||typeof t=="string",j$=0,gh=t=>{var e=++j$;return"".concat(t||"").concat(e)},Ao=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ae(e)&&typeof e!="string")return r;var o;if(Rl(e)){if(n==null)return r;var l=e.indexOf("%");o=n*parseFloat(e.slice(0,l))/100}else o=+e;return es(o)&&(o=r),a&&n!=null&&o>n&&(o=n),o},aj=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function yr(t,e,n){return Ae(t)&&Ae(e)?ao(t+n*(e-t)):e}function sj(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):hy(r,e))===n)}var Fn=t=>t===null||typeof t>"u",Hh=t=>Fn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function br(t){return t!=null}function yc(){}var L$=["type","size","sizeType"];function O1(){return O1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O1.apply(null,arguments)}function gI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function yI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gI(Object(n),!0).forEach(function(r){V$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V$(t,e,n){return(e=U$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U$(t){var e=z$(t,"string");return typeof e=="symbol"?e:e+""}function z$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B$(t,e){if(t==null)return{};var n,r,a=q$(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function q$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var oj={symbolCircle:wE,symbolCross:r$,symbolDiamond:a$,symbolSquare:s$,symbolStar:c$,symbolTriangle:f$,symbolWye:d$},F$=Math.PI/180,H$=t=>{var e="symbol".concat(Hh(t));return oj[e]||wE},$$=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*F$;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},G$=(t,e)=>{oj["symbol".concat(Hh(t))]=e},lj=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,a=B$(t,L$),o=yI(yI({},a),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var c=()=>{var v=H$(l),_=p$().type(v).size($$(n,r,l)),w=_();if(w!==null)return w},{className:f,cx:d,cy:p}=o,m=rr(o);return Ae(d)&&Ae(p)&&Ae(n)?x.createElement("path",O1({},m,{className:_t("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(p,")"),d:c()})):null};lj.registerSymbol=G$;var uj=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,AE=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{vE(a)&&(r[a]=(o=>n[a](n,o)))}),r},K$=(t,e,n)=>r=>(t(e,n,r),null),W$=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(a=>{var o=t[a];vE(a)&&typeof o=="function"&&(r||(r={}),r[a]=K$(o,e,n))}),r};function vI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Y$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vI(Object(n),!0).forEach(function(r){X$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function X$(t,e,n){return(e=Q$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q$(t){var e=Z$(t,"string");return typeof e=="symbol"?e:e+""}function Z$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wr(t,e){var n=Y$({},t),r=e,a=Object.keys(e),o=a.reduce((l,c)=>(l[c]===void 0&&r[c]!==void 0&&(l[c]=r[c]),l),n);return o}var Sb={},Ab={},bI;function J$(){return bI||(bI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const a=new Map;for(let o=0;o<n.length;o++){const l=n[o],c=r(l,o,n);a.has(c)||a.set(c,l)}return Array.from(a.values())}t.uniqBy=e})(Ab)),Ab}var xb={},_I;function eG(){return _I||(_I=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return function(...a){return n.apply(this,a.slice(0,r))}}t.ary=e})(xb)),xb}var Ob={},wI;function cj(){return wI||(wI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Ob)),Ob}var Cb={},Ib={},Pb={},EI;function tG(){return EI||(EI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Pb)),Pb}var TI;function xE(){return TI||(TI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tG();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Ib)),Ib}var Rb={},SI;function nG(){return SI||(SI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Rb)),Rb}var AI;function rG(){return AI||(AI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xE(),n=nG();function r(a){return n.isObjectLike(a)&&e.isArrayLike(a)}t.isArrayLikeObject=r})(Cb)),Cb}var Db={},Nb={},xI;function iG(){return xI||(xI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SE();function n(r){return function(a){return e.get(a,r)}}t.property=n})(Nb)),Nb}var kb={},Mb={},jb={},Lb={},OI;function fj(){return OI||(OI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Lb)),Lb}var Vb={},CI;function hj(){return CI||(CI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Vb)),Vb}var Ub={},II;function dj(){return II||(II=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.isEqualsSameValueZero=e})(Ub)),Ub}var PI;function aG(){return PI||(PI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fj(),n=hj(),r=dj();function a(p,m,v){return typeof v!="function"?a(p,m,()=>{}):o(p,m,function _(w,T,S,P,k,R){const z=v(w,T,S,P,k,R);return z!==void 0?!!z:o(w,T,_,R)},new Map)}function o(p,m,v,_){if(m===p)return!0;switch(typeof m){case"object":return l(p,m,v,_);case"function":return Object.keys(m).length>0?o(p,{...m},v,_):r.isEqualsSameValueZero(p,m);default:return e.isObject(p)?typeof m=="string"?m==="":!0:r.isEqualsSameValueZero(p,m)}}function l(p,m,v,_){if(m==null)return!0;if(Array.isArray(m))return f(p,m,v,_);if(m instanceof Map)return c(p,m,v,_);if(m instanceof Set)return d(p,m,v,_);const w=Object.keys(m);if(p==null||n.isPrimitive(p))return w.length===0;if(w.length===0)return!0;if(_?.has(m))return _.get(m)===p;_?.set(m,p);try{for(let T=0;T<w.length;T++){const S=w[T];if(!n.isPrimitive(p)&&!(S in p)||m[S]===void 0&&p[S]!==void 0||m[S]===null&&p[S]!==null||!v(p[S],m[S],S,p,m,_))return!1}return!0}finally{_?.delete(m)}}function c(p,m,v,_){if(m.size===0)return!0;if(!(p instanceof Map))return!1;for(const[w,T]of m.entries()){const S=p.get(w);if(v(S,T,w,p,m,_)===!1)return!1}return!0}function f(p,m,v,_){if(m.length===0)return!0;if(!Array.isArray(p))return!1;const w=new Set;for(let T=0;T<m.length;T++){const S=m[T];let P=!1;for(let k=0;k<p.length;k++){if(w.has(k))continue;const R=p[k];let z=!1;if(v(R,S,T,p,m,_)&&(z=!0),z){w.add(k),P=!0;break}}if(!P)return!1}return!0}function d(p,m,v,_){return m.size===0?!0:p instanceof Set?f([...p],[...m],v,_):!1}t.isMatchWith=a,t.isSetMatch=d})(jb)),jb}var RI;function pj(){return RI||(RI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aG();function n(r,a){return e.isMatchWith(r,a,()=>{})}t.isMatch=n})(Mb)),Mb}var zb={},Bb={},qb={},DI;function sG(){return DI||(DI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(qb)),qb}var Fb={},NI;function OE(){return NI||(NI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Fb)),Fb}var Hb={},kI;function mj(){return kI||(kI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",o="[object Arguments]",l="[object Symbol]",c="[object Date]",f="[object Map]",d="[object Set]",p="[object Array]",m="[object Function]",v="[object ArrayBuffer]",_="[object Object]",w="[object Error]",T="[object DataView]",S="[object Uint8Array]",P="[object Uint8ClampedArray]",k="[object Uint16Array]",R="[object Uint32Array]",z="[object BigUint64Array]",H="[object Int8Array]",F="[object Int16Array]",C="[object Int32Array]",D="[object BigInt64Array]",L="[object Float32Array]",q="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=v,t.arrayTag=p,t.bigInt64ArrayTag=D,t.bigUint64ArrayTag=z,t.booleanTag=a,t.dataViewTag=T,t.dateTag=c,t.errorTag=w,t.float32ArrayTag=L,t.float64ArrayTag=q,t.functionTag=m,t.int16ArrayTag=F,t.int32ArrayTag=C,t.int8ArrayTag=H,t.mapTag=f,t.numberTag=r,t.objectTag=_,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=k,t.uint32ArrayTag=R,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=P})(Hb)),Hb}var $b={},MI;function oG(){return MI||(MI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})($b)),$b}var jI;function gj(){return jI||(jI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sG(),n=OE(),r=mj(),a=hj(),o=oG();function l(p,m){return c(p,void 0,p,new Map,m)}function c(p,m,v,_=new Map,w=void 0){const T=w?.(p,m,v,_);if(T!==void 0)return T;if(a.isPrimitive(p))return p;if(_.has(p))return _.get(p);if(Array.isArray(p)){const S=new Array(p.length);_.set(p,S);for(let P=0;P<p.length;P++)S[P]=c(p[P],P,v,_,w);return Object.hasOwn(p,"index")&&(S.index=p.index),Object.hasOwn(p,"input")&&(S.input=p.input),S}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const S=new RegExp(p.source,p.flags);return S.lastIndex=p.lastIndex,S}if(p instanceof Map){const S=new Map;_.set(p,S);for(const[P,k]of p)S.set(P,c(k,P,v,_,w));return S}if(p instanceof Set){const S=new Set;_.set(p,S);for(const P of p)S.add(c(P,void 0,v,_,w));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(o.isTypedArray(p)){const S=new(Object.getPrototypeOf(p)).constructor(p.length);_.set(p,S);for(let P=0;P<p.length;P++)S[P]=c(p[P],P,v,_,w);return S}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const S=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return _.set(p,S),f(S,p,v,_,w),S}if(typeof File<"u"&&p instanceof File){const S=new File([p],p.name,{type:p.type});return _.set(p,S),f(S,p,v,_,w),S}if(typeof Blob<"u"&&p instanceof Blob){const S=new Blob([p],{type:p.type});return _.set(p,S),f(S,p,v,_,w),S}if(p instanceof Error){const S=new p.constructor;return _.set(p,S),S.message=p.message,S.name=p.name,S.stack=p.stack,S.cause=p.cause,f(S,p,v,_,w),S}if(p instanceof Boolean){const S=new Boolean(p.valueOf());return _.set(p,S),f(S,p,v,_,w),S}if(p instanceof Number){const S=new Number(p.valueOf());return _.set(p,S),f(S,p,v,_,w),S}if(p instanceof String){const S=new String(p.valueOf());return _.set(p,S),f(S,p,v,_,w),S}if(typeof p=="object"&&d(p)){const S=Object.create(Object.getPrototypeOf(p));return _.set(p,S),f(S,p,v,_,w),S}return p}function f(p,m,v=p,_,w){const T=[...Object.keys(m),...e.getSymbols(m)];for(let S=0;S<T.length;S++){const P=T[S],k=Object.getOwnPropertyDescriptor(p,P);(k==null||k.writable)&&(p[P]=c(m[P],P,v,_,w))}}function d(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=c,t.copyProperties=f})(Bb)),Bb}var LI;function lG(){return LI||(LI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gj();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(zb)),zb}var VI;function uG(){return VI||(VI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pj(),n=lG();function r(a){return a=n.cloneDeep(a),o=>e.isMatch(o,a)}t.matches=r})(kb)),kb}var Gb={},Kb={},Wb={},UI;function cG(){return UI||(UI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gj(),n=OE(),r=mj();function a(o,l){return e.cloneDeepWith(o,(c,f,d,p)=>{const m=l?.(c,f,d,p);if(m!==void 0)return m;if(typeof o=="object"){if(n.getTag(o)===r.objectTag&&typeof o.constructor!="function"){const v={};return p.set(o,v),e.copyProperties(v,o,d,p),v}switch(Object.prototype.toString.call(o)){case r.numberTag:case r.stringTag:case r.booleanTag:{const v=new o.constructor(o?.valueOf());return e.copyProperties(v,o),v}case r.argumentsTag:{const v={};return e.copyProperties(v,o),v.length=o.length,v[Symbol.iterator]=o[Symbol.iterator],v}default:return}}})}t.cloneDeepWith=a})(Wb)),Wb}var zI;function fG(){return zI||(zI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cG();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Kb)),Kb}var Yb={},Xb={},BI;function yj(){return BI||(BI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Xb)),Xb}var Qb={},qI;function hG(){return qI||(qI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OE();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Qb)),Qb}var FI;function dG(){return FI||(FI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ij(),n=yj(),r=hG(),a=TE();function o(l,c){let f;if(Array.isArray(c)?f=c:typeof c=="string"&&e.isDeepKey(c)&&l?.[c]==null?f=a.toPath(c):f=[c],f.length===0)return!1;let d=l;for(let p=0;p<f.length;p++){const m=f[p];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}t.has=o})(Yb)),Yb}var HI;function pG(){return HI||(HI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pj(),n=EE(),r=fG(),a=SE(),o=dG();function l(c,f){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return f=r.cloneDeep(f),function(d){const p=a.get(d,c);return p===void 0?o.has(d,c):f===void 0?p===void 0:e.isMatch(p,f)}}t.matchesProperty=l})(Gb)),Gb}var $I;function mG(){return $I||($I=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cj(),n=iG(),r=uG(),a=pG();function o(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=o})(Db)),Db}var GI;function gG(){return GI||(GI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=J$(),n=eG(),r=cj(),a=rG(),o=mG();function l(c,f=r.identity){return a.isArrayLikeObject(c)?e.uniqBy(Array.from(c),n.ary(o.iteratee(f),1)):[]}t.uniqBy=l})(Sb)),Sb}var Zb,KI;function yG(){return KI||(KI=1,Zb=gG().uniqBy),Zb}var vG=yG();const WI=os(vG);function bG(t,e,n){return e===!0?WI(t,n):typeof e=="function"?WI(t,e):t}var Jb={exports:{}},e_={},t_={exports:{}},n_={};var YI;function _G(){if(YI)return n_;YI=1;var t=uc();function e(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,a=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function c(m,v){var _=v(),w=r({inst:{value:_,getSnapshot:v}}),T=w[0].inst,S=w[1];return o(function(){T.value=_,T.getSnapshot=v,f(T)&&S({inst:T})},[m,_,v]),a(function(){return f(T)&&S({inst:T}),m(function(){f(T)&&S({inst:T})})},[m]),l(_),_}function f(m){var v=m.getSnapshot;m=m.value;try{var _=v();return!n(m,_)}catch{return!0}}function d(m,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return n_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,n_}var XI;function wG(){return XI||(XI=1,t_.exports=_G()),t_.exports}var QI;function EG(){if(QI)return e_;QI=1;var t=uc(),e=wG();function n(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var r=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,o=t.useRef,l=t.useEffect,c=t.useMemo,f=t.useDebugValue;return e_.useSyncExternalStoreWithSelector=function(d,p,m,v,_){var w=o(null);if(w.current===null){var T={hasValue:!1,value:null};w.current=T}else T=w.current;w=c(function(){function P(F){if(!k){if(k=!0,R=F,F=v(F),_!==void 0&&T.hasValue){var C=T.value;if(_(C,F))return z=C}return z=F}if(C=z,r(R,F))return C;var D=v(F);return _!==void 0&&_(C,D)?(R=F,C):(R=F,z=D)}var k=!1,R,z,H=m===void 0?null:m;return[function(){return P(p())},H===null?void 0:function(){return P(H())}]},[p,m,v,_]);var S=a(d,w[0],w[1]);return l(function(){T.hasValue=!0,T.value=S},[S]),f(S),S},e_}var ZI;function TG(){return ZI||(ZI=1,Jb.exports=EG()),Jb.exports}var SG=TG(),CE=x.createContext(null),AG=t=>t,An=()=>{var t=x.useContext(CE);return t?t.store.dispatch:AG},ym=()=>{},xG=()=>ym,OG=(t,e)=>t===e;function Pe(t){var e=x.useContext(CE),n=x.useMemo(()=>e?r=>{if(r!=null)return t(r)}:ym,[e,t]);return SG.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:xG,e?e.store.getState:ym,e?e.store.getState:ym,n,OG)}function CG(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function IG(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function PG(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var JI=t=>Array.isArray(t)?t:[t];function RG(t){const e=Array.isArray(t[0])?t[0]:t;return PG(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function DG(t,e){const n=[],{length:r}=t;for(let a=0;a<r;a++)n.push(t[a].apply(null,e));return n}var NG=class{constructor(t){this.value=t}deref(){return this.value}},kG=typeof WeakRef<"u"?WeakRef:NG,MG=0,eP=1;function $p(){return{s:MG,v:void 0,o:null,p:null}}function vj(t,e={}){let n=$p();const{resultEqualityCheck:r}=e;let a,o=0;function l(){let c=n;const{length:f}=arguments;for(let m=0,v=f;m<v;m++){const _=arguments[m];if(typeof _=="function"||typeof _=="object"&&_!==null){let w=c.o;w===null&&(c.o=w=new WeakMap);const T=w.get(_);T===void 0?(c=$p(),w.set(_,c)):c=T}else{let w=c.p;w===null&&(c.p=w=new Map);const T=w.get(_);T===void 0?(c=$p(),w.set(_,c)):c=T}}const d=c;let p;if(c.s===eP)p=c.v;else if(p=t.apply(null,arguments),o++,r){const m=a?.deref?.()??a;m!=null&&r(m,p)&&(p=m,o!==0&&o--),a=typeof p=="object"&&p!==null||typeof p=="function"?new kG(p):p}return d.s=eP,d.v=p,p}return l.clearCache=()=>{n=$p(),l.resetResultsCount()},l.resultsCount=()=>o,l.resetResultsCount=()=>{o=0},l}function jG(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...a)=>{let o=0,l=0,c,f={},d=a.pop();typeof d=="object"&&(f=d,d=a.pop()),CG(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const p={...n,...f},{memoize:m,memoizeOptions:v=[],argsMemoize:_=vj,argsMemoizeOptions:w=[]}=p,T=JI(v),S=JI(w),P=RG(a),k=m(function(){return o++,d.apply(null,arguments)},...T),R=_(function(){l++;const H=DG(P,arguments);return c=k.apply(null,H),c},...S);return Object.assign(R,{resultFunc:d,memoizedResultFunc:k,dependencies:P,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:m,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var ae=jG(vj),LG=Object.assign((t,e=ae)=>{IG(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((l,c,f)=>(l[n[f]]=c,l),{}))},{withTypes:()=>LG}),r_={},i_={},a_={},tP;function VG(){return tP||(tP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,o)=>{if(r!==a){const l=e(r),c=e(a);if(l===c&&l===0){if(r<a)return o==="desc"?1:-1;if(r>a)return o==="desc"?-1:1}return o==="desc"?c-l:l-c}return 0};t.compareValues=n})(a_)),a_}var s_={},o_={},nP;function bj(){return nP||(nP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(o_)),o_}var rP;function UG(){return rP||(rP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bj(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(o,l){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||l!=null&&Object.hasOwn(l,o)}t.isKey=a})(s_)),s_}var iP;function zG(){return iP||(iP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VG(),n=UG(),r=TE();function a(o,l,c,f){if(o==null)return[];c=f?void 0:c,Array.isArray(o)||(o=Object.values(o)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(_=>String(_));const d=(_,w)=>{let T=_;for(let S=0;S<w.length&&T!=null;++S)T=T[w[S]];return T},p=(_,w)=>w==null||_==null?w:typeof _=="object"&&"key"in _?Object.hasOwn(w,_.key)?w[_.key]:d(w,_.path):typeof _=="function"?_(w):Array.isArray(_)?d(w,_):typeof w=="object"?w[_]:w,m=l.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return o.map(_=>({original:_,criteria:m.map(w=>p(w,_))})).slice().sort((_,w)=>{for(let T=0;T<m.length;T++){const S=e.compareValues(_.criteria[T],w.criteria[T],c[T]);if(S!==0)return S}return 0}).map(_=>_.original)}t.orderBy=a})(i_)),i_}var l_={},aP;function BG(){return aP||(aP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const a=[],o=Math.floor(r),l=(c,f)=>{for(let d=0;d<c.length;d++){const p=c[d];Array.isArray(p)&&f<o?l(p,f+1):a.push(p)}};return l(n,0),a}t.flatten=e})(l_)),l_}var u_={},sP;function _j(){return sP||(sP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yj(),n=xE(),r=fj(),a=dj();function o(l,c,f){return r.isObject(f)&&(typeof c=="number"&&n.isArrayLike(f)&&e.isIndex(c)&&c<f.length||typeof c=="string"&&c in f)?a.isEqualsSameValueZero(f[c],l):!1}t.isIterateeCall=o})(u_)),u_}var oP;function qG(){return oP||(oP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zG(),n=BG(),r=_j();function a(o,...l){const c=l.length;return c>1&&r.isIterateeCall(o,l[0],l[1])?l=[]:c>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(o,n.flatten(l),["asc"])}t.sortBy=a})(r_)),r_}var c_,lP;function FG(){return lP||(lP=1,c_=qG().sortBy),c_}var HG=FG();const dy=os(HG);var wj=t=>t.legend.settings,$G=t=>t.legend.size,GG=t=>t.legend.payload;ae([GG,wj],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?dy(r,n):r});var Gp=1;function KG(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=x.useState({height:0,left:0,top:0,width:0}),r=x.useCallback(a=>{if(a!=null){var o=a.getBoundingClientRect(),l={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(l.height-e.height)>Gp||Math.abs(l.left-e.left)>Gp||Math.abs(l.top-e.top)>Gp||Math.abs(l.width-e.width)>Gp)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Mn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var WG=typeof Symbol=="function"&&Symbol.observable||"@@observable",uP=WG,f_=()=>Math.random().toString(36).substring(7).split("").join("."),YG={INIT:`@@redux/INIT${f_()}`,REPLACE:`@@redux/REPLACE${f_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${f_()}`},Wm=YG;function IE(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Ej(t,e,n){if(typeof t!="function")throw new Error(Mn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Mn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Mn(1));return n(Ej)(t,e)}let r=t,a=e,o=new Map,l=o,c=0,f=!1;function d(){l===o&&(l=new Map,o.forEach((S,P)=>{l.set(P,S)}))}function p(){if(f)throw new Error(Mn(3));return a}function m(S){if(typeof S!="function")throw new Error(Mn(4));if(f)throw new Error(Mn(5));let P=!0;d();const k=c++;return l.set(k,S),function(){if(P){if(f)throw new Error(Mn(6));P=!1,d(),l.delete(k),o=null}}}function v(S){if(!IE(S))throw new Error(Mn(7));if(typeof S.type>"u")throw new Error(Mn(8));if(typeof S.type!="string")throw new Error(Mn(17));if(f)throw new Error(Mn(9));try{f=!0,a=r(a,S)}finally{f=!1}return(o=l).forEach(k=>{k()}),S}function _(S){if(typeof S!="function")throw new Error(Mn(10));r=S,v({type:Wm.REPLACE})}function w(){const S=m;return{subscribe(P){if(typeof P!="object"||P===null)throw new Error(Mn(11));function k(){const z=P;z.next&&z.next(p())}return k(),{unsubscribe:S(k)}},[uP](){return this}}}return v({type:Wm.INIT}),{dispatch:v,subscribe:m,getState:p,replaceReducer:_,[uP]:w}}function XG(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Wm.INIT})>"u")throw new Error(Mn(12));if(typeof n(void 0,{type:Wm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Mn(13))})}function Tj(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const l=e[o];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let a;try{XG(n)}catch(o){a=o}return function(l={},c){if(a)throw a;let f=!1;const d={};for(let p=0;p<r.length;p++){const m=r[p],v=n[m],_=l[m],w=v(_,c);if(typeof w>"u")throw c&&c.type,new Error(Mn(14));d[m]=w,f=f||w!==_}return f=f||r.length!==Object.keys(l).length,f?d:l}}function Ym(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function QG(...t){return e=>(n,r)=>{const a=e(n,r);let o=()=>{throw new Error(Mn(15))};const l={getState:a.getState,dispatch:(f,...d)=>o(f,...d)},c=t.map(f=>f(l));return o=Ym(...c)(a.dispatch),{...a,dispatch:o}}}function Sj(t){return IE(t)&&"type"in t&&typeof t.type=="string"}var Aj=Symbol.for("immer-nothing"),cP=Symbol.for("immer-draftable"),ir=Symbol.for("immer-state");function Ti(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Lr=Object,ic=Lr.getPrototypeOf,Xm="constructor",py="prototype",C1="configurable",Qm="enumerable",vm="writable",yh="value",ts=t=>!!t&&!!t[ir];function Di(t){return t?xj(t)||gy(t)||!!t[cP]||!!t[Xm]?.[cP]||yy(t)||vy(t):!1}var ZG=Lr[py][Xm].toString(),fP=new WeakMap;function xj(t){if(!t||!PE(t))return!1;const e=ic(t);if(e===null||e===Lr[py])return!0;const n=Lr.hasOwnProperty.call(e,Xm)&&e[Xm];if(n===Object)return!0;if(!Uu(n))return!1;let r=fP.get(n);return r===void 0&&(r=Function.toString.call(n),fP.set(n,r)),r===ZG}function my(t,e,n=!0){$h(t)===0?(n?Reflect.ownKeys(t):Lr.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((r,a)=>e(a,r,t))}function $h(t){const e=t[ir];return e?e.type_:gy(t)?1:yy(t)?2:vy(t)?3:0}var hP=(t,e,n=$h(t))=>n===2?t.has(e):Lr[py].hasOwnProperty.call(t,e),I1=(t,e,n=$h(t))=>n===2?t.get(e):t[e],Zm=(t,e,n,r=$h(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function JG(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var gy=Array.isArray,yy=t=>t instanceof Map,vy=t=>t instanceof Set,PE=t=>typeof t=="object",Uu=t=>typeof t=="function",h_=t=>typeof t=="boolean";function eK(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var Ba=t=>t.copy_||t.base_,RE=t=>t.modified_?t.copy_:t.base_;function P1(t,e){if(yy(t))return new Map(t);if(vy(t))return new Set(t);if(gy(t))return Array[py].slice.call(t);const n=xj(t);if(e===!0||e==="class_only"&&!n){const r=Lr.getOwnPropertyDescriptors(t);delete r[ir];let a=Reflect.ownKeys(r);for(let o=0;o<a.length;o++){const l=a[o],c=r[l];c[vm]===!1&&(c[vm]=!0,c[C1]=!0),(c.get||c.set)&&(r[l]={[C1]:!0,[vm]:!0,[Qm]:c[Qm],[yh]:t[l]})}return Lr.create(ic(t),r)}else{const r=ic(t);if(r!==null&&n)return{...t};const a=Lr.create(r);return Lr.assign(a,t)}}function DE(t,e=!1){return by(t)||ts(t)||!Di(t)||($h(t)>1&&Lr.defineProperties(t,{set:Kp,add:Kp,clear:Kp,delete:Kp}),Lr.freeze(t),e&&my(t,(n,r)=>{DE(r,!0)},!1)),t}function tK(){Ti(2)}var Kp={[yh]:tK};function by(t){return t===null||!PE(t)?!0:Lr.isFrozen(t)}var Jm="MapSet",R1="Patches",dP="ArrayMethods",Oj={};function Dl(t){const e=Oj[t];return e||Ti(0,t),e}var pP=t=>!!Oj[t],vh,Cj=()=>vh,nK=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:pP(Jm)?Dl(Jm):void 0,arrayMethodsPlugin_:pP(dP)?Dl(dP):void 0});function mP(t,e){e&&(t.patchPlugin_=Dl(R1),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function D1(t){N1(t),t.drafts_.forEach(rK),t.drafts_=null}function N1(t){t===vh&&(vh=t.parent_)}var gP=t=>vh=nK(vh,t);function rK(t){const e=t[ir];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function yP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[ir].modified_&&(D1(e),Ti(4)),Di(t)&&(t=vP(e,t));const{patchPlugin_:a}=e;a&&a.generateReplacementPatches_(n[ir].base_,t,e)}else t=vP(e,n);return iK(e,t,!0),D1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Aj?t:void 0}function vP(t,e){if(by(e))return e;const n=e[ir];if(!n)return eg(e,t.handledSet_,t);if(!_y(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);Rj(n,t)}return n.copy_}function iK(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&DE(e,n)}function Ij(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var _y=(t,e)=>t.scope_===e,aK=[];function Pj(t,e,n,r){const a=Ba(t),o=t.type_;if(r!==void 0&&I1(a,r,o)===e){Zm(a,r,n,o);return}if(!t.draftLocations_){const c=t.draftLocations_=new Map;my(a,(f,d)=>{if(ts(d)){const p=c.get(d)||[];p.push(f),c.set(d,p)}})}const l=t.draftLocations_.get(e)??aK;for(const c of l)Zm(a,c,n,o)}function sK(t,e,n){t.callbacks_.push(function(a){const o=e;if(!o||!_y(o,a))return;a.mapSetPlugin_?.fixSetContents(o);const l=RE(o);Pj(t,o.draft_??o,l,n),Rj(o,a)})}function Rj(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const a=r.getPath(t);a&&r.generatePatches_(t,a,e)}Ij(t)}}function oK(t,e,n){const{scope_:r}=t;if(ts(n)){const a=n[ir];_y(a,r)&&a.callbacks_.push(function(){bm(t);const l=RE(a);Pj(t,n,l,e)})}else Di(n)&&t.callbacks_.push(function(){const o=Ba(t);t.type_===3?o.has(n)&&eg(n,r.handledSet_,r):I1(o,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&eg(I1(t.copy_,e,t.type_),r.handledSet_,r)})}function eg(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||ts(t)||e.has(t)||!Di(t)||by(t)||(e.add(t),my(t,(r,a)=>{if(ts(a)){const o=a[ir];if(_y(o,n)){const l=RE(o);Zm(t,r,l,t.type_),Ij(o)}}else Di(a)&&eg(a,e,n)})),t}function lK(t,e){const n=gy(t),r={type_:n?1:0,scope_:e?e.scope_:Cj(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=r,o=tg;n&&(a=[r],o=bh);const{revoke:l,proxy:c}=Proxy.revocable(a,o);return r.draft_=c,r.revoke_=l,[c,r]}var tg={get(t,e){if(e===ir)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const a=Ba(t);if(!hP(a,e,t.type_))return uK(t,a,e);const o=a[e];if(t.finalized_||!Di(o)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&eK(e))return o;if(o===d_(t.base_,e)){bm(t);const l=t.type_===1?+e:e,c=M1(t.scope_,o,t,l);return t.copy_[l]=c}return o},has(t,e){return e in Ba(t)},ownKeys(t){return Reflect.ownKeys(Ba(t))},set(t,e,n){const r=Dj(Ba(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=d_(Ba(t),e),o=a?.[ir];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(JG(n,a)&&(n!==void 0||hP(t.base_,e,t.type_)))return!0;bm(t),k1(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),oK(t,e,n)),!0},deleteProperty(t,e){return bm(t),d_(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),k1(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ba(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[vm]:!0,[C1]:t.type_!==1||e!=="length",[Qm]:r[Qm],[yh]:n[e]}},defineProperty(){Ti(11)},getPrototypeOf(t){return ic(t.base_)},setPrototypeOf(){Ti(12)}},bh={};for(let t in tg){let e=tg[t];bh[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}bh.deleteProperty=function(t,e){return bh.set.call(this,t,e,void 0)};bh.set=function(t,e,n){return tg.set.call(this,t[0],e,n,t[0])};function d_(t,e){const n=t[ir];return(n?Ba(n):t)[e]}function uK(t,e,n){const r=Dj(e,n);return r?yh in r?r[yh]:r.get?.call(t.draft_):void 0}function Dj(t,e){if(!(e in t))return;let n=ic(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=ic(n)}}function k1(t){t.modified_||(t.modified_=!0,t.parent_&&k1(t.parent_))}function bm(t){t.copy_||(t.assigned_=new Map,t.copy_=P1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var cK=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,a)=>{if(Uu(n)&&!Uu(r)){const l=r;r=n;const c=this;return function(d=l,...p){return c.produce(d,m=>r.call(this,m,...p))}}Uu(r)||Ti(6),a!==void 0&&!Uu(a)&&Ti(7);let o;if(Di(n)){const l=gP(this),c=M1(l,n,void 0);let f=!0;try{o=r(c),f=!1}finally{f?D1(l):N1(l)}return mP(l,a),yP(o,l)}else if(!n||!PE(n)){if(o=r(n),o===void 0&&(o=n),o===Aj&&(o=void 0),this.autoFreeze_&&DE(o,!0),a){const l=[],c=[];Dl(R1).generateReplacementPatches_(n,o,{patches_:l,inversePatches_:c}),a(l,c)}return o}else Ti(1,n)},this.produceWithPatches=(n,r)=>{if(Uu(n))return(c,...f)=>this.produceWithPatches(c,d=>n(d,...f));let a,o;return[this.produce(n,r,(c,f)=>{a=c,o=f}),a,o]},h_(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),h_(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),h_(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Di(e)||Ti(8),ts(e)&&(e=Pi(e));const n=gP(this),r=M1(n,e,void 0);return r[ir].isManual_=!0,N1(n),r}finishDraft(e,n){const r=e&&e[ir];(!r||!r.isManual_)&&Ti(9);const{scope_:a}=r;return mP(a,n),yP(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}r>-1&&(n=n.slice(r+1));const a=Dl(R1).applyPatches_;return ts(e)?a(e,n):this.produce(e,o=>a(o,n))}};function M1(t,e,n,r){const[a,o]=yy(e)?Dl(Jm).proxyMap_(e,n):vy(e)?Dl(Jm).proxySet_(e,n):lK(e,n);return(n?.scope_??Cj()).drafts_.push(a),o.callbacks_=n?.callbacks_??[],o.key_=r,n&&r!==void 0?sK(n,o,r):o.callbacks_.push(function(f){f.mapSetPlugin_?.fixSetContents(o);const{patchPlugin_:d}=f;o.modified_&&d&&d.generatePatches_(o,[],f)}),a}function Pi(t){return ts(t)||Ti(10,t),Nj(t)}function Nj(t){if(!Di(t)||by(t))return t;const e=t[ir];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=P1(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=P1(t,!0);return my(n,(a,o)=>{Zm(n,a,Nj(o))},r),e&&(e.finalized_=!1),n}var fK=new cK,kj=fK.produce;function Mj(t){return({dispatch:n,getState:r})=>a=>o=>typeof o=="function"?o(n,r,t):a(o)}var hK=Mj(),dK=Mj,pK=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ym:Ym.apply(null,arguments)};function oi(t,e){function n(...r){if(e){let a=e(...r);if(!a)throw new Error(Vr(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>Sj(r)&&r.type===t,n}var jj=class Kf extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Kf.prototype)}static get[Symbol.species](){return Kf}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Kf(...e[0].concat(this)):new Kf(...e.concat(this))}};function bP(t){return Di(t)?kj(t,()=>{}):t}function Wp(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function mK(t){return typeof t=="boolean"}var gK=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:o=!0}=e??{};let l=new jj;return n&&(mK(n)?l.push(hK):l.push(dK(n.extraArgument))),l},Lj="RTK_autoBatch",Pt=()=>t=>({payload:t,meta:{[Lj]:!0}}),_P=t=>e=>{setTimeout(e,t)},Vj=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let a=!0,o=!1,l=!1;const c=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:_P(10):t.type==="callback"?t.queueNotification:_P(t.timeout),d=()=>{l=!1,o&&(o=!1,c.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const m=()=>a&&p(),v=r.subscribe(m);return c.add(p),()=>{v(),c.delete(p)}},dispatch(p){try{return a=!p?.meta?.[Lj],o=!a,o&&(l||(l=!0,f(d))),r.dispatch(p)}finally{a=!0}}})},yK=t=>function(n){const{autoBatch:r=!0}=n??{};let a=new jj(t);return r&&a.push(Vj(typeof r=="object"?r:void 0)),a};function vK(t){const e=gK(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:o=void 0,enhancers:l=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(IE(n))c=Tj(n);else throw new Error(Vr(1));let f;typeof r=="function"?f=r(e):f=e();let d=Ym;a&&(d=pK({trace:!1,...typeof a=="object"&&a}));const p=QG(...f),m=yK(p);let v=typeof l=="function"?l(m):m();const _=d(...v);return Ej(c,o,_)}function Uj(t){const e={},n=[];let r;const a={addCase(o,l){const c=typeof o=="string"?o:o.type;if(!c)throw new Error(Vr(28));if(c in e)throw new Error(Vr(29));return e[c]=l,a},addAsyncThunk(o,l){return l.pending&&(e[o.pending.type]=l.pending),l.rejected&&(e[o.rejected.type]=l.rejected),l.fulfilled&&(e[o.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:o.settled,reducer:l.settled}),a},addMatcher(o,l){return n.push({matcher:o,reducer:l}),a},addDefaultCase(o){return r=o,a}};return t(a),[e,n,r]}function bK(t){return typeof t=="function"}function _K(t,e){let[n,r,a]=Uj(e),o;if(bK(t))o=()=>bP(t());else{const c=bP(t);o=()=>c}function l(c=o(),f){let d=[n[f.type],...r.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return d.filter(p=>!!p).length===0&&(d=[a]),d.reduce((p,m)=>{if(m)if(ts(p)){const _=m(p,f);return _===void 0?p:_}else{if(Di(p))return kj(p,v=>m(v,f));{const v=m(p,f);if(v===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return p},c)}return l.getInitialState=o,l}var wK="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",EK=(t=21)=>{let e="",n=t;for(;n--;)e+=wK[Math.random()*64|0];return e},TK=Symbol.for("rtk-slice-createasyncthunk");function SK(t,e){return`${t}/${e}`}function AK({creators:t}={}){const e=t?.asyncThunk?.[TK];return function(r){const{name:a,reducerPath:o=a}=r;if(!a)throw new Error(Vr(11));const l=(typeof r.reducers=="function"?r.reducers(OK()):r.reducers)||{},c=Object.keys(l),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(R,z){const H=typeof R=="string"?R:R.type;if(!H)throw new Error(Vr(12));if(H in f.sliceCaseReducersByType)throw new Error(Vr(13));return f.sliceCaseReducersByType[H]=z,d},addMatcher(R,z){return f.sliceMatchers.push({matcher:R,reducer:z}),d},exposeAction(R,z){return f.actionCreators[R]=z,d},exposeCaseReducer(R,z){return f.sliceCaseReducersByName[R]=z,d}};c.forEach(R=>{const z=l[R],H={reducerName:R,type:SK(a,R),createNotation:typeof r.reducers=="function"};IK(z)?RK(H,z,d,e):CK(H,z,d)});function p(){const[R={},z=[],H=void 0]=typeof r.extraReducers=="function"?Uj(r.extraReducers):[r.extraReducers],F={...R,...f.sliceCaseReducersByType};return _K(r.initialState,C=>{for(let D in F)C.addCase(D,F[D]);for(let D of f.sliceMatchers)C.addMatcher(D.matcher,D.reducer);for(let D of z)C.addMatcher(D.matcher,D.reducer);H&&C.addDefaultCase(H)})}const m=R=>R,v=new Map,_=new WeakMap;let w;function T(R,z){return w||(w=p()),w(R,z)}function S(){return w||(w=p()),w.getInitialState()}function P(R,z=!1){function H(C){let D=C[R];return typeof D>"u"&&z&&(D=Wp(_,H,S)),D}function F(C=m){const D=Wp(v,z,()=>new WeakMap);return Wp(D,C,()=>{const L={};for(const[q,U]of Object.entries(r.selectors??{}))L[q]=xK(U,C,()=>Wp(_,C,S),z);return L})}return{reducerPath:R,getSelectors:F,get selectors(){return F(H)},selectSlice:H}}const k={name:a,reducer:T,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:S,...P(o),injectInto(R,{reducerPath:z,...H}={}){const F=z??o;return R.inject({reducerPath:F,reducer:T},H),{...k,...P(F,!0)}}};return k}}function xK(t,e,n,r){function a(o,...l){let c=e(o);return typeof c>"u"&&r&&(c=n()),t(c,...l)}return a.unwrapped=t,a}var Er=AK();function OK(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function CK({type:t,reducerName:e,createNotation:n},r,a){let o,l;if("reducer"in r){if(n&&!PK(r))throw new Error(Vr(17));o=r.reducer,l=r.prepare}else o=r;a.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,l?oi(t,l):oi(t))}function IK(t){return t._reducerDefinitionType==="asyncThunk"}function PK(t){return t._reducerDefinitionType==="reducerWithPrepare"}function RK({type:t,reducerName:e},n,r,a){if(!a)throw new Error(Vr(18));const{payloadCreator:o,fulfilled:l,pending:c,rejected:f,settled:d,options:p}=n,m=a(t,o,p);r.exposeAction(e,m),l&&r.addCase(m.fulfilled,l),c&&r.addCase(m.pending,c),f&&r.addCase(m.rejected,f),d&&r.addMatcher(m.settled,d),r.exposeCaseReducer(e,{fulfilled:l||Yp,pending:c||Yp,rejected:f||Yp,settled:d||Yp})}function Yp(){}var DK="task",zj="listener",Bj="completed",NE="cancelled",NK=`task-${NE}`,kK=`task-${Bj}`,j1=`${zj}-${NE}`,MK=`${zj}-${Bj}`,wy=class{constructor(t){this.code=t,this.message=`${DK} ${NE} (reason: ${t})`}name="TaskAbortError";message},kE=(t,e)=>{if(typeof t!="function")throw new TypeError(Vr(32))},ng=()=>{},qj=(t,e=ng)=>(t.catch(e),t),Fj=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),wl=t=>{if(t.aborted)throw new wy(t.reason)};function Hj(t,e){let n=ng;return new Promise((r,a)=>{const o=()=>a(new wy(t.reason));if(t.aborted){o();return}n=Fj(t,o),e.finally(()=>n()).then(r,a)}).finally(()=>{n=ng})}var jK=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof wy?"cancelled":"rejected",error:n}}finally{e?.()}},rg=t=>e=>qj(Hj(t,e).then(n=>(wl(t),n))),$j=t=>{const e=rg(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Yu}=Object,wP={},Ey="listenerMiddleware",LK=(t,e)=>{const n=r=>Fj(t,()=>r.abort(t.reason));return(r,a)=>{kE(r);const o=new AbortController;n(o);const l=jK(async()=>{wl(t),wl(o.signal);const c=await r({pause:rg(o.signal),delay:$j(o.signal),signal:o.signal});return wl(o.signal),c},()=>o.abort(kK));return a?.autoJoin&&e.push(l.catch(ng)),{result:rg(t)(l),cancel(){o.abort(NK)}}}},VK=(t,e)=>{const n=async(r,a)=>{wl(e);let o=()=>{};const c=[new Promise((f,d)=>{let p=t({predicate:r,effect:(m,v)=>{v.unsubscribe(),f([m,v.getState(),v.getOriginalState()])}});o=()=>{p(),d()}})];a!=null&&c.push(new Promise(f=>setTimeout(f,a,null)));try{const f=await Hj(e,Promise.race(c));return wl(e),f}finally{o()}};return(r,a)=>qj(n(r,a))},Gj=t=>{let{type:e,actionCreator:n,matcher:r,predicate:a,effect:o}=t;if(e)a=oi(e).match;else if(n)e=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(Vr(21));return kE(o),{predicate:a,type:e,effect:o}},Kj=Yu(t=>{const{type:e,predicate:n,effect:r}=Gj(t);return{id:EK(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Vr(22))}}},{withTypes:()=>Kj}),EP=(t,e)=>{const{type:n,effect:r,predicate:a}=Gj(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===a)&&o.effect===r)},L1=t=>{t.pending.forEach(e=>{e.abort(j1)})},UK=(t,e)=>()=>{for(const n of e.keys())L1(n);t.clear()},TP=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},Wj=Yu(oi(`${Ey}/add`),{withTypes:()=>Wj}),zK=oi(`${Ey}/removeAll`),Yj=Yu(oi(`${Ey}/remove`),{withTypes:()=>Yj}),BK=(...t)=>{console.error(`${Ey}/error`,...t)},Gh=(t={})=>{const e=new Map,n=new Map,r=_=>{const w=n.get(_)??0;n.set(_,w+1)},a=_=>{const w=n.get(_)??1;w===1?n.delete(_):n.set(_,w-1)},{extra:o,onError:l=BK}=t;kE(l);const c=_=>(_.unsubscribe=()=>e.delete(_.id),e.set(_.id,_),w=>{_.unsubscribe(),w?.cancelActive&&L1(_)}),f=_=>{const w=EP(e,_)??Kj(_);return c(w)};Yu(f,{withTypes:()=>f});const d=_=>{const w=EP(e,_);return w&&(w.unsubscribe(),_.cancelActive&&L1(w)),!!w};Yu(d,{withTypes:()=>d});const p=async(_,w,T,S)=>{const P=new AbortController,k=VK(f,P.signal),R=[];try{_.pending.add(P),r(_),await Promise.resolve(_.effect(w,Yu({},T,{getOriginalState:S,condition:(z,H)=>k(z,H).then(Boolean),take:k,delay:$j(P.signal),pause:rg(P.signal),extra:o,signal:P.signal,fork:LK(P.signal,R),unsubscribe:_.unsubscribe,subscribe:()=>{e.set(_.id,_)},cancelActiveListeners:()=>{_.pending.forEach((z,H,F)=>{z!==P&&(z.abort(j1),F.delete(z))})},cancel:()=>{P.abort(j1),_.pending.delete(P)},throwIfCancelled:()=>{wl(P.signal)}})))}catch(z){z instanceof wy||TP(l,z,{raisedBy:"effect"})}finally{await Promise.all(R),P.abort(MK),a(_),_.pending.delete(P)}},m=UK(e,n);return{middleware:_=>w=>T=>{if(!Sj(T))return w(T);if(Wj.match(T))return f(T.payload);if(zK.match(T)){m();return}if(Yj.match(T))return d(T.payload);let S=_.getState();const P=()=>{if(S===wP)throw new Error(Vr(23));return S};let k;try{if(k=w(T),e.size>0){const R=_.getState(),z=Array.from(e.values());for(const H of z){let F=!1;try{F=H.predicate(T,R,S)}catch(C){F=!1,TP(l,C,{raisedBy:"predicate"})}F&&p(H,T,_,P)}}}finally{S=wP}return k},startListening:f,stopListening:d,clearListeners:m}};function Vr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var qK={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Xj=Er({name:"chartLayout",initialState:qK,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,a,o;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(a=e.payload.bottom)!==null&&a!==void 0?a:0,t.margin.left=(o=e.payload.left)!==null&&o!==void 0?o:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:FK,setLayout:HK,setChartSize:$K,setScale:GK}=Xj.actions,KK=Xj.reducer;function Qj(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function rt(t){return Number.isFinite(t)}function ba(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function SP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function zu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(n),!0).forEach(function(r){WK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WK(t,e,n){return(e=YK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YK(t){var e=XK(t,"string");return typeof e=="symbol"?e:e+""}function XK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bn(t,e,n){return Fn(t)||Fn(e)?n:va(e)?hy(t,e,n):typeof e=="function"?e(t):n}var QK=(t,e,n)=>{if(e&&n){var{width:r,height:a}=n,{align:o,verticalAlign:l,layout:c}=e;if((c==="vertical"||c==="horizontal"&&l==="middle")&&o!=="center"&&Ae(t[o]))return zu(zu({},t),{},{[o]:t[o]+(r||0)});if((c==="horizontal"||c==="vertical"&&o==="center")&&l!=="middle"&&Ae(t[l]))return zu(zu({},t),{},{[l]:t[l]+(a||0)})}return t},ls=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",Zj=(t,e,n,r)=>{if(r)return t.map(c=>c.coordinate);var a,o,l=t.map(c=>(c.coordinate===e&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate));return a||l.push(e),o||l.push(n),l},Jj=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:a,range:o,scale:l,realScaleType:c,isCategorical:f,categoricalDomain:d,tickCount:p,ticks:m,niceTicks:v,axisType:_}=t;if(!l)return null;var w=c==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,T=a==="category"&&l.bandwidth?l.bandwidth()/w:0;if(T=_==="angleAxis"&&o&&o.length>=2?ii(o[0]-o[1])*2*T:T,m||v){var S=(m||v||[]).map((P,k)=>{var R=r?r.indexOf(P):P,z=l.map(R);return rt(z)?{coordinate:z+T,value:P,offset:T,index:k}:null}).filter(br);return S}return f&&d?d.map((P,k)=>{var R=l.map(P);return rt(R)?{coordinate:R+T,value:P,index:k,offset:T}:null}).filter(br):l.ticks&&p!=null?l.ticks(p).map((P,k)=>{var R=l.map(P);return rt(R)?{coordinate:R+T,value:P,index:k,offset:T}:null}).filter(br):l.domain().map((P,k)=>{var R=l.map(P);return rt(R)?{coordinate:R+T,value:r?r[P]:P,index:k,offset:T}:null}).filter(br)},ZK=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var o=0,l=0,c=0;c<n;++c){var f=t[c],d=f?.[a];if(d!=null){var p=d[1],m=d[0],v=es(p)?m:p;v>=0?(d[0]=o,o+=v,d[1]=o):(d[0]=l,l+=v,d[1]=l)}}}},JK=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var o=0,l=0;l<n;++l){var c=t[l],f=c?.[a];if(f!=null){var d=es(f[1])?f[0]:f[1];d>=0?(f[0]=o,o+=d,f[1]=o):(f[0]=0,f[1]=0)}}}},eW={sign:ZK,expand:C$,none:Pl,silhouette:I$,wiggle:P$,positive:JK},tW=(t,e,n)=>{var r,a=(r=eW[n])!==null&&r!==void 0?r:Pl,o=O$().keys(e).value((c,f)=>Number(Bn(c,f,0))).order(x1).offset(a),l=o(t);return l.forEach((c,f)=>{c.forEach((d,p)=>{var m=Bn(t[p],e[f],0);Array.isArray(m)&&m.length===2&&Ae(m[0])&&Ae(m[1])&&(d[0]=m[0],d[1]=m[1])})}),l};function AP(t){var{axis:e,ticks:n,bandSize:r,entry:a,index:o,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Fn(a[e.dataKey])){var c=sj(n,"value",a[e.dataKey]);if(c)return c.coordinate+r/2}return n!=null&&n[o]?n[o].coordinate+r/2:null}var f=Bn(a,Fn(l)?e.dataKey:l),d=e.scale.map(f);return Ae(d)?d:null}var nW=t=>{var e=t.flat(2).filter(Ae);return[Math.min(...e),Math.max(...e)]},rW=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],iW=(t,e,n)=>{if(t!=null)return rW(Object.keys(t).reduce((r,a)=>{var o=t[a];if(!o)return r;var{stackedData:l}=o,c=l.reduce((f,d)=>{var p=Qj(d,e,n),m=nW(p);return!rt(m[0])||!rt(m[1])?f:[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},xP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,OP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ig=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var a=dy(e,p=>p.coordinate),o=1/0,l=1,c=a.length;l<c;l++){var f=a[l],d=a[l-1];o=Math.min((f?.coordinate||0)-(d?.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function CP(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:a,name:o}=t;return zu(zu({},e),{},{dataKey:n,payload:r,value:a,name:o})}function eL(t,e){if(t)return String(t);if(typeof e=="string")return e}var aW=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},sW=(t,e)=>e==="centric"?t.angle:t.radius,us=t=>t.layout.width,cs=t=>t.layout.height,oW=t=>t.layout.scale,tL=t=>t.layout.margin,Ty=ae(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Sy=ae(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),lW="data-recharts-item-index",uW="data-recharts-item-id",Kh=60;function IP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Xp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IP(Object(n),!0).forEach(function(r){cW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cW(t,e,n){return(e=fW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fW(t){var e=hW(t,"string");return typeof e=="symbol"?e:e+""}function hW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dW=t=>t.brush.height;function pW(t){var e=Sy(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:Kh;return n+a}return n},0)}function mW(t){var e=Sy(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:Kh;return n+a}return n},0)}function gW(t){var e=Ty(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function yW(t){var e=Ty(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Hn=ae([us,cs,tL,dW,pW,mW,gW,yW,wj,$G],(t,e,n,r,a,o,l,c,f,d)=>{var p={left:(n.left||0)+a,right:(n.right||0)+o},m={top:(n.top||0)+l,bottom:(n.bottom||0)+c},v=Xp(Xp({},m),p),_=v.bottom;v.bottom+=r,v=QK(v,f,d);var w=t-v.left-v.right,T=e-v.top-v.bottom;return Xp(Xp({brushBottom:_},v),{},{width:Math.max(w,0),height:Math.max(T,0)})}),vW=ae(Hn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),nL=ae(us,cs,(t,e)=>({x:0,y:0,width:t,height:e})),bW=x.createContext(null),Tr=()=>x.useContext(bW)!=null,Ay=t=>t.brush,xy=ae([Ay,Hn,tL],(t,e,n)=>({height:t.height,x:Ae(t.x)?t.x:e.left,y:Ae(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Ae(t.width)?t.width:e.width})),p_={},m_={},g_={},PP;function _W(){return PP||(PP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:a,edges:o}={}){let l,c=null;const f=o!=null&&o.includes("leading"),d=o==null||o.includes("trailing"),p=()=>{c!==null&&(n.apply(l,c),l=void 0,c=null)},m=()=>{d&&p(),T()};let v=null;const _=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,m()},r)},w=()=>{v!==null&&(clearTimeout(v),v=null)},T=()=>{w(),l=void 0,c=null},S=()=>{p()},P=function(...k){if(a?.aborted)return;l=this,c=k;const R=v==null;_(),f&&R&&p()};return P.schedule=_,P.cancel=T,P.flush=S,a?.addEventListener("abort",T,{once:!0}),P}t.debounce=e})(g_)),g_}var RP;function wW(){return RP||(RP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_W();function n(r,a=0,o={}){typeof o!="object"&&(o={});const{leading:l=!1,trailing:c=!0,maxWait:f}=o,d=Array(2);l&&(d[0]="leading"),c&&(d[1]="trailing");let p,m=null;const v=e.debounce(function(...T){p=r.apply(this,T),m=null},a,{edges:d}),_=function(...T){return f!=null&&(m===null&&(m=Date.now()),Date.now()-m>=f)?(p=r.apply(this,T),m=Date.now(),v.cancel(),v.schedule(),p):(v.apply(this,T),p)},w=()=>(v.flush(),p);return _.cancel=v.cancel,_.flush=w,_}t.debounce=n})(m_)),m_}var DP;function EW(){return DP||(DP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wW();function n(r,a=0,o={}){const{leading:l=!0,trailing:c=!0}=o;return e.debounce(r,a,{leading:l,maxWait:a,trailing:c})}t.throttle=n})(p_)),p_}var y_,NP;function TW(){return NP||(NP=1,y_=EW().throttle),y_}var SW=TW();const AW=os(SW);var ag=function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>a[l++]))}},oa={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},rL=(t,e,n)=>{var{width:r=oa.width,height:a=oa.height,aspect:o,maxHeight:l}=n,c=Rl(r)?t:Number(r),f=Rl(a)?e:Number(a);return o&&o>0&&(c?f=c/o:f&&(c=f*o),l&&f!=null&&f>l&&(f=l)),{calculatedWidth:c,calculatedHeight:f}},xW={width:0,height:0,overflow:"visible"},OW={width:0,overflowX:"visible"},CW={height:0,overflowY:"visible"},IW={},PW=t=>{var{width:e,height:n}=t,r=Rl(e),a=Rl(n);return r&&a?xW:r?OW:a?CW:IW};function RW(t){var{width:e,height:n,aspect:r}=t,a=e,o=n;return a===void 0&&o===void 0?(a=oa.width,o=oa.height):a===void 0?a=r&&r>0?void 0:oa.width:o===void 0&&(o=r&&r>0?void 0:oa.height),{width:a,height:o}}function V1(){return V1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V1.apply(null,arguments)}function kP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function MP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kP(Object(n),!0).forEach(function(r){DW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DW(t,e,n){return(e=NW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NW(t){var e=kW(t,"string");return typeof e=="symbol"?e:e+""}function kW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iL=x.createContext(oa.initialDimension);function MW(t){return ba(t.width)&&ba(t.height)}function aL(t){var{children:e,width:n,height:r}=t,a=x.useMemo(()=>({width:n,height:r}),[n,r]);return MW(a)?x.createElement(iL.Provider,{value:a},e):null}var ME=()=>x.useContext(iL),jW=x.forwardRef((t,e)=>{var{aspect:n,initialDimension:r=oa.initialDimension,width:a,height:o,minWidth:l=oa.minWidth,minHeight:c,maxHeight:f,children:d,debounce:p=oa.debounce,id:m,className:v,onResize:_,style:w={}}=t,T=x.useRef(null),S=x.useRef();S.current=_,x.useImperativeHandle(e,()=>T.current);var[P,k]=x.useState({containerWidth:r.width,containerHeight:r.height}),R=x.useCallback((D,L)=>{k(q=>{var U=Math.round(D),M=Math.round(L);return q.containerWidth===U&&q.containerHeight===M?q:{containerWidth:U,containerHeight:M}})},[]);x.useEffect(()=>{if(T.current==null||typeof ResizeObserver>"u")return yc;var D=M=>{var V,ge=M[0];if(ge!=null){var{width:ve,height:Y}=ge.contentRect;R(ve,Y),(V=S.current)===null||V===void 0||V.call(S,ve,Y)}};p>0&&(D=AW(D,p,{trailing:!0,leading:!1}));var L=new ResizeObserver(D),{width:q,height:U}=T.current.getBoundingClientRect();return R(q,U),L.observe(T.current),()=>{L.disconnect()}},[R,p]);var{containerWidth:z,containerHeight:H}=P;ag(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:F,calculatedHeight:C}=rL(z,H,{width:a,height:o,aspect:n,maxHeight:f});return ag(F!=null&&F>0||C!=null&&C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,C,a,o,l,c,n),x.createElement("div",{id:m?"".concat(m):void 0,className:_t("recharts-responsive-container",v),style:MP(MP({},w),{},{width:a,height:o,minWidth:l,minHeight:c,maxHeight:f}),ref:T},x.createElement("div",{style:PW({width:a,height:o})},x.createElement(aL,{width:F,height:C},d)))}),LW=x.forwardRef((t,e)=>{var n=ME();if(ba(n.width)&&ba(n.height))return t.children;var{width:r,height:a}=RW({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:o,calculatedHeight:l}=rL(void 0,void 0,{width:r,height:a,aspect:t.aspect,maxHeight:t.maxHeight});return Ae(o)&&Ae(l)?x.createElement(aL,{width:o,height:l},t.children):x.createElement(jW,V1({},t,{width:r,height:a,ref:e}))});function jE(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Oy=()=>{var t,e=Tr(),n=Pe(vW),r=Pe(xy),a=(t=Pe(Ay))===null||t===void 0?void 0:t.padding;return!e||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},VW={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},sL=()=>{var t;return(t=Pe(Hn))!==null&&t!==void 0?t:VW},oL=()=>Pe(us),lL=()=>Pe(cs),Nt=t=>t.layout.layoutType,vc=()=>Pe(Nt),uL=()=>{var t=vc();if(t==="horizontal"||t==="vertical")return t},cL=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},UW=()=>{var t=vc();return t!==void 0},Wh=t=>{var e=An(),n=Tr(),{width:r,height:a}=t,o=ME(),l=r,c=a;return o&&(l=o.width>0?o.width:r,c=o.height>0?o.height:a),x.useEffect(()=>{!n&&ba(l)&&ba(c)&&e($K({width:l,height:c}))},[e,n,l,c]),null},fL=Symbol.for("immer-nothing"),jP=Symbol.for("immer-draftable"),Ur=Symbol.for("immer-state");function Si(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var _h=Object.getPrototypeOf;function ac(t){return!!t&&!!t[Ur]}function Nl(t){return t?hL(t)||Array.isArray(t)||!!t[jP]||!!t.constructor?.[jP]||Yh(t)||Iy(t):!1}var zW=Object.prototype.constructor.toString(),LP=new WeakMap;function hL(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=LP.get(n);return r===void 0&&(r=Function.toString.call(n),LP.set(n,r)),r===zW}function sg(t,e,n=!0){Cy(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((r,a)=>e(a,r,t))}function Cy(t){const e=t[Ur];return e?e.type_:Array.isArray(t)?1:Yh(t)?2:Iy(t)?3:0}function U1(t,e){return Cy(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function dL(t,e,n){const r=Cy(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function BW(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Yh(t){return t instanceof Map}function Iy(t){return t instanceof Set}function cl(t){return t.copy_||t.base_}function z1(t,e){if(Yh(t))return new Map(t);if(Iy(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=hL(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Ur];let a=Reflect.ownKeys(r);for(let o=0;o<a.length;o++){const l=a[o],c=r[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[l]})}return Object.create(_h(t),r)}else{const r=_h(t);if(r!==null&&n)return{...t};const a=Object.create(r);return Object.assign(a,t)}}function LE(t,e=!1){return Py(t)||ac(t)||!Nl(t)||(Cy(t)>1&&Object.defineProperties(t,{set:Qp,add:Qp,clear:Qp,delete:Qp}),Object.freeze(t),e&&Object.values(t).forEach(n=>LE(n,!0))),t}function qW(){Si(2)}var Qp={value:qW};function Py(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var FW={};function kl(t){const e=FW[t];return e||Si(0,t),e}var wh;function pL(){return wh}function HW(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function VP(t,e){e&&(kl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function B1(t){q1(t),t.drafts_.forEach($W),t.drafts_=null}function q1(t){t===wh&&(wh=t.parent_)}function UP(t){return wh=HW(wh,t)}function $W(t){const e=t[Ur];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function zP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Ur].modified_&&(B1(e),Si(4)),Nl(t)&&(t=og(e,t),e.parent_||lg(e,t)),e.patches_&&kl("Patches").generateReplacementPatches_(n[Ur].base_,t,e.patches_,e.inversePatches_)):t=og(e,n,[]),B1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==fL?t:void 0}function og(t,e,n){if(Py(e))return e;const r=t.immer_.shouldUseStrictIteration(),a=e[Ur];if(!a)return sg(e,(o,l)=>BP(t,a,e,o,l,n),r),e;if(a.scope_!==t)return e;if(!a.modified_)return lg(t,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const o=a.copy_;let l=o,c=!1;a.type_===3&&(l=new Set(o),o.clear(),c=!0),sg(l,(f,d)=>BP(t,a,o,f,d,n,c),r),lg(t,o,!1),n&&t.patches_&&kl("Patches").generatePatches_(a,n,t.patches_,t.inversePatches_)}return a.copy_}function BP(t,e,n,r,a,o,l){if(a==null||typeof a!="object"&&!l)return;const c=Py(a);if(!(c&&!l)){if(ac(a)){const f=o&&e&&e.type_!==3&&!U1(e.assigned_,r)?o.concat(r):void 0,d=og(t,a,f);if(dL(n,r,d),ac(d))t.canAutoFreeze_=!1;else return}else l&&n.add(a);if(Nl(a)&&!c){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===a&&c)return;og(t,a),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Yh(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&lg(t,a)}}}function lg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&LE(e,n)}function GW(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:pL(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,o=VE;n&&(a=[r],o=Eh);const{revoke:l,proxy:c}=Proxy.revocable(a,o);return r.draft_=c,r.revoke_=l,c}var VE={get(t,e){if(e===Ur)return t;const n=cl(t);if(!U1(n,e))return KW(t,n,e);const r=n[e];return t.finalized_||!Nl(r)?r:r===v_(t.base_,e)?(b_(t),t.copy_[e]=H1(r,t)):r},has(t,e){return e in cl(t)},ownKeys(t){return Reflect.ownKeys(cl(t))},set(t,e,n){const r=mL(cl(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=v_(cl(t),e),o=a?.[Ur];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(BW(n,a)&&(n!==void 0||U1(t.base_,e)))return!0;b_(t),F1(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return v_(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,b_(t),F1(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=cl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Si(11)},getPrototypeOf(t){return _h(t.base_)},setPrototypeOf(){Si(12)}},Eh={};sg(VE,(t,e)=>{Eh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Eh.deleteProperty=function(t,e){return Eh.set.call(this,t,e,void 0)};Eh.set=function(t,e,n){return VE.set.call(this,t[0],e,n,t[0])};function v_(t,e){const n=t[Ur];return(n?cl(n):t)[e]}function KW(t,e,n){const r=mL(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function mL(t,e){if(!(e in t))return;let n=_h(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=_h(n)}}function F1(t){t.modified_||(t.modified_=!0,t.parent_&&F1(t.parent_))}function b_(t){t.copy_||(t.copy_=z1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var WW=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const l=this;return function(f=o,...d){return l.produce(f,p=>n.call(this,p,...d))}}typeof n!="function"&&Si(6),r!==void 0&&typeof r!="function"&&Si(7);let a;if(Nl(e)){const o=UP(this),l=H1(e,void 0);let c=!0;try{a=n(l),c=!1}finally{c?B1(o):q1(o)}return VP(o,r),zP(a,o)}else if(!e||typeof e!="object"){if(a=n(e),a===void 0&&(a=e),a===fL&&(a=void 0),this.autoFreeze_&&LE(a,!0),r){const o=[],l=[];kl("Patches").generateReplacementPatches_(e,a,o,l),r(o,l)}return a}else Si(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...c)=>this.produceWithPatches(l,f=>e(f,...c));let r,a;return[this.produce(e,n,(l,c)=>{r=l,a=c}),r,a]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Nl(t)||Si(8),ac(t)&&(t=YW(t));const e=UP(this),n=H1(t,void 0);return n[Ur].isManual_=!0,q1(e),n}finishDraft(t,e){const n=t&&t[Ur];(!n||!n.isManual_)&&Si(9);const{scope_:r}=n;return VP(r,e),zP(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const a=e[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(e=e.slice(n+1));const r=kl("Patches").applyPatches_;return ac(t)?r(t,e):this.produce(t,a=>r(a,e))}};function H1(t,e){const n=Yh(t)?kl("MapSet").proxyMap_(t,e):Iy(t)?kl("MapSet").proxySet_(t,e):GW(t,e);return(e?e.scope_:pL()).drafts_.push(n),n}function YW(t){return ac(t)||Si(10,t),gL(t)}function gL(t){if(!Nl(t)||Py(t))return t;const e=t[Ur];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=z1(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=z1(t,!0);return sg(n,(a,o)=>{dL(n,a,gL(o))},r),e&&(e.finalized_=!1),n}var XW=new WW;XW.produce;var QW={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},yL=Er({name:"legend",initialState:QW,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Pt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,a=Pi(t).payload.indexOf(n);a>-1&&(t.payload[a]=r)},prepare:Pt()},removeLegendPayload:{reducer(t,e){var n=Pi(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Pt()}}}),{setLegendSize:Nue,setLegendSettings:kue,addLegendPayload:ZW,replaceLegendPayload:JW,removeLegendPayload:eY}=yL.actions,tY=yL.reducer;function $1(){return $1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$1.apply(null,arguments)}function qP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function kf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(n),!0).forEach(function(r){nY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nY(t,e,n){return(e=rY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rY(t){var e=iY(t,"string");return typeof e=="symbol"?e:e+""}function iY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aY(t){return Array.isArray(t)&&va(t[0])&&va(t[1])?t.join(" ~ "):t}var Ru={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},sY=t=>{var{separator:e=Ru.separator,contentStyle:n,itemStyle:r,labelStyle:a=Ru.labelStyle,payload:o,formatter:l,itemSorter:c,wrapperClassName:f,labelClassName:d,label:p,labelFormatter:m,accessibilityLayer:v=Ru.accessibilityLayer}=t,_=()=>{if(o&&o.length){var H={padding:0,margin:0},F=(c?dy(o,c):o).map((C,D)=>{if(C.type==="none")return null;var L=C.formatter||l||aY,{value:q,name:U}=C,M=q,V=U;if(L){var ge=L(q,U,C,D,o);if(Array.isArray(ge))[M,V]=ge;else if(ge!=null)M=ge;else return null}var ve=kf(kf({},Ru.itemStyle),{},{color:C.color||Ru.itemStyle.color},r);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:ve},va(V)?x.createElement("span",{className:"recharts-tooltip-item-name"},V):null,va(V)?x.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,x.createElement("span",{className:"recharts-tooltip-item-value"},M),x.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:H},F)}return null},w=kf(kf({},Ru.contentStyle),n),T=kf({margin:0},a),S=!Fn(p),P=S?p:"",k=_t("recharts-default-tooltip",f),R=_t("recharts-tooltip-label",d);S&&m&&o!==void 0&&o!==null&&(P=m(p,o));var z=v?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",$1({className:k,style:w},z),x.createElement("p",{className:R,style:T},x.isValidElement(P)?P:"".concat(P)),_())},Mf="recharts-tooltip-wrapper",oY={visibility:"hidden"};function lY(t){var{coordinate:e,translateX:n,translateY:r}=t;return _t(Mf,{["".concat(Mf,"-right")]:Ae(n)&&e&&Ae(e.x)&&n>=e.x,["".concat(Mf,"-left")]:Ae(n)&&e&&Ae(e.x)&&n<e.x,["".concat(Mf,"-bottom")]:Ae(r)&&e&&Ae(e.y)&&r>=e.y,["".concat(Mf,"-top")]:Ae(r)&&e&&Ae(e.y)&&r<e.y})}function FP(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offset:a,position:o,reverseDirection:l,tooltipDimension:c,viewBox:f,viewBoxDimension:d}=t;if(o&&Ae(o[r]))return o[r];var p=n[r]-c-(a>0?a:0),m=n[r]+a;if(e[r])return l[r]?p:m;var v=f[r];if(v==null)return 0;if(l[r]){var _=p,w=v;return _<w?Math.max(m,v):Math.max(p,v)}if(d==null)return 0;var T=m+c,S=v+d;return T>S?Math.max(p,v):Math.max(m,v)}function uY(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function cY(t){var{allowEscapeViewBox:e,coordinate:n,offsetTop:r,offsetLeft:a,position:o,reverseDirection:l,tooltipBox:c,useTranslate3d:f,viewBox:d}=t,p,m,v;return c.height>0&&c.width>0&&n?(m=FP({allowEscapeViewBox:e,coordinate:n,key:"x",offset:a,position:o,reverseDirection:l,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),v=FP({allowEscapeViewBox:e,coordinate:n,key:"y",offset:r,position:o,reverseDirection:l,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),p=uY({translateX:m,translateY:v,useTranslate3d:f})):p=oY,{cssProperties:p,cssClasses:lY({translateX:m,translateY:v,coordinate:n})}}function HP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Zp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HP(Object(n),!0).forEach(function(r){G1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G1(t,e,n){return(e=fY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fY(t){var e=hY(t,"string");return typeof e=="symbol"?e:e+""}function hY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class dY extends x.PureComponent{constructor(){super(...arguments),G1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),G1(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,a,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:o,coordinate:l,hasPayload:c,isAnimationActive:f,offset:d,position:p,reverseDirection:m,useTranslate3d:v,viewBox:_,wrapperStyle:w,lastBoundingBox:T,innerRef:S,hasPortalFromProps:P}=this.props,k=typeof d=="number"?d:d.x,R=typeof d=="number"?d:d.y,{cssClasses:z,cssProperties:H}=cY({allowEscapeViewBox:n,coordinate:l,offsetLeft:k,offsetTop:R,position:p,reverseDirection:m,tooltipBox:{height:T.height,width:T.width},useTranslate3d:v,viewBox:_}),F=P?{}:Zp(Zp({transition:f&&e?"transform ".concat(r,"ms ").concat(a):void 0},H),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),C=Zp(Zp({},F),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},w);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:z,style:C,ref:S},o)}}var vL=()=>{var t;return(t=Pe(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function K1(){return K1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K1.apply(null,arguments)}function $P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function GP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$P(Object(n),!0).forEach(function(r){pY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pY(t,e,n){return(e=mY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mY(t){var e=gY(t,"string");return typeof e=="symbol"?e:e+""}function gY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KP={curveBasisClosed:g$,curveBasisOpen:y$,curveBasis:m$,curveBumpX:t$,curveBumpY:n$,curveLinearClosed:v$,curveLinear:cy,curveMonotoneX:b$,curveMonotoneY:_$,curveNatural:w$,curveStep:E$,curveStepAfter:S$,curveStepBefore:T$},ug=t=>rt(t.x)&&rt(t.y),WP=t=>t.base!=null&&ug(t.base)&&ug(t),jf=t=>t.x,Lf=t=>t.y,yY=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Hh(t));if((n==="curveMonotone"||n==="curveBump")&&e){var r=KP["".concat(n).concat(e==="vertical"?"Y":"X")];if(r)return r}return KP[n]||cy},YP={connectNulls:!1,type:"linear"},vY=t=>{var{type:e=YP.type,points:n=[],baseLine:r,layout:a,connectNulls:o=YP.connectNulls}=t,l=yY(e,a),c=o?n.filter(ug):n;if(Array.isArray(r)){var f,d=n.map((w,T)=>GP(GP({},w),{},{base:r[T]}));a==="vertical"?f=Hp().y(Lf).x1(jf).x0(w=>w.base.x):f=Hp().x(jf).y1(Lf).y0(w=>w.base.y);var p=f.defined(WP).curve(l),m=o?d.filter(WP):d;return p(m)}var v;a==="vertical"&&Ae(r)?v=Hp().y(Lf).x1(jf).x0(r):Ae(r)?v=Hp().x(jf).y1(Lf).y0(r):v=KM().x(jf).y(Lf);var _=v.defined(ug).curve(l);return _(c)},bL=t=>{var{className:e,points:n,path:r,pathRef:a}=t,o=vc();if((!n||!n.length)&&!r)return null;var l={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||o,connectNulls:t.connectNulls},c=n&&n.length?vY(l):r;return x.createElement("path",K1({},ya(t),AE(t),{className:_t("recharts-curve",e),d:c===null?void 0:c,ref:a}))},bY=["x","y","top","left","width","height","className"];function W1(){return W1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W1.apply(null,arguments)}function XP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function _Y(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XP(Object(n),!0).forEach(function(r){wY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wY(t,e,n){return(e=EY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EY(t){var e=TY(t,"string");return typeof e=="symbol"?e:e+""}function TY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SY(t,e){if(t==null)return{};var n,r,a=AY(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function AY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var xY=(t,e,n,r,a,o)=>"M".concat(t,",").concat(a,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),OY=t=>{var{x:e=0,y:n=0,top:r=0,left:a=0,width:o=0,height:l=0,className:c}=t,f=SY(t,bY),d=_Y({x:e,y:n,top:r,left:a,width:o,height:l},f);return!Ae(e)||!Ae(n)||!Ae(o)||!Ae(l)||!Ae(r)||!Ae(a)?null:x.createElement("path",W1({},rr(d),{className:_t("recharts-cross",c),d:xY(e,n,o,l,r,a)}))};function CY(t,e,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-a,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function QP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ZP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(n),!0).forEach(function(r){IY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IY(t,e,n){return(e=PY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PY(t){var e=RY(t,"string");return typeof e=="symbol"?e:e+""}function RY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DY=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),_L=(t,e,n)=>t.map(r=>"".concat(DY(r)," ").concat(e,"ms ").concat(n)).join(","),NY=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(a=>r.includes(a))),Th=(t,e)=>Object.keys(e).reduce((n,r)=>ZP(ZP({},n),{},{[r]:t(r,e[r])}),{});function JP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JP(Object(n),!0).forEach(function(r){kY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kY(t,e,n){return(e=MY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MY(t){var e=jY(t,"string");return typeof e=="symbol"?e:e+""}function jY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cg=(t,e,n)=>t+(e-t)*n,Y1=t=>{var{from:e,to:n}=t;return e!==n},wL=(t,e,n)=>{var r=Th((a,o)=>{if(Y1(o)){var[l,c]=t(o.from,o.to,o.velocity);return pn(pn({},o),{},{from:l,velocity:c})}return o},e);return n<1?Th((a,o)=>Y1(o)&&r[a]!=null?pn(pn({},o),{},{velocity:cg(o.velocity,r[a].velocity,n),from:cg(o.from,r[a].from,n)}):o,e):wL(t,r,n-1)};function LY(t,e,n,r,a,o){var l,c=r.reduce((v,_)=>pn(pn({},v),{},{[_]:{from:t[_],velocity:0,to:e[_]}}),{}),f=()=>Th((v,_)=>_.from,c),d=()=>!Object.values(c).filter(Y1).length,p=null,m=v=>{l||(l=v);var _=v-l,w=_/n.dt;c=wL(n,c,w),a(pn(pn(pn({},t),e),f())),l=v,d()||(p=o.setTimeout(m))};return()=>(p=o.setTimeout(m),()=>{var v;(v=p)===null||v===void 0||v()})}function VY(t,e,n,r,a,o,l){var c=null,f=a.reduce((m,v)=>{var _=t[v],w=e[v];return _==null||w==null?m:pn(pn({},m),{},{[v]:[_,w]})},{}),d,p=m=>{d||(d=m);var v=(m-d)/r,_=Th((T,S)=>cg(...S,n(v)),f);if(o(pn(pn(pn({},t),e),_)),v<1)c=l.setTimeout(p);else{var w=Th((T,S)=>cg(...S,n(1)),f);o(pn(pn(pn({},t),e),w))}};return()=>(c=l.setTimeout(p),()=>{var m;(m=c)===null||m===void 0||m()})}const UY=(t,e,n,r,a,o)=>{var l=NY(t,e);return n==null?()=>(a(pn(pn({},t),e)),()=>{}):n.isStepper===!0?LY(t,e,n,l,a,o):VY(t,e,n,r,l,a,o)};var fg=1e-4,EL=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],TL=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),eR=(t,e)=>n=>{var r=EL(t,e);return TL(r,n)},zY=(t,e)=>n=>{var r=EL(t,e),a=[...r.map((o,l)=>o*l).slice(1),0];return TL(a,n)},BY=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var a=r.map(o=>parseFloat(o));return[a[0],a[1],a[2],a[3]]},qY=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=BY(n[0]);if(a)return a}}return n.length===4?n:[0,0,1,1]},FY=(t,e,n,r)=>{var a=eR(t,n),o=eR(e,r),l=zY(t,n),c=d=>d>1?1:d<0?0:d,f=d=>{for(var p=d>1?1:d,m=p,v=0;v<8;++v){var _=a(m)-p,w=l(m);if(Math.abs(_-p)<fg||w<fg)return o(m);m=c(m-_/w)}return o(m)};return f.isStepper=!1,f},tR=function(){return FY(...qY(...arguments))},HY=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=e,o=(l,c,f)=>{var d=-(l-c)*n,p=f*r,m=f+(d-p)*a/1e3,v=f*a/1e3+l;return Math.abs(v-c)<fg&&Math.abs(m)<fg?[c,0]:[v,m]};return o.isStepper=!0,o.dt=a,o},$Y=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return tR(t);case"spring":return HY();default:if(t.split("(")[0]==="cubic-bezier")return tR(t)}return typeof t=="function"?t:null};function GY(t){var e,n=()=>null,r=!1,a=null,o=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var c=l,[f,...d]=c;if(typeof f=="number"){a=t.setTimeout(o.bind(null,d),f);return}o(f),a=t.setTimeout(o.bind(null,d));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,a&&(a(),a=null),o(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class KY{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,o=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(o))};return a=requestAnimationFrame(o),()=>{a!=null&&cancelAnimationFrame(a)}}}function WY(){return GY(new KY)}var YY=x.createContext(WY);function XY(t,e){var n=x.useContext(YY);return x.useMemo(()=>e??n(t),[t,e,n])}var QY=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ry={isSsr:QY()},ZY={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},nR={t:0},__={t:1};function UE(t){var e=wr(t,ZY),{isActive:n,canBegin:r,duration:a,easing:o,begin:l,onAnimationEnd:c,onAnimationStart:f,children:d}=e,p=n==="auto"?!Ry.isSsr:n,m=XY(e.animationId,e.animationManager),[v,_]=x.useState(p?nR:__),w=x.useRef(null);return x.useEffect(()=>{p||_(__)},[p]),x.useEffect(()=>{if(!p||!r)return yc;var T=UY(nR,__,$Y(o),a,_,m.getTimeoutController()),S=()=>{w.current=T()};return m.start([f,l,S,a,c]),()=>{m.stop(),w.current&&w.current(),c()}},[p,r,a,o,l,f,c,m]),d(v.t)}function zE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=x.useRef(gh(e)),r=x.useRef(t);return r.current!==t&&(n.current=gh(e),r.current=t),n.current}var JY=["radius"],eX=["radius"],rR,iR,aR,sR,oR,lR,uR,cR,fR,hR;function dR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function pR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dR(Object(n),!0).forEach(function(r){tX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tX(t,e,n){return(e=nX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nX(t){var e=rX(t,"string");return typeof e=="symbol"?e:e+""}function rX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hg(){return hg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hg.apply(null,arguments)}function mR(t,e){if(t==null)return{};var n,r,a=iX(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function iX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ta(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var gR=(t,e,n,r,a)=>{var o=ao(n),l=ao(r),c=Math.min(Math.abs(o)/2,Math.abs(l)/2),f=l>=0?1:-1,d=o>=0?1:-1,p=l>=0&&o>=0||l<0&&o<0?1:0,m;if(c>0&&Array.isArray(a)){for(var v=[0,0,0,0],_=0,w=4;_<w;_++){var T,S=(T=a[_])!==null&&T!==void 0?T:0;v[_]=S>c?c:S}m=Vt(rR||(rR=ta(["M",",",""])),t,e+f*v[0]),v[0]>0&&(m+=Vt(iR||(iR=ta(["A ",",",",0,0,",",",",",""])),v[0],v[0],p,t+d*v[0],e)),m+=Vt(aR||(aR=ta(["L ",",",""])),t+n-d*v[1],e),v[1]>0&&(m+=Vt(sR||(sR=ta(["A ",",",",0,0,",`,
        `,",",""])),v[1],v[1],p,t+n,e+f*v[1])),m+=Vt(oR||(oR=ta(["L ",",",""])),t+n,e+r-f*v[2]),v[2]>0&&(m+=Vt(lR||(lR=ta(["A ",",",",0,0,",`,
        `,",",""])),v[2],v[2],p,t+n-d*v[2],e+r)),m+=Vt(uR||(uR=ta(["L ",",",""])),t+d*v[3],e+r),v[3]>0&&(m+=Vt(cR||(cR=ta(["A ",",",",0,0,",`,
        `,",",""])),v[3],v[3],p,t,e+r-f*v[3])),m+="Z"}else if(c>0&&a===+a&&a>0){var P=Math.min(c,a);m=Vt(fR||(fR=ta(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+f*P,P,P,p,t+d*P,e,t+n-d*P,e,P,P,p,t+n,e+f*P,t+n,e+r-f*P,P,P,p,t+n-d*P,e+r,t+d*P,e+r,P,P,p,t,e+r-f*P)}else m=Vt(hR||(hR=ta(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return m},yR={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},SL=t=>{var e=wr(t,yR),n=x.useRef(null),[r,a]=x.useState(-1);x.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var oe=n.current.getTotalLength();oe&&a(oe)}catch{}},[]);var{x:o,y:l,width:c,height:f,radius:d,className:p}=e,{animationEasing:m,animationDuration:v,animationBegin:_,isAnimationActive:w,isUpdateAnimationActive:T}=e,S=x.useRef(c),P=x.useRef(f),k=x.useRef(o),R=x.useRef(l),z=x.useMemo(()=>({x:o,y:l,width:c,height:f,radius:d}),[o,l,c,f,d]),H=zE(z,"rectangle-");if(o!==+o||l!==+l||c!==+c||f!==+f||c===0||f===0)return null;var F=_t("recharts-rectangle",p);if(!T){var C=rr(e),{radius:D}=C,L=mR(C,JY);return x.createElement("path",hg({},L,{x:ao(o),y:ao(l),width:ao(c),height:ao(f),radius:typeof d=="number"?d:void 0,className:F,d:gR(o,l,c,f,d)}))}var q=S.current,U=P.current,M=k.current,V=R.current,ge="0px ".concat(r===-1?1:r,"px"),ve="".concat(r,"px 0px"),Y=_L(["strokeDasharray"],v,typeof m=="string"?m:yR.animationEasing);return x.createElement(UE,{animationId:H,key:H,canBegin:r>0,duration:v,easing:m,isActive:T,begin:_},oe=>{var ne=yr(q,c,oe),Z=yr(U,f,oe),W=yr(M,o,oe),B=yr(V,l,oe);n.current&&(S.current=ne,P.current=Z,k.current=W,R.current=B);var J;w?oe>0?J={transition:Y,strokeDasharray:ve}:J={strokeDasharray:ge}:J={strokeDasharray:ve};var fe=rr(e),{radius:pe}=fe,xe=mR(fe,eX);return x.createElement("path",hg({},xe,{radius:typeof d=="number"?d:void 0,className:F,d:gR(W,B,ne,Z,d),ref:n,style:pR(pR({},J),e.style)}))})};function vR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function bR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vR(Object(n),!0).forEach(function(r){aX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aX(t,e,n){return(e=sX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sX(t){var e=oX(t,"string");return typeof e=="symbol"?e:e+""}function oX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dg=Math.PI/180,lX=t=>t*180/Math.PI,zn=(t,e,n,r)=>({x:t+Math.cos(-dg*r)*n,y:e+Math.sin(-dg*r)*n}),uX=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},cX=(t,e)=>{var{x:n,y:r}=t,{x:a,y:o}=e;return Math.sqrt((n-a)**2+(r-o)**2)},fX=(t,e)=>{var{x:n,y:r}=t,{cx:a,cy:o}=e,l=cX({x:n,y:r},{x:a,y:o});if(l<=0)return{radius:l,angle:0};var c=(n-a)/l,f=Math.acos(c);return r>o&&(f=2*Math.PI-f),{radius:l,angle:lX(f),angleInRadian:f}},hX=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),a=Math.floor(n/360),o=Math.min(r,a);return{startAngle:e-o*360,endAngle:n-o*360}},dX=(t,e)=>{var{startAngle:n,endAngle:r}=e,a=Math.floor(n/360),o=Math.floor(r/360),l=Math.min(a,o);return t+l*360},pX=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:a,angle:o}=fX({x:n,y:r},e),{innerRadius:l,outerRadius:c}=e;if(a<l||a>c||a===0)return null;var{startAngle:f,endAngle:d}=hX(e),p=o,m;if(f<=d){for(;p>d;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=d}else{for(;p>f;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=f}return m?bR(bR({},e),{},{radius:a,angle:dX(p,e)}):null};function AL(t){var{cx:e,cy:n,radius:r,startAngle:a,endAngle:o}=t,l=zn(e,n,r,a),c=zn(e,n,r,o);return{points:[l,c],cx:e,cy:n,radius:r,startAngle:a,endAngle:o}}var _R,wR,ER,TR,SR,AR,xR;function X1(){return X1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X1.apply(null,arguments)}function pl(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var mX=(t,e)=>{var n=ii(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Jp=t=>{var{cx:e,cy:n,radius:r,angle:a,sign:o,isExternal:l,cornerRadius:c,cornerIsExternal:f}=t,d=c*(l?1:-1)+r,p=Math.asin(c/d)/dg,m=f?a:a+o*p,v=zn(e,n,d,m),_=zn(e,n,r,m),w=f?a-o*p:a,T=zn(e,n,d*Math.cos(p*dg),w);return{center:v,circleTangency:_,lineTangency:T,theta:p}},xL=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:o,endAngle:l}=t,c=mX(o,l),f=o+c,d=zn(e,n,a,o),p=zn(e,n,a,f),m=Vt(_R||(_R=pl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),d.x,d.y,a,a,+(Math.abs(c)>180),+(o>f),p.x,p.y);if(r>0){var v=zn(e,n,r,o),_=zn(e,n,r,f);m+=Vt(wR||(wR=pl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),_.x,_.y,r,r,+(Math.abs(c)>180),+(o<=f),v.x,v.y)}else m+=Vt(ER||(ER=pl(["L ",","," Z"])),e,n);return m},gX=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:d}=t,p=ii(d-f),{circleTangency:m,lineTangency:v,theta:_}=Jp({cx:e,cy:n,radius:a,angle:f,sign:p,cornerRadius:o,cornerIsExternal:c}),{circleTangency:w,lineTangency:T,theta:S}=Jp({cx:e,cy:n,radius:a,angle:d,sign:-p,cornerRadius:o,cornerIsExternal:c}),P=c?Math.abs(f-d):Math.abs(f-d)-_-S;if(P<0)return l?Vt(TR||(TR=pl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),v.x,v.y,o,o,o*2,o,o,-o*2):xL({cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:f,endAngle:d});var k=Vt(SR||(SR=pl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),v.x,v.y,o,o,+(p<0),m.x,m.y,a,a,+(P>180),+(p<0),w.x,w.y,o,o,+(p<0),T.x,T.y);if(r>0){var{circleTangency:R,lineTangency:z,theta:H}=Jp({cx:e,cy:n,radius:r,angle:f,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),{circleTangency:F,lineTangency:C,theta:D}=Jp({cx:e,cy:n,radius:r,angle:d,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),L=c?Math.abs(f-d):Math.abs(f-d)-H-D;if(L<0&&o===0)return"".concat(k,"L").concat(e,",").concat(n,"Z");k+=Vt(AR||(AR=pl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),C.x,C.y,o,o,+(p<0),F.x,F.y,r,r,+(L>180),+(p>0),R.x,R.y,o,o,+(p<0),z.x,z.y)}else k+=Vt(xR||(xR=pl(["L",",","Z"])),e,n);return k},yX={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},OL=t=>{var e=wr(t,yX),{cx:n,cy:r,innerRadius:a,outerRadius:o,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:f,startAngle:d,endAngle:p,className:m}=e;if(o<a||d===p)return null;var v=_t("recharts-sector",m),_=o-a,w=Ao(l,_,0,!0),T;return w>0&&Math.abs(d-p)<360?T=gX({cx:n,cy:r,innerRadius:a,outerRadius:o,cornerRadius:Math.min(w,_/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:d,endAngle:p}):T=xL({cx:n,cy:r,innerRadius:a,outerRadius:o,startAngle:d,endAngle:p}),x.createElement("path",X1({},rr(e),{className:v,d:T}))};function vX(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(uj(e)){if(t==="centric"){var{cx:r,cy:a,innerRadius:o,outerRadius:l,angle:c}=e,f=zn(r,a,o,c),d=zn(r,a,l,c);return[{x:f.x,y:f.y},{x:d.x,y:d.y}]}return AL(e)}}var w_={},E_={},T_={},OR;function bX(){return OR||(OR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bj();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(T_)),T_}var CR;function _X(){return CR||(CR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bX();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(E_)),E_}var IR;function wX(){return IR||(IR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_j(),n=_X();function r(a,o,l){l&&typeof l!="number"&&e.isIterateeCall(a,o,l)&&(o=l=void 0),a=n.toFinite(a),o===void 0?(o=a,a=0):o=n.toFinite(o),l=l===void 0?a<o?1:-1:n.toFinite(l);const c=Math.max(Math.ceil((o-a)/(l||1)),0),f=new Array(c);for(let d=0;d<c;d++)f[d]=a,a+=l;return f}t.range=r})(w_)),w_}var S_,PR;function EX(){return PR||(PR=1,S_=wX().range),S_}var TX=EX();const CL=os(TX);function ho(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function SX(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function BE(t){let e,n,r;t.length!==2?(e=ho,n=(c,f)=>ho(t(c),f),r=(c,f)=>t(c)-f):(e=t===ho||t===SX?t:AX,n=t,r=t);function a(c,f,d=0,p=c.length){if(d<p){if(e(f,f)!==0)return p;do{const m=d+p>>>1;n(c[m],f)<0?d=m+1:p=m}while(d<p)}return d}function o(c,f,d=0,p=c.length){if(d<p){if(e(f,f)!==0)return p;do{const m=d+p>>>1;n(c[m],f)<=0?d=m+1:p=m}while(d<p)}return d}function l(c,f,d=0,p=c.length){const m=a(c,f,d,p-1);return m>d&&r(c[m-1],f)>-r(c[m],f)?m-1:m}return{left:a,center:l,right:o}}function AX(){return 0}function IL(t){return t===null?NaN:+t}function*xX(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const OX=BE(ho),Xh=OX.right;BE(IL).center;class RR extends Map{constructor(e,n=PX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(DR(this,e))}has(e){return super.has(DR(this,e))}set(e,n){return super.set(CX(this,e),n)}delete(e){return super.delete(IX(this,e))}}function DR({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function CX({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function IX({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function PX(t){return t!==null&&typeof t=="object"?t.valueOf():t}function RX(t=ho){if(t===ho)return PL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function PL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const DX=Math.sqrt(50),NX=Math.sqrt(10),kX=Math.sqrt(2);function pg(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),o=r/Math.pow(10,a),l=o>=DX?10:o>=NX?5:o>=kX?2:1;let c,f,d;return a<0?(d=Math.pow(10,-a)/l,c=Math.round(t*d),f=Math.round(e*d),c/d<t&&++c,f/d>e&&--f,d=-d):(d=Math.pow(10,a)*l,c=Math.round(t/d),f=Math.round(e/d),c*d<t&&++c,f*d>e&&--f),f<c&&.5<=n&&n<2?pg(t,e,n*2):[c,f,d]}function Q1(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[a,o,l]=r?pg(e,t,n):pg(t,e,n);if(!(o>=a))return[];const c=o-a+1,f=new Array(c);if(r)if(l<0)for(let d=0;d<c;++d)f[d]=(o-d)/-l;else for(let d=0;d<c;++d)f[d]=(o-d)*l;else if(l<0)for(let d=0;d<c;++d)f[d]=(a+d)/-l;else for(let d=0;d<c;++d)f[d]=(a+d)*l;return f}function Z1(t,e,n){return e=+e,t=+t,n=+n,pg(t,e,n)[2]}function J1(t,e,n){e=+e,t=+t,n=+n;const r=e<t,a=r?Z1(e,t,n):Z1(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function NR(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function kR(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function RL(t,e,n=0,r=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(a=a===void 0?PL:RX(a);r>n;){if(r-n>600){const f=r-n+1,d=e-n+1,p=Math.log(f),m=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*m*(f-m)/f)*(d-f/2<0?-1:1),_=Math.max(n,Math.floor(e-d*m/f+v)),w=Math.min(r,Math.floor(e+(f-d)*m/f+v));RL(t,e,_,w,a)}const o=t[e];let l=n,c=r;for(Vf(t,n,e),a(t[r],o)>0&&Vf(t,n,r);l<c;){for(Vf(t,l,c),++l,--c;a(t[l],o)<0;)++l;for(;a(t[c],o)>0;)--c}a(t[n],o)===0?Vf(t,n,c):(++c,Vf(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function Vf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function MX(t,e,n){if(t=Float64Array.from(xX(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return kR(t);if(e>=1)return NR(t);var r,a=(r-1)*e,o=Math.floor(a),l=NR(RL(t,o).subarray(0,o+1)),c=kR(t.subarray(o+1));return l+(c-l)*(a-o)}}function jX(t,e,n=IL){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,o=Math.floor(a),l=+n(t[o],o,t),c=+n(t[o+1],o+1,t);return l+(c-l)*(a-o)}}function LX(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(a);++r<a;)o[r]=t+r*n;return o}function ui(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function fs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const ew=Symbol("implicit");function qE(){var t=new RR,e=[],n=[],r=ew;function a(o){let l=t.get(o);if(l===void 0){if(r!==ew)return r;t.set(o,l=e.push(o)-1)}return n[l%n.length]}return a.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new RR;for(const l of o)t.has(l)||t.set(l,e.push(l)-1);return a},a.range=function(o){return arguments.length?(n=Array.from(o),a):n.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return qE(e,n).unknown(r)},ui.apply(a,arguments),a}function FE(){var t=qE().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,o,l,c=!1,f=0,d=0,p=.5;delete t.unknown;function m(){var v=e().length,_=a<r,w=_?a:r,T=_?r:a;o=(T-w)/Math.max(1,v-f+d*2),c&&(o=Math.floor(o)),w+=(T-w-o*(v-f))*p,l=o*(1-f),c&&(w=Math.round(w),l=Math.round(l));var S=LX(v).map(function(P){return w+o*P});return n(_?S.reverse():S)}return t.domain=function(v){return arguments.length?(e(v),m()):e()},t.range=function(v){return arguments.length?([r,a]=v,r=+r,a=+a,m()):[r,a]},t.rangeRound=function(v){return[r,a]=v,r=+r,a=+a,c=!0,m()},t.bandwidth=function(){return l},t.step=function(){return o},t.round=function(v){return arguments.length?(c=!!v,m()):c},t.padding=function(v){return arguments.length?(f=Math.min(1,d=+v),m()):f},t.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),m()):f},t.paddingOuter=function(v){return arguments.length?(d=+v,m()):d},t.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),m()):p},t.copy=function(){return FE(e(),[r,a]).round(c).paddingInner(f).paddingOuter(d).align(p)},ui.apply(m(),arguments)}function DL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return DL(e())},t}function VX(){return DL(FE.apply(null,arguments).paddingInner(1))}function HE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function NL(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Qh(){}var Sh=.7,mg=1/Sh,Xu="\\s*([+-]?\\d+)\\s*",Ah="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",UX=/^#([0-9a-f]{3,8})$/,zX=new RegExp(`^rgb\\(${Xu},${Xu},${Xu}\\)$`),BX=new RegExp(`^rgb\\(${pa},${pa},${pa}\\)$`),qX=new RegExp(`^rgba\\(${Xu},${Xu},${Xu},${Ah}\\)$`),FX=new RegExp(`^rgba\\(${pa},${pa},${pa},${Ah}\\)$`),HX=new RegExp(`^hsl\\(${Ah},${pa},${pa}\\)$`),$X=new RegExp(`^hsla\\(${Ah},${pa},${pa},${Ah}\\)$`),MR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};HE(Qh,xh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:jR,formatHex:jR,formatHex8:GX,formatHsl:KX,formatRgb:LR,toString:LR});function jR(){return this.rgb().formatHex()}function GX(){return this.rgb().formatHex8()}function KX(){return kL(this).formatHsl()}function LR(){return this.rgb().formatRgb()}function xh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=UX.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?VR(e):n===3?new _r(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?em(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?em(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=zX.exec(t))?new _r(e[1],e[2],e[3],1):(e=BX.exec(t))?new _r(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=qX.exec(t))?em(e[1],e[2],e[3],e[4]):(e=FX.exec(t))?em(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=HX.exec(t))?BR(e[1],e[2]/100,e[3]/100,1):(e=$X.exec(t))?BR(e[1],e[2]/100,e[3]/100,e[4]):MR.hasOwnProperty(t)?VR(MR[t]):t==="transparent"?new _r(NaN,NaN,NaN,0):null}function VR(t){return new _r(t>>16&255,t>>8&255,t&255,1)}function em(t,e,n,r){return r<=0&&(t=e=n=NaN),new _r(t,e,n,r)}function WX(t){return t instanceof Qh||(t=xh(t)),t?(t=t.rgb(),new _r(t.r,t.g,t.b,t.opacity)):new _r}function tw(t,e,n,r){return arguments.length===1?WX(t):new _r(t,e,n,r??1)}function _r(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}HE(_r,tw,NL(Qh,{brighter(t){return t=t==null?mg:Math.pow(mg,t),new _r(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Sh:Math.pow(Sh,t),new _r(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new _r(El(this.r),El(this.g),El(this.b),gg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:UR,formatHex:UR,formatHex8:YX,formatRgb:zR,toString:zR}));function UR(){return`#${ml(this.r)}${ml(this.g)}${ml(this.b)}`}function YX(){return`#${ml(this.r)}${ml(this.g)}${ml(this.b)}${ml((isNaN(this.opacity)?1:this.opacity)*255)}`}function zR(){const t=gg(this.opacity);return`${t===1?"rgb(":"rgba("}${El(this.r)}, ${El(this.g)}, ${El(this.b)}${t===1?")":`, ${t})`}`}function gg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function El(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ml(t){return t=El(t),(t<16?"0":"")+t.toString(16)}function BR(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ai(t,e,n,r)}function kL(t){if(t instanceof Ai)return new Ai(t.h,t.s,t.l,t.opacity);if(t instanceof Qh||(t=xh(t)),!t)return new Ai;if(t instanceof Ai)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),o=Math.max(e,n,r),l=NaN,c=o-a,f=(o+a)/2;return c?(e===o?l=(n-r)/c+(n<r)*6:n===o?l=(r-e)/c+2:l=(e-n)/c+4,c/=f<.5?o+a:2-o-a,l*=60):c=f>0&&f<1?0:l,new Ai(l,c,f,t.opacity)}function XX(t,e,n,r){return arguments.length===1?kL(t):new Ai(t,e,n,r??1)}function Ai(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}HE(Ai,XX,NL(Qh,{brighter(t){return t=t==null?mg:Math.pow(mg,t),new Ai(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Sh:Math.pow(Sh,t),new Ai(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new _r(A_(t>=240?t-240:t+120,a,r),A_(t,a,r),A_(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new Ai(qR(this.h),tm(this.s),tm(this.l),gg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=gg(this.opacity);return`${t===1?"hsl(":"hsla("}${qR(this.h)}, ${tm(this.s)*100}%, ${tm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function qR(t){return t=(t||0)%360,t<0?t+360:t}function tm(t){return Math.max(0,Math.min(1,t||0))}function A_(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const $E=t=>()=>t;function QX(t,e){return function(n){return t+n*e}}function ZX(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function JX(t){return(t=+t)==1?ML:function(e,n){return n-e?ZX(e,n,t):$E(isNaN(e)?n:e)}}function ML(t,e){var n=e-t;return n?QX(t,n):$E(isNaN(t)?e:t)}const FR=(function t(e){var n=JX(e);function r(a,o){var l=n((a=tw(a)).r,(o=tw(o)).r),c=n(a.g,o.g),f=n(a.b,o.b),d=ML(a.opacity,o.opacity);return function(p){return a.r=l(p),a.g=c(p),a.b=f(p),a.opacity=d(p),a+""}}return r.gamma=t,r})(1);function eQ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(o){for(a=0;a<n;++a)r[a]=t[a]*(1-o)+e[a]*o;return r}}function tQ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function nQ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)a[l]=bc(t[l],e[l]);for(;l<n;++l)o[l]=e[l];return function(c){for(l=0;l<r;++l)o[l]=a[l](c);return o}}function rQ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function yg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function iQ(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=bc(t[a],e[a]):r[a]=e[a];return function(o){for(a in n)r[a]=n[a](o);return r}}var nw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,x_=new RegExp(nw.source,"g");function aQ(t){return function(){return t}}function sQ(t){return function(e){return t(e)+""}}function oQ(t,e){var n=nw.lastIndex=x_.lastIndex=0,r,a,o,l=-1,c=[],f=[];for(t=t+"",e=e+"";(r=nw.exec(t))&&(a=x_.exec(e));)(o=a.index)>n&&(o=e.slice(n,o),c[l]?c[l]+=o:c[++l]=o),(r=r[0])===(a=a[0])?c[l]?c[l]+=a:c[++l]=a:(c[++l]=null,f.push({i:l,x:yg(r,a)})),n=x_.lastIndex;return n<e.length&&(o=e.slice(n),c[l]?c[l]+=o:c[++l]=o),c.length<2?f[0]?sQ(f[0].x):aQ(e):(e=f.length,function(d){for(var p=0,m;p<e;++p)c[(m=f[p]).i]=m.x(d);return c.join("")})}function bc(t,e){var n=typeof e,r;return e==null||n==="boolean"?$E(e):(n==="number"?yg:n==="string"?(r=xh(e))?(e=r,FR):oQ:e instanceof xh?FR:e instanceof Date?rQ:tQ(e)?eQ:Array.isArray(e)?nQ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?iQ:yg)(t,e)}function GE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function lQ(t,e){e===void 0&&(e=t,t=bc);for(var n=0,r=e.length-1,a=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(a,a=e[++n]);return function(l){var c=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return o[c](l-c)}}function uQ(t){return function(){return t}}function vg(t){return+t}var HR=[0,1];function tr(t){return t}function rw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:uQ(isNaN(e)?NaN:.5)}function cQ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function fQ(t,e,n){var r=t[0],a=t[1],o=e[0],l=e[1];return a<r?(r=rw(a,r),o=n(l,o)):(r=rw(r,a),o=n(o,l)),function(c){return o(r(c))}}function hQ(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),o=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)a[l]=rw(t[l],t[l+1]),o[l]=n(e[l],e[l+1]);return function(c){var f=Xh(t,c,1,r)-1;return o[f](a[f](c))}}function Zh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Dy(){var t=HR,e=HR,n=bc,r,a,o,l=tr,c,f,d;function p(){var v=Math.min(t.length,e.length);return l!==tr&&(l=cQ(t[0],t[v-1])),c=v>2?hQ:fQ,f=d=null,m}function m(v){return v==null||isNaN(v=+v)?o:(f||(f=c(t.map(r),e,n)))(r(l(v)))}return m.invert=function(v){return l(a((d||(d=c(e,t.map(r),yg)))(v)))},m.domain=function(v){return arguments.length?(t=Array.from(v,vg),p()):t.slice()},m.range=function(v){return arguments.length?(e=Array.from(v),p()):e.slice()},m.rangeRound=function(v){return e=Array.from(v),n=GE,p()},m.clamp=function(v){return arguments.length?(l=v?!0:tr,p()):l!==tr},m.interpolate=function(v){return arguments.length?(n=v,p()):n},m.unknown=function(v){return arguments.length?(o=v,m):o},function(v,_){return r=v,a=_,p()}}function KE(){return Dy()(tr,tr)}function dQ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function bg(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function sc(t){return t=bg(Math.abs(t)),t?t[1]:NaN}function pQ(t,e){return function(n,r){for(var a=n.length,o=[],l=0,c=t[0],f=0;a>0&&c>0&&(f+c+1>r&&(c=Math.max(1,r-f)),o.push(n.substring(a-=c,a+c)),!((f+=c+1)>r));)c=t[l=(l+1)%t.length];return o.reverse().join(e)}}function mQ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var gQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Oh(t){if(!(e=gQ.exec(t)))throw new Error("invalid format: "+t);var e;return new WE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Oh.prototype=WE.prototype;function WE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}WE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function yQ(t){e:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var _g;function vQ(t,e){var n=bg(t,e);if(!n)return _g=void 0,t.toPrecision(e);var r=n[0],a=n[1],o=a-(_g=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+bg(t,Math.max(0,e+o-1))[0]}function $R(t,e){var n=bg(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const GR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:dQ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>$R(t*100,e),r:$R,s:vQ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function KR(t){return t}var WR=Array.prototype.map,YR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function bQ(t){var e=t.grouping===void 0||t.thousands===void 0?KR:pQ(WR.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?KR:mQ(WR.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function d(m,v){m=Oh(m);var _=m.fill,w=m.align,T=m.sign,S=m.symbol,P=m.zero,k=m.width,R=m.comma,z=m.precision,H=m.trim,F=m.type;F==="n"?(R=!0,F="g"):GR[F]||(z===void 0&&(z=12),H=!0,F="g"),(P||_==="0"&&w==="=")&&(P=!0,_="0",w="=");var C=(v&&v.prefix!==void 0?v.prefix:"")+(S==="$"?n:S==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():""),D=(S==="$"?r:/[%p]/.test(F)?l:"")+(v&&v.suffix!==void 0?v.suffix:""),L=GR[F],q=/[defgprs%]/.test(F);z=z===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,z)):Math.max(0,Math.min(20,z));function U(M){var V=C,ge=D,ve,Y,oe;if(F==="c")ge=L(M)+ge,M="";else{M=+M;var ne=M<0||1/M<0;if(M=isNaN(M)?f:L(Math.abs(M),z),H&&(M=yQ(M)),ne&&+M==0&&T!=="+"&&(ne=!1),V=(ne?T==="("?T:c:T==="-"||T==="("?"":T)+V,ge=(F==="s"&&!isNaN(M)&&_g!==void 0?YR[8+_g/3]:"")+ge+(ne&&T==="("?")":""),q){for(ve=-1,Y=M.length;++ve<Y;)if(oe=M.charCodeAt(ve),48>oe||oe>57){ge=(oe===46?a+M.slice(ve+1):M.slice(ve))+ge,M=M.slice(0,ve);break}}}R&&!P&&(M=e(M,1/0));var Z=V.length+M.length+ge.length,W=Z<k?new Array(k-Z+1).join(_):"";switch(R&&P&&(M=e(W+M,W.length?k-ge.length:1/0),W=""),w){case"<":M=V+M+ge+W;break;case"=":M=V+W+M+ge;break;case"^":M=W.slice(0,Z=W.length>>1)+V+M+ge+W.slice(Z);break;default:M=W+V+M+ge;break}return o(M)}return U.toString=function(){return m+""},U}function p(m,v){var _=Math.max(-8,Math.min(8,Math.floor(sc(v)/3)))*3,w=Math.pow(10,-_),T=d((m=Oh(m),m.type="f",m),{suffix:YR[8+_/3]});return function(S){return T(w*S)}}return{format:d,formatPrefix:p}}var nm,YE,jL;_Q({thousands:",",grouping:[3],currency:["$",""]});function _Q(t){return nm=bQ(t),YE=nm.format,jL=nm.formatPrefix,nm}function wQ(t){return Math.max(0,-sc(Math.abs(t)))}function EQ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(sc(e)/3)))*3-sc(Math.abs(t)))}function TQ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,sc(e)-sc(t))+1}function LL(t,e,n,r){var a=J1(t,e,n),o;switch(r=Oh(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=EQ(a,l))&&(r.precision=o),jL(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=TQ(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=wQ(a))&&(r.precision=o-(r.type==="%")*2);break}}return YE(r)}function Io(t){var e=t.domain;return t.ticks=function(n){var r=e();return Q1(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return LL(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,o=r.length-1,l=r[a],c=r[o],f,d,p=10;for(c<l&&(d=l,l=c,c=d,d=a,a=o,o=d);p-- >0;){if(d=Z1(l,c,n),d===f)return r[a]=l,r[o]=c,e(r);if(d>0)l=Math.floor(l/d)*d,c=Math.ceil(c/d)*d;else if(d<0)l=Math.ceil(l*d)/d,c=Math.floor(c*d)/d;else break;f=d}return t},t}function VL(){var t=KE();return t.copy=function(){return Zh(t,VL())},ui.apply(t,arguments),Io(t)}function UL(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,vg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return UL(t).unknown(e)},t=arguments.length?Array.from(t,vg):[0,1],Io(n)}function zL(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],o=t[r],l;return o<a&&(l=n,n=r,r=l,l=a,a=o,o=l),t[n]=e.floor(a),t[r]=e.ceil(o),t}function XR(t){return Math.log(t)}function QR(t){return Math.exp(t)}function SQ(t){return-Math.log(-t)}function AQ(t){return-Math.exp(-t)}function xQ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function OQ(t){return t===10?xQ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function CQ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function ZR(t){return(e,n)=>-t(-e,n)}function XE(t){const e=t(XR,QR),n=e.domain;let r=10,a,o;function l(){return a=CQ(r),o=OQ(r),n()[0]<0?(a=ZR(a),o=ZR(o),t(SQ,AQ)):t(XR,QR),e}return e.base=function(c){return arguments.length?(r=+c,l()):r},e.domain=function(c){return arguments.length?(n(c),l()):n()},e.ticks=c=>{const f=n();let d=f[0],p=f[f.length-1];const m=p<d;m&&([d,p]=[p,d]);let v=a(d),_=a(p),w,T;const S=c==null?10:+c;let P=[];if(!(r%1)&&_-v<S){if(v=Math.floor(v),_=Math.ceil(_),d>0){for(;v<=_;++v)for(w=1;w<r;++w)if(T=v<0?w/o(-v):w*o(v),!(T<d)){if(T>p)break;P.push(T)}}else for(;v<=_;++v)for(w=r-1;w>=1;--w)if(T=v>0?w/o(-v):w*o(v),!(T<d)){if(T>p)break;P.push(T)}P.length*2<S&&(P=Q1(d,p,S))}else P=Q1(v,_,Math.min(_-v,S)).map(o);return m?P.reverse():P},e.tickFormat=(c,f)=>{if(c==null&&(c=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Oh(f)).precision==null&&(f.trim=!0),f=YE(f)),c===1/0)return f;const d=Math.max(1,r*c/e.ticks().length);return p=>{let m=p/o(Math.round(a(p)));return m*r<r-.5&&(m*=r),m<=d?f(p):""}},e.nice=()=>n(zL(n(),{floor:c=>o(Math.floor(a(c))),ceil:c=>o(Math.ceil(a(c)))})),e}function BL(){const t=XE(Dy()).domain([1,10]);return t.copy=()=>Zh(t,BL()).base(t.base()),ui.apply(t,arguments),t}function JR(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function e2(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function QE(t){var e=1,n=t(JR(e),e2(e));return n.constant=function(r){return arguments.length?t(JR(e=+r),e2(e)):e},Io(n)}function qL(){var t=QE(Dy());return t.copy=function(){return Zh(t,qL()).constant(t.constant())},ui.apply(t,arguments)}function t2(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function IQ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function PQ(t){return t<0?-t*t:t*t}function ZE(t){var e=t(tr,tr),n=1;function r(){return n===1?t(tr,tr):n===.5?t(IQ,PQ):t(t2(n),t2(1/n))}return e.exponent=function(a){return arguments.length?(n=+a,r()):n},Io(e)}function JE(){var t=ZE(Dy());return t.copy=function(){return Zh(t,JE()).exponent(t.exponent())},ui.apply(t,arguments),t}function RQ(){return JE.apply(null,arguments).exponent(.5)}function n2(t){return Math.sign(t)*t*t}function DQ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function FL(){var t=KE(),e=[0,1],n=!1,r;function a(o){var l=DQ(t(o));return isNaN(l)?r:n?Math.round(l):l}return a.invert=function(o){return t.invert(n2(o))},a.domain=function(o){return arguments.length?(t.domain(o),a):t.domain()},a.range=function(o){return arguments.length?(t.range((e=Array.from(o,vg)).map(n2)),a):e.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(n=!!o,a):n},a.clamp=function(o){return arguments.length?(t.clamp(o),a):t.clamp()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return FL(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ui.apply(a,arguments),Io(a)}function HL(){var t=[],e=[],n=[],r;function a(){var l=0,c=Math.max(1,e.length);for(n=new Array(c-1);++l<c;)n[l-1]=jX(t,l/c);return o}function o(l){return l==null||isNaN(l=+l)?r:e[Xh(n,l)]}return o.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},o.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(ho),a()},o.range=function(l){return arguments.length?(e=Array.from(l),a()):e.slice()},o.unknown=function(l){return arguments.length?(r=l,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return HL().domain(t).range(e).unknown(r)},ui.apply(o,arguments)}function $L(){var t=0,e=1,n=1,r=[.5],a=[0,1],o;function l(f){return f!=null&&f<=f?a[Xh(r,f,0,n)]:o}function c(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return l}return l.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,c()):[t,e]},l.range=function(f){return arguments.length?(n=(a=Array.from(f)).length-1,c()):a.slice()},l.invertExtent=function(f){var d=a.indexOf(f);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},l.unknown=function(f){return arguments.length&&(o=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return $L().domain([t,e]).range(a).unknown(o)},ui.apply(Io(l),arguments)}function GL(){var t=[.5],e=[0,1],n,r=1;function a(o){return o!=null&&o<=o?e[Xh(t,o,0,r)]:n}return a.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(o){var l=e.indexOf(o);return[t[l-1],t[l]]},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return GL().domain(t).range(e).unknown(n)},ui.apply(a,arguments)}const O_=new Date,C_=new Date;function gn(t,e,n,r){function a(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(t(o=new Date(+o)),o),a.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),a.round=o=>{const l=a(o),c=a.ceil(o);return o-l<c-o?l:c},a.offset=(o,l)=>(e(o=new Date(+o),l==null?1:Math.floor(l)),o),a.range=(o,l,c)=>{const f=[];if(o=a.ceil(o),c=c==null?1:Math.floor(c),!(o<l)||!(c>0))return f;let d;do f.push(d=new Date(+o)),e(o,c),t(o);while(d<o&&o<l);return f},a.filter=o=>gn(l=>{if(l>=l)for(;t(l),!o(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!o(l););else for(;--c>=0;)for(;e(l,1),!o(l););}),n&&(a.count=(o,l)=>(O_.setTime(+o),C_.setTime(+l),t(O_),t(C_),Math.floor(n(O_,C_))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(r?l=>r(l)%o===0:l=>a.count(0,l)%o===0):a)),a}const wg=gn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);wg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?gn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):wg);wg.range;const Ga=1e3,ai=Ga*60,Ka=ai*60,ns=Ka*24,eT=ns*7,r2=ns*30,I_=ns*365,gl=gn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ga)},(t,e)=>(e-t)/Ga,t=>t.getUTCSeconds());gl.range;const tT=gn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ga)},(t,e)=>{t.setTime(+t+e*ai)},(t,e)=>(e-t)/ai,t=>t.getMinutes());tT.range;const nT=gn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ai)},(t,e)=>(e-t)/ai,t=>t.getUTCMinutes());nT.range;const rT=gn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ga-t.getMinutes()*ai)},(t,e)=>{t.setTime(+t+e*Ka)},(t,e)=>(e-t)/Ka,t=>t.getHours());rT.range;const iT=gn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ka)},(t,e)=>(e-t)/Ka,t=>t.getUTCHours());iT.range;const Jh=gn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ai)/ns,t=>t.getDate()-1);Jh.range;const Ny=gn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ns,t=>t.getUTCDate()-1);Ny.range;const KL=gn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ns,t=>Math.floor(t/ns));KL.range;function ql(t){return gn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ai)/eT)}const ky=ql(0),Eg=ql(1),NQ=ql(2),kQ=ql(3),oc=ql(4),MQ=ql(5),jQ=ql(6);ky.range;Eg.range;NQ.range;kQ.range;oc.range;MQ.range;jQ.range;function Fl(t){return gn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/eT)}const My=Fl(0),Tg=Fl(1),LQ=Fl(2),VQ=Fl(3),lc=Fl(4),UQ=Fl(5),zQ=Fl(6);My.range;Tg.range;LQ.range;VQ.range;lc.range;UQ.range;zQ.range;const aT=gn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());aT.range;const sT=gn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());sT.range;const rs=gn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());rs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});rs.range;const is=gn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());is.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});is.range;function WL(t,e,n,r,a,o){const l=[[gl,1,Ga],[gl,5,5*Ga],[gl,15,15*Ga],[gl,30,30*Ga],[o,1,ai],[o,5,5*ai],[o,15,15*ai],[o,30,30*ai],[a,1,Ka],[a,3,3*Ka],[a,6,6*Ka],[a,12,12*Ka],[r,1,ns],[r,2,2*ns],[n,1,eT],[e,1,r2],[e,3,3*r2],[t,1,I_]];function c(d,p,m){const v=p<d;v&&([d,p]=[p,d]);const _=m&&typeof m.range=="function"?m:f(d,p,m),w=_?_.range(d,+p+1):[];return v?w.reverse():w}function f(d,p,m){const v=Math.abs(p-d)/m,_=BE(([,,S])=>S).right(l,v);if(_===l.length)return t.every(J1(d/I_,p/I_,m));if(_===0)return wg.every(Math.max(J1(d,p,m),1));const[w,T]=l[v/l[_-1][2]<l[_][2]/v?_-1:_];return w.every(T)}return[c,f]}const[BQ,qQ]=WL(is,sT,My,KL,iT,nT),[FQ,HQ]=WL(rs,aT,ky,Jh,rT,tT);function P_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function R_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Uf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function $Q(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,o=t.days,l=t.shortDays,c=t.months,f=t.shortMonths,d=zf(a),p=Bf(a),m=zf(o),v=Bf(o),_=zf(l),w=Bf(l),T=zf(c),S=Bf(c),P=zf(f),k=Bf(f),R={a:oe,A:ne,b:Z,B:W,c:null,d:u2,e:u2,f:pZ,g:SZ,G:xZ,H:fZ,I:hZ,j:dZ,L:YL,m:mZ,M:gZ,p:B,q:J,Q:h2,s:d2,S:yZ,u:vZ,U:bZ,V:_Z,w:wZ,W:EZ,x:null,X:null,y:TZ,Y:AZ,Z:OZ,"%":f2},z={a:fe,A:pe,b:xe,B:De,c:null,d:c2,e:c2,f:RZ,g:BZ,G:FZ,H:CZ,I:IZ,j:PZ,L:QL,m:DZ,M:NZ,p:Ie,q:ht,Q:h2,s:d2,S:kZ,u:MZ,U:jZ,V:LZ,w:VZ,W:UZ,x:null,X:null,y:zZ,Y:qZ,Z:HZ,"%":f2},H={a:q,A:U,b:M,B:V,c:ge,d:o2,e:o2,f:oZ,g:s2,G:a2,H:l2,I:l2,j:rZ,L:sZ,m:nZ,M:iZ,p:L,q:tZ,Q:uZ,s:cZ,S:aZ,u:XQ,U:QQ,V:ZQ,w:YQ,W:JQ,x:ve,X:Y,y:s2,Y:a2,Z:eZ,"%":lZ};R.x=F(n,R),R.X=F(r,R),R.c=F(e,R),z.x=F(n,z),z.X=F(r,z),z.c=F(e,z);function F(le,je){return function(Fe){var me=[],Ft=-1,He=0,fn=le.length,Ht,Sr,gs;for(Fe instanceof Date||(Fe=new Date(+Fe));++Ft<fn;)le.charCodeAt(Ft)===37&&(me.push(le.slice(He,Ft)),(Sr=i2[Ht=le.charAt(++Ft)])!=null?Ht=le.charAt(++Ft):Sr=Ht==="e"?" ":"0",(gs=je[Ht])&&(Ht=gs(Fe,Sr)),me.push(Ht),He=Ft+1);return me.push(le.slice(He,Ft)),me.join("")}}function C(le,je){return function(Fe){var me=Uf(1900,void 0,1),Ft=D(me,le,Fe+="",0),He,fn;if(Ft!=Fe.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(je&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(He=R_(Uf(me.y,0,1)),fn=He.getUTCDay(),He=fn>4||fn===0?Tg.ceil(He):Tg(He),He=Ny.offset(He,(me.V-1)*7),me.y=He.getUTCFullYear(),me.m=He.getUTCMonth(),me.d=He.getUTCDate()+(me.w+6)%7):(He=P_(Uf(me.y,0,1)),fn=He.getDay(),He=fn>4||fn===0?Eg.ceil(He):Eg(He),He=Jh.offset(He,(me.V-1)*7),me.y=He.getFullYear(),me.m=He.getMonth(),me.d=He.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),fn="Z"in me?R_(Uf(me.y,0,1)).getUTCDay():P_(Uf(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(fn+5)%7:me.w+me.U*7-(fn+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,R_(me)):P_(me)}}function D(le,je,Fe,me){for(var Ft=0,He=je.length,fn=Fe.length,Ht,Sr;Ft<He;){if(me>=fn)return-1;if(Ht=je.charCodeAt(Ft++),Ht===37){if(Ht=je.charAt(Ft++),Sr=H[Ht in i2?je.charAt(Ft++):Ht],!Sr||(me=Sr(le,Fe,me))<0)return-1}else if(Ht!=Fe.charCodeAt(me++))return-1}return me}function L(le,je,Fe){var me=d.exec(je.slice(Fe));return me?(le.p=p.get(me[0].toLowerCase()),Fe+me[0].length):-1}function q(le,je,Fe){var me=_.exec(je.slice(Fe));return me?(le.w=w.get(me[0].toLowerCase()),Fe+me[0].length):-1}function U(le,je,Fe){var me=m.exec(je.slice(Fe));return me?(le.w=v.get(me[0].toLowerCase()),Fe+me[0].length):-1}function M(le,je,Fe){var me=P.exec(je.slice(Fe));return me?(le.m=k.get(me[0].toLowerCase()),Fe+me[0].length):-1}function V(le,je,Fe){var me=T.exec(je.slice(Fe));return me?(le.m=S.get(me[0].toLowerCase()),Fe+me[0].length):-1}function ge(le,je,Fe){return D(le,e,je,Fe)}function ve(le,je,Fe){return D(le,n,je,Fe)}function Y(le,je,Fe){return D(le,r,je,Fe)}function oe(le){return l[le.getDay()]}function ne(le){return o[le.getDay()]}function Z(le){return f[le.getMonth()]}function W(le){return c[le.getMonth()]}function B(le){return a[+(le.getHours()>=12)]}function J(le){return 1+~~(le.getMonth()/3)}function fe(le){return l[le.getUTCDay()]}function pe(le){return o[le.getUTCDay()]}function xe(le){return f[le.getUTCMonth()]}function De(le){return c[le.getUTCMonth()]}function Ie(le){return a[+(le.getUTCHours()>=12)]}function ht(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var je=F(le+="",R);return je.toString=function(){return le},je},parse:function(le){var je=C(le+="",!1);return je.toString=function(){return le},je},utcFormat:function(le){var je=F(le+="",z);return je.toString=function(){return le},je},utcParse:function(le){var je=C(le+="",!0);return je.toString=function(){return le},je}}}var i2={"-":"",_:" ",0:"0"},xn=/^\s*\d+/,GQ=/^%/,KQ=/[\\^$*+?|[\]().{}]/g;function it(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",o=a.length;return r+(o<n?new Array(n-o+1).join(e)+a:a)}function WQ(t){return t.replace(KQ,"\\$&")}function zf(t){return new RegExp("^(?:"+t.map(WQ).join("|")+")","i")}function Bf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function YQ(t,e,n){var r=xn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function XQ(t,e,n){var r=xn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function QQ(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function ZQ(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function JQ(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function a2(t,e,n){var r=xn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function s2(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function eZ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function tZ(t,e,n){var r=xn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function nZ(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function o2(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function rZ(t,e,n){var r=xn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function l2(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function iZ(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function aZ(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function sZ(t,e,n){var r=xn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function oZ(t,e,n){var r=xn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function lZ(t,e,n){var r=GQ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function uZ(t,e,n){var r=xn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function cZ(t,e,n){var r=xn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function u2(t,e){return it(t.getDate(),e,2)}function fZ(t,e){return it(t.getHours(),e,2)}function hZ(t,e){return it(t.getHours()%12||12,e,2)}function dZ(t,e){return it(1+Jh.count(rs(t),t),e,3)}function YL(t,e){return it(t.getMilliseconds(),e,3)}function pZ(t,e){return YL(t,e)+"000"}function mZ(t,e){return it(t.getMonth()+1,e,2)}function gZ(t,e){return it(t.getMinutes(),e,2)}function yZ(t,e){return it(t.getSeconds(),e,2)}function vZ(t){var e=t.getDay();return e===0?7:e}function bZ(t,e){return it(ky.count(rs(t)-1,t),e,2)}function XL(t){var e=t.getDay();return e>=4||e===0?oc(t):oc.ceil(t)}function _Z(t,e){return t=XL(t),it(oc.count(rs(t),t)+(rs(t).getDay()===4),e,2)}function wZ(t){return t.getDay()}function EZ(t,e){return it(Eg.count(rs(t)-1,t),e,2)}function TZ(t,e){return it(t.getFullYear()%100,e,2)}function SZ(t,e){return t=XL(t),it(t.getFullYear()%100,e,2)}function AZ(t,e){return it(t.getFullYear()%1e4,e,4)}function xZ(t,e){var n=t.getDay();return t=n>=4||n===0?oc(t):oc.ceil(t),it(t.getFullYear()%1e4,e,4)}function OZ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+it(e/60|0,"0",2)+it(e%60,"0",2)}function c2(t,e){return it(t.getUTCDate(),e,2)}function CZ(t,e){return it(t.getUTCHours(),e,2)}function IZ(t,e){return it(t.getUTCHours()%12||12,e,2)}function PZ(t,e){return it(1+Ny.count(is(t),t),e,3)}function QL(t,e){return it(t.getUTCMilliseconds(),e,3)}function RZ(t,e){return QL(t,e)+"000"}function DZ(t,e){return it(t.getUTCMonth()+1,e,2)}function NZ(t,e){return it(t.getUTCMinutes(),e,2)}function kZ(t,e){return it(t.getUTCSeconds(),e,2)}function MZ(t){var e=t.getUTCDay();return e===0?7:e}function jZ(t,e){return it(My.count(is(t)-1,t),e,2)}function ZL(t){var e=t.getUTCDay();return e>=4||e===0?lc(t):lc.ceil(t)}function LZ(t,e){return t=ZL(t),it(lc.count(is(t),t)+(is(t).getUTCDay()===4),e,2)}function VZ(t){return t.getUTCDay()}function UZ(t,e){return it(Tg.count(is(t)-1,t),e,2)}function zZ(t,e){return it(t.getUTCFullYear()%100,e,2)}function BZ(t,e){return t=ZL(t),it(t.getUTCFullYear()%100,e,2)}function qZ(t,e){return it(t.getUTCFullYear()%1e4,e,4)}function FZ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?lc(t):lc.ceil(t),it(t.getUTCFullYear()%1e4,e,4)}function HZ(){return"+0000"}function f2(){return"%"}function h2(t){return+t}function d2(t){return Math.floor(+t/1e3)}var Du,JL,e4;$Z({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function $Z(t){return Du=$Q(t),JL=Du.format,Du.parse,e4=Du.utcFormat,Du.utcParse,Du}function GZ(t){return new Date(t)}function KZ(t){return t instanceof Date?+t:+new Date(+t)}function oT(t,e,n,r,a,o,l,c,f,d){var p=KE(),m=p.invert,v=p.domain,_=d(".%L"),w=d(":%S"),T=d("%I:%M"),S=d("%I %p"),P=d("%a %d"),k=d("%b %d"),R=d("%B"),z=d("%Y");function H(F){return(f(F)<F?_:c(F)<F?w:l(F)<F?T:o(F)<F?S:r(F)<F?a(F)<F?P:k:n(F)<F?R:z)(F)}return p.invert=function(F){return new Date(m(F))},p.domain=function(F){return arguments.length?v(Array.from(F,KZ)):v().map(GZ)},p.ticks=function(F){var C=v();return t(C[0],C[C.length-1],F??10)},p.tickFormat=function(F,C){return C==null?H:d(C)},p.nice=function(F){var C=v();return(!F||typeof F.range!="function")&&(F=e(C[0],C[C.length-1],F??10)),F?v(zL(C,F)):p},p.copy=function(){return Zh(p,oT(t,e,n,r,a,o,l,c,f,d))},p}function WZ(){return ui.apply(oT(FQ,HQ,rs,aT,ky,Jh,rT,tT,gl,JL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function YZ(){return ui.apply(oT(BQ,qQ,is,sT,My,Ny,iT,nT,gl,e4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function jy(){var t=0,e=1,n,r,a,o,l=tr,c=!1,f;function d(m){return m==null||isNaN(m=+m)?f:l(a===0?.5:(m=(o(m)-n)*a,c?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e]=m,n=o(t=+t),r=o(e=+e),a=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(m){return arguments.length?(c=!!m,d):c},d.interpolator=function(m){return arguments.length?(l=m,d):l};function p(m){return function(v){var _,w;return arguments.length?([_,w]=v,l=m(_,w),d):[l(0),l(1)]}}return d.range=p(bc),d.rangeRound=p(GE),d.unknown=function(m){return arguments.length?(f=m,d):f},function(m){return o=m,n=m(t),r=m(e),a=n===r?0:1/(r-n),d}}function Po(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function t4(){var t=Io(jy()(tr));return t.copy=function(){return Po(t,t4())},fs.apply(t,arguments)}function n4(){var t=XE(jy()).domain([1,10]);return t.copy=function(){return Po(t,n4()).base(t.base())},fs.apply(t,arguments)}function r4(){var t=QE(jy());return t.copy=function(){return Po(t,r4()).constant(t.constant())},fs.apply(t,arguments)}function lT(){var t=ZE(jy());return t.copy=function(){return Po(t,lT()).exponent(t.exponent())},fs.apply(t,arguments)}function XZ(){return lT.apply(null,arguments).exponent(.5)}function i4(){var t=[],e=tr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Xh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let a of r)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(ho),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,a)=>e(a/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,o)=>MX(t,o/r))},n.copy=function(){return i4(e).domain(t)},fs.apply(n,arguments)}function Ly(){var t=0,e=.5,n=1,r=1,a,o,l,c,f,d=tr,p,m=!1,v;function _(T){return isNaN(T=+T)?v:(T=.5+((T=+p(T))-o)*(r*T<r*o?c:f),d(m?Math.max(0,Math.min(1,T)):T))}_.domain=function(T){return arguments.length?([t,e,n]=T,a=p(t=+t),o=p(e=+e),l=p(n=+n),c=a===o?0:.5/(o-a),f=o===l?0:.5/(l-o),r=o<a?-1:1,_):[t,e,n]},_.clamp=function(T){return arguments.length?(m=!!T,_):m},_.interpolator=function(T){return arguments.length?(d=T,_):d};function w(T){return function(S){var P,k,R;return arguments.length?([P,k,R]=S,d=lQ(T,[P,k,R]),_):[d(0),d(.5),d(1)]}}return _.range=w(bc),_.rangeRound=w(GE),_.unknown=function(T){return arguments.length?(v=T,_):v},function(T){return p=T,a=T(t),o=T(e),l=T(n),c=a===o?0:.5/(o-a),f=o===l?0:.5/(l-o),r=o<a?-1:1,_}}function a4(){var t=Io(Ly()(tr));return t.copy=function(){return Po(t,a4())},fs.apply(t,arguments)}function s4(){var t=XE(Ly()).domain([.1,1,10]);return t.copy=function(){return Po(t,s4()).base(t.base())},fs.apply(t,arguments)}function o4(){var t=QE(Ly());return t.copy=function(){return Po(t,o4()).constant(t.constant())},fs.apply(t,arguments)}function uT(){var t=ZE(Ly());return t.copy=function(){return Po(t,uT()).exponent(t.exponent())},fs.apply(t,arguments)}function QZ(){return uT.apply(null,arguments).exponent(.5)}const Wf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:FE,scaleDiverging:a4,scaleDivergingLog:s4,scaleDivergingPow:uT,scaleDivergingSqrt:QZ,scaleDivergingSymlog:o4,scaleIdentity:UL,scaleImplicit:ew,scaleLinear:VL,scaleLog:BL,scaleOrdinal:qE,scalePoint:VX,scalePow:JE,scaleQuantile:HL,scaleQuantize:$L,scaleRadial:FL,scaleSequential:t4,scaleSequentialLog:n4,scaleSequentialPow:lT,scaleSequentialQuantile:i4,scaleSequentialSqrt:XZ,scaleSequentialSymlog:r4,scaleSqrt:RQ,scaleSymlog:qL,scaleThreshold:GL,scaleTime:WZ,scaleUtc:YZ,tickFormat:LL},Symbol.toStringTag,{value:"Module"}));var Ro=t=>t.chartData,ZZ=ae([Ro],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),cT=(t,e,n,r)=>r?ZZ(t):Ro(t);function as(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(rt(e)&&rt(n))return!0}return!1}function p2(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function l4(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,a,o;if(rt(n))a=n;else if(typeof n=="function")return;if(rt(r))o=r;else if(typeof r=="function")return;var l=[a,o];if(as(l))return l}}function JZ(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(as(r))return p2(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[a,o]=t,l,c;if(a==="auto")e!=null&&(l=Math.min(...e));else if(Ae(a))l=a;else if(typeof a=="function")try{e!=null&&(l=a(e?.[0]))}catch{}else if(typeof a=="string"&&xP.test(a)){var f=xP.exec(a);if(f==null||f[1]==null||e==null)l=void 0;else{var d=+f[1];l=e[0]-d}}else l=e?.[0];if(o==="auto")e!=null&&(c=Math.max(...e));else if(Ae(o))c=o;else if(typeof o=="function")try{e!=null&&(c=o(e?.[1]))}catch{}else if(typeof o=="string"&&OP.test(o)){var p=OP.exec(o);if(p==null||p[1]==null||e==null)c=void 0;else{var m=+p[1];c=e[1]+m}}else c=e?.[1];var v=[l,c];if(as(v))return e==null?v:p2(v,e,n)}}}var _c=1e9,eJ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},hT,Rt=!0,li="[DecimalError] ",Tl=li+"Invalid argument: ",fT=li+"Exponent out of range: ",wc=Math.floor,fl=Math.pow,tJ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,kr,Sn=1e7,xt=7,u4=9007199254740991,Sg=wc(u4/xt),Ee={};Ee.absoluteValue=Ee.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ee.comparedTo=Ee.cmp=function(t){var e,n,r,a,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,a=t.d.length,e=0,n=r<a?r:a;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===a?0:r>a^o.s<0?1:-1};Ee.decimalPlaces=Ee.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*xt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ee.dividedBy=Ee.div=function(t){return Wa(this,new this.constructor(t))};Ee.dividedToIntegerBy=Ee.idiv=function(t){var e=this,n=e.constructor;return bt(Wa(e,new n(t),0,1),n.precision)};Ee.equals=Ee.eq=function(t){return!this.cmp(t)};Ee.exponent=function(){return cn(this)};Ee.greaterThan=Ee.gt=function(t){return this.cmp(t)>0};Ee.greaterThanOrEqualTo=Ee.gte=function(t){return this.cmp(t)>=0};Ee.isInteger=Ee.isint=function(){return this.e>this.d.length-2};Ee.isNegative=Ee.isneg=function(){return this.s<0};Ee.isPositive=Ee.ispos=function(){return this.s>0};Ee.isZero=function(){return this.s===0};Ee.lessThan=Ee.lt=function(t){return this.cmp(t)<0};Ee.lessThanOrEqualTo=Ee.lte=function(t){return this.cmp(t)<1};Ee.logarithm=Ee.log=function(t){var e,n=this,r=n.constructor,a=r.precision,o=a+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(kr))throw Error(li+"NaN");if(n.s<1)throw Error(li+(n.s?"NaN":"-Infinity"));return n.eq(kr)?new r(0):(Rt=!1,e=Wa(Ch(n,o),Ch(t,o),o),Rt=!0,bt(e,a))};Ee.minus=Ee.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?h4(e,t):c4(e,(t.s=-t.s,t))};Ee.modulo=Ee.mod=function(t){var e,n=this,r=n.constructor,a=r.precision;if(t=new r(t),!t.s)throw Error(li+"NaN");return n.s?(Rt=!1,e=Wa(n,t,0,1).times(t),Rt=!0,n.minus(e)):bt(new r(n),a)};Ee.naturalExponential=Ee.exp=function(){return f4(this)};Ee.naturalLogarithm=Ee.ln=function(){return Ch(this)};Ee.negated=Ee.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ee.plus=Ee.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?c4(e,t):h4(e,(t.s=-t.s,t))};Ee.precision=Ee.sd=function(t){var e,n,r,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Tl+t);if(e=cn(a)+1,r=a.d.length-1,n=r*xt+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ee.squareRoot=Ee.sqrt=function(){var t,e,n,r,a,o,l,c=this,f=c.constructor;if(c.s<1){if(!c.s)return new f(0);throw Error(li+"NaN")}for(t=cn(c),Rt=!1,a=Math.sqrt(+c),a==0||a==1/0?(e=la(c.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=wc((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(a.toString()),n=f.precision,a=l=n+3;;)if(o=r,r=o.plus(Wa(c,o,l+2)).times(.5),la(o.d).slice(0,l)===(e=la(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),a==l&&e=="4999"){if(bt(o,n+1,0),o.times(o).eq(c)){r=o;break}}else if(e!="9999")break;l+=4}return Rt=!0,bt(r,n)};Ee.times=Ee.mul=function(t){var e,n,r,a,o,l,c,f,d,p=this,m=p.constructor,v=p.d,_=(t=new m(t)).d;if(!p.s||!t.s)return new m(0);for(t.s*=p.s,n=p.e+t.e,f=v.length,d=_.length,f<d&&(o=v,v=_,_=o,l=f,f=d,d=l),o=[],l=f+d,r=l;r--;)o.push(0);for(r=d;--r>=0;){for(e=0,a=f+r;a>r;)c=o[a]+_[r]*v[a-r-1]+e,o[a--]=c%Sn|0,e=c/Sn|0;o[a]=(o[a]+e)%Sn|0}for(;!o[--l];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Rt?bt(t,m.precision):t};Ee.toDecimalPlaces=Ee.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(_a(t,0,_c),e===void 0?e=r.rounding:_a(e,0,8),bt(n,t+cn(n)+1,e))};Ee.toExponential=function(t,e){var n,r=this,a=r.constructor;return t===void 0?n=Ml(r,!0):(_a(t,0,_c),e===void 0?e=a.rounding:_a(e,0,8),r=bt(new a(r),t+1,e),n=Ml(r,!0,t+1)),n};Ee.toFixed=function(t,e){var n,r,a=this,o=a.constructor;return t===void 0?Ml(a):(_a(t,0,_c),e===void 0?e=o.rounding:_a(e,0,8),r=bt(new o(a),t+cn(a)+1,e),n=Ml(r.abs(),!1,t+cn(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Ee.toInteger=Ee.toint=function(){var t=this,e=t.constructor;return bt(new e(t),cn(t)+1,e.rounding)};Ee.toNumber=function(){return+this};Ee.toPower=Ee.pow=function(t){var e,n,r,a,o,l,c=this,f=c.constructor,d=12,p=+(t=new f(t));if(!t.s)return new f(kr);if(c=new f(c),!c.s){if(t.s<1)throw Error(li+"Infinity");return c}if(c.eq(kr))return c;if(r=f.precision,t.eq(kr))return bt(c,r);if(e=t.e,n=t.d.length-1,l=e>=n,o=c.s,l){if((n=p<0?-p:p)<=u4){for(a=new f(kr),e=Math.ceil(r/xt+4),Rt=!1;n%2&&(a=a.times(c),g2(a.d,e)),n=wc(n/2),n!==0;)c=c.times(c),g2(c.d,e);return Rt=!0,t.s<0?new f(kr).div(a):bt(a,r)}}else if(o<0)throw Error(li+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,Rt=!1,a=t.times(Ch(c,r+d)),Rt=!0,a=f4(a),a.s=o,a};Ee.toPrecision=function(t,e){var n,r,a=this,o=a.constructor;return t===void 0?(n=cn(a),r=Ml(a,n<=o.toExpNeg||n>=o.toExpPos)):(_a(t,1,_c),e===void 0?e=o.rounding:_a(e,0,8),a=bt(new o(a),t,e),n=cn(a),r=Ml(a,t<=n||n<=o.toExpNeg,t)),r};Ee.toSignificantDigits=Ee.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(_a(t,1,_c),e===void 0?e=r.rounding:_a(e,0,8)),bt(new r(n),t,e)};Ee.toString=Ee.valueOf=Ee.val=Ee.toJSON=Ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=cn(t),n=t.constructor;return Ml(t,e<=n.toExpNeg||e>=n.toExpPos)};function c4(t,e){var n,r,a,o,l,c,f,d,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Rt?bt(e,m):e;if(f=t.d,d=e.d,l=t.e,a=e.e,f=f.slice(),o=l-a,o){for(o<0?(r=f,o=-o,c=d.length):(r=d,a=l,c=f.length),l=Math.ceil(m/xt),c=l>c?l+1:c+1,o>c&&(o=c,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(c=f.length,o=d.length,c-o<0&&(o=c,r=d,d=f,f=r),n=0;o;)n=(f[--o]=f[o]+d[o]+n)/Sn|0,f[o]%=Sn;for(n&&(f.unshift(n),++a),c=f.length;f[--c]==0;)f.pop();return e.d=f,e.e=a,Rt?bt(e,m):e}function _a(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Tl+t)}function la(t){var e,n,r,a=t.length-1,o="",l=t[0];if(a>0){for(o+=l,e=1;e<a;e++)r=t[e]+"",n=xt-r.length,n&&(o+=Qs(n)),o+=r;l=t[e],r=l+"",n=xt-r.length,n&&(o+=Qs(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var Wa=(function(){function t(r,a){var o,l=0,c=r.length;for(r=r.slice();c--;)o=r[c]*a+l,r[c]=o%Sn|0,l=o/Sn|0;return l&&r.unshift(l),r}function e(r,a,o,l){var c,f;if(o!=l)f=o>l?1:-1;else for(c=f=0;c<o;c++)if(r[c]!=a[c]){f=r[c]>a[c]?1:-1;break}return f}function n(r,a,o){for(var l=0;o--;)r[o]-=l,l=r[o]<a[o]?1:0,r[o]=l*Sn+r[o]-a[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,o,l){var c,f,d,p,m,v,_,w,T,S,P,k,R,z,H,F,C,D,L=r.constructor,q=r.s==a.s?1:-1,U=r.d,M=a.d;if(!r.s)return new L(r);if(!a.s)throw Error(li+"Division by zero");for(f=r.e-a.e,C=M.length,H=U.length,_=new L(q),w=_.d=[],d=0;M[d]==(U[d]||0);)++d;if(M[d]>(U[d]||0)&&--f,o==null?k=o=L.precision:l?k=o+(cn(r)-cn(a))+1:k=o,k<0)return new L(0);if(k=k/xt+2|0,d=0,C==1)for(p=0,M=M[0],k++;(d<H||p)&&k--;d++)R=p*Sn+(U[d]||0),w[d]=R/M|0,p=R%M|0;else{for(p=Sn/(M[0]+1)|0,p>1&&(M=t(M,p),U=t(U,p),C=M.length,H=U.length),z=C,T=U.slice(0,C),S=T.length;S<C;)T[S++]=0;D=M.slice(),D.unshift(0),F=M[0],M[1]>=Sn/2&&++F;do p=0,c=e(M,T,C,S),c<0?(P=T[0],C!=S&&(P=P*Sn+(T[1]||0)),p=P/F|0,p>1?(p>=Sn&&(p=Sn-1),m=t(M,p),v=m.length,S=T.length,c=e(m,T,v,S),c==1&&(p--,n(m,C<v?D:M,v))):(p==0&&(c=p=1),m=M.slice()),v=m.length,v<S&&m.unshift(0),n(T,m,S),c==-1&&(S=T.length,c=e(M,T,C,S),c<1&&(p++,n(T,C<S?D:M,S))),S=T.length):c===0&&(p++,T=[0]),w[d++]=p,c&&T[0]?T[S++]=U[z]||0:(T=[U[z]],S=1);while((z++<H||T[0]!==void 0)&&k--)}return w[0]||w.shift(),_.e=f,bt(_,l?o+cn(_)+1:o)}})();function f4(t,e){var n,r,a,o,l,c,f=0,d=0,p=t.constructor,m=p.precision;if(cn(t)>16)throw Error(fT+cn(t));if(!t.s)return new p(kr);for(Rt=!1,c=m,l=new p(.03125);t.abs().gte(.1);)t=t.times(l),d+=5;for(r=Math.log(fl(2,d))/Math.LN10*2+5|0,c+=r,n=a=o=new p(kr),p.precision=c;;){if(a=bt(a.times(t),c),n=n.times(++f),l=o.plus(Wa(a,n,c)),la(l.d).slice(0,c)===la(o.d).slice(0,c)){for(;d--;)o=bt(o.times(o),c);return p.precision=m,e==null?(Rt=!0,bt(o,m)):o}o=l}}function cn(t){for(var e=t.e*xt,n=t.d[0];n>=10;n/=10)e++;return e}function D_(t,e,n){if(e>t.LN10.sd())throw Rt=!0,n&&(t.precision=n),Error(li+"LN10 precision limit exceeded");return bt(new t(t.LN10),e)}function Qs(t){for(var e="";t--;)e+="0";return e}function Ch(t,e){var n,r,a,o,l,c,f,d,p,m=1,v=10,_=t,w=_.d,T=_.constructor,S=T.precision;if(_.s<1)throw Error(li+(_.s?"NaN":"-Infinity"));if(_.eq(kr))return new T(0);if(e==null?(Rt=!1,d=S):d=e,_.eq(10))return e==null&&(Rt=!0),D_(T,d);if(d+=v,T.precision=d,n=la(w),r=n.charAt(0),o=cn(_),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=la(_.d),r=n.charAt(0),m++;o=cn(_),r>1?(_=new T("0."+n),o++):_=new T(r+"."+n.slice(1))}else return f=D_(T,d+2,S).times(o+""),_=Ch(new T(r+"."+n.slice(1)),d-v).plus(f),T.precision=S,e==null?(Rt=!0,bt(_,S)):_;for(c=l=_=Wa(_.minus(kr),_.plus(kr),d),p=bt(_.times(_),d),a=3;;){if(l=bt(l.times(p),d),f=c.plus(Wa(l,new T(a),d)),la(f.d).slice(0,d)===la(c.d).slice(0,d))return c=c.times(2),o!==0&&(c=c.plus(D_(T,d+2,S).times(o+""))),c=Wa(c,new T(m),d),T.precision=S,e==null?(Rt=!0,bt(c,S)):c;c=f,a+=2}}function m2(t,e){var n,r,a;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(r,a),e){if(a-=r,n=n-r-1,t.e=wc(n/xt),t.d=[],r=(n+1)%xt,n<0&&(r+=xt),r<a){for(r&&t.d.push(+e.slice(0,r)),a-=xt;r<a;)t.d.push(+e.slice(r,r+=xt));e=e.slice(r),r=xt-e.length}else r-=a;for(;r--;)e+="0";if(t.d.push(+e),Rt&&(t.e>Sg||t.e<-Sg))throw Error(fT+n)}else t.s=0,t.e=0,t.d=[0];return t}function bt(t,e,n){var r,a,o,l,c,f,d,p,m=t.d;for(l=1,o=m[0];o>=10;o/=10)l++;if(r=e-l,r<0)r+=xt,a=e,d=m[p=0];else{if(p=Math.ceil((r+1)/xt),o=m.length,p>=o)return t;for(d=o=m[p],l=1;o>=10;o/=10)l++;r%=xt,a=r-xt+l}if(n!==void 0&&(o=fl(10,l-a-1),c=d/o%10|0,f=e<0||m[p+1]!==void 0||d%o,f=n<4?(c||f)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||f||n==6&&(r>0?a>0?d/fl(10,l-a):0:m[p-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return f?(o=cn(t),m.length=1,e=e-o-1,m[0]=fl(10,(xt-e%xt)%xt),t.e=wc(-e/xt)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=p,o=1,p--):(m.length=p+1,o=fl(10,xt-r),m[p]=a>0?(d/fl(10,l-a)%fl(10,a)|0)*o:0),f)for(;;)if(p==0){(m[0]+=o)==Sn&&(m[0]=1,++t.e);break}else{if(m[p]+=o,m[p]!=Sn)break;m[p--]=0,o=1}for(r=m.length;m[--r]===0;)m.pop();if(Rt&&(t.e>Sg||t.e<-Sg))throw Error(fT+cn(t));return t}function h4(t,e){var n,r,a,o,l,c,f,d,p,m,v=t.constructor,_=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),Rt?bt(e,_):e;if(f=t.d,m=e.d,r=e.e,d=t.e,f=f.slice(),l=d-r,l){for(p=l<0,p?(n=f,l=-l,c=m.length):(n=m,r=d,c=f.length),a=Math.max(Math.ceil(_/xt),c)+2,l>a&&(l=a,n.length=1),n.reverse(),a=l;a--;)n.push(0);n.reverse()}else{for(a=f.length,c=m.length,p=a<c,p&&(c=a),a=0;a<c;a++)if(f[a]!=m[a]){p=f[a]<m[a];break}l=0}for(p&&(n=f,f=m,m=n,e.s=-e.s),c=f.length,a=m.length-c;a>0;--a)f[c++]=0;for(a=m.length;a>l;){if(f[--a]<m[a]){for(o=a;o&&f[--o]===0;)f[o]=Sn-1;--f[o],f[a]+=Sn}f[a]-=m[a]}for(;f[--c]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,Rt?bt(e,_):e):new v(0)}function Ml(t,e,n){var r,a=cn(t),o=la(t.d),l=o.length;return e?(n&&(r=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+Qs(r):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+Qs(-a-1)+o,n&&(r=n-l)>0&&(o+=Qs(r))):a>=l?(o+=Qs(a+1-l),n&&(r=n-a-1)>0&&(o=o+"."+Qs(r))):((r=a+1)<l&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-l)>0&&(a+1===l&&(o+="."),o+=Qs(r))),t.s<0?"-"+o:o}function g2(t,e){if(t.length>e)return t.length=e,!0}function d4(t){var e,n,r;function a(o){var l=this;if(!(l instanceof a))return new a(o);if(l.constructor=a,o instanceof a){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Tl+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return m2(l,o.toString())}else if(typeof o!="string")throw Error(Tl+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,tJ.test(o))m2(l,o);else throw Error(Tl+o)}if(a.prototype=Ee,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=d4,a.config=a.set=nJ,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return a.config(t),a}function nJ(t){if(!t||typeof t!="object")throw Error(li+"Object expected");var e,n,r,a=["precision",1,_c,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((r=t[n=a[e]])!==void 0)if(wc(r)===r&&r>=a[e+1]&&r<=a[e+2])this[n]=r;else throw Error(Tl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Tl+n+": "+r);return this}var hT=d4(eJ);kr=new hT(1);const ft=hT;function p4(t){var e;return t===0?e=1:e=Math.floor(new ft(t).abs().log(10).toNumber())+1,e}function m4(t,e,n){for(var r=new ft(t),a=0,o=[];r.lt(e)&&a<1e5;)o.push(r.toNumber()),r=r.add(n),a++;return o}var g4=t=>{var[e,n]=t,[r,a]=[e,n];return e>n&&([r,a]=[n,e]),[r,a]},y4=(t,e,n)=>{if(t.lte(0))return new ft(0);var r=p4(t.toNumber()),a=new ft(10).pow(r),o=t.div(a),l=r!==1?.05:.1,c=new ft(Math.ceil(o.div(l).toNumber())).add(n).mul(l),f=c.mul(a);return e?new ft(f.toNumber()):new ft(Math.ceil(f.toNumber()))},rJ=(t,e,n)=>{var r=new ft(1),a=new ft(t);if(!a.isint()&&n){var o=Math.abs(t);o<1?(r=new ft(10).pow(p4(t)-1),a=new ft(Math.floor(a.div(r).toNumber())).mul(r)):o>1&&(a=new ft(Math.floor(t)))}else t===0?a=new ft(Math.floor((e-1)/2)):n||(a=new ft(Math.floor(t)));for(var l=Math.floor((e-1)/2),c=[],f=0;f<e;f++)c.push(a.add(new ft(f-l).mul(r)).toNumber());return c},v4=function(e,n,r,a){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new ft(0),tickMin:new ft(0),tickMax:new ft(0)};var l=y4(new ft(n).sub(e).div(r-1),a,o),c;e<=0&&n>=0?c=new ft(0):(c=new ft(e).add(n).div(2),c=c.sub(new ft(c).mod(l)));var f=Math.ceil(c.sub(e).div(l).toNumber()),d=Math.ceil(new ft(n).sub(c).div(l).toNumber()),p=f+d+1;return p>r?v4(e,n,r,a,o+1):(p<r&&(d=n>0?d+(r-p):d,f=n>0?f:f+(r-p)),{step:l,tickMin:c.sub(new ft(f).mul(l)),tickMax:c.add(new ft(d).mul(l))})},iJ=function(e){var[n,r]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(a,2),[c,f]=g4([n,r]);if(c===-1/0||f===1/0){var d=f===1/0?[c,...Array(a-1).fill(1/0)]:[...Array(a-1).fill(-1/0),f];return n>r?d.reverse():d}if(c===f)return rJ(c,a,o);var{step:p,tickMin:m,tickMax:v}=v4(c,f,l,o,0),_=m4(m,v.add(new ft(.1).mul(p)),p);return n>r?_.reverse():_},aJ=function(e,n){var[r,a]=e,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,c]=g4([r,a]);if(l===-1/0||c===1/0)return[r,a];if(l===c)return[l];var f=Math.max(n,2),d=y4(new ft(c).sub(l).div(f-1),o,0),p=[...m4(new ft(l),new ft(c),d),c];return o===!1&&(p=p.map(m=>Math.round(m))),r>a?p.reverse():p},sJ=t=>t.rootProps.barCategoryGap,Vy=t=>t.rootProps.stackOffset,b4=t=>t.rootProps.reverseStackOrder,dT=t=>t.options.chartName,pT=t=>t.rootProps.syncId,_4=t=>t.rootProps.syncMethod,mT=t=>t.options.eventEmitter,nr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ol={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},na={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},Uy=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function zy(t,e,n){if(n!=="auto")return n;if(t!=null)return ls(t,e)?"category":"number"}function y2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ag(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y2(Object(n),!0).forEach(function(r){oJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oJ(t,e,n){return(e=lJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lJ(t){var e=uJ(t,"string");return typeof e=="symbol"?e:e+""}function uJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var v2={allowDataOverflow:ol.allowDataOverflow,allowDecimals:ol.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ol.angleAxisId,includeHidden:!1,name:void 0,reversed:ol.reversed,scale:ol.scale,tick:ol.tick,tickCount:void 0,ticks:void 0,type:ol.type,unit:void 0},b2={allowDataOverflow:na.allowDataOverflow,allowDecimals:na.allowDecimals,allowDuplicatedCategory:na.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:na.radiusAxisId,includeHidden:na.includeHidden,name:void 0,reversed:na.reversed,scale:na.scale,tick:na.tick,tickCount:na.tickCount,ticks:void 0,type:na.type,unit:void 0},cJ=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},gT=ae([cJ,cL],(t,e)=>{var n;if(t!=null)return t;var r=(n=zy(e,"angleAxis",v2.type))!==null&&n!==void 0?n:"category";return Ag(Ag({},v2),{},{type:r})}),fJ=(t,e)=>t.polarAxis.radiusAxis[e],yT=ae([fJ,cL],(t,e)=>{var n;if(t!=null)return t;var r=(n=zy(e,"radiusAxis",b2.type))!==null&&n!==void 0?n:"category";return Ag(Ag({},b2),{},{type:r})}),By=t=>t.polarOptions,vT=ae([us,cs,Hn],uX),w4=ae([By,vT],(t,e)=>{if(t!=null)return Ao(t.innerRadius,e,0)}),E4=ae([By,vT],(t,e)=>{if(t!=null)return Ao(t.outerRadius,e,e*.8)}),hJ=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},T4=ae([By],hJ);ae([gT,T4],Uy);var S4=ae([vT,w4,E4],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ae([yT,S4],Uy);var A4=ae([Nt,By,w4,E4,us,cs],(t,e,n,r,a,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:c,startAngle:f,endAngle:d}=e;return{cx:Ao(l,a,a/2),cy:Ao(c,o,o/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:d,clockWise:!1}}}),On=(t,e)=>e,qy=(t,e,n)=>n;function x4(t){return t?.id}function O4(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:a,dataKey:o}=n,l=new Map;return t.forEach(c=>{var f,d=(f=c.data)!==null&&f!==void 0?f:r;if(!(d==null||d.length===0)){var p=x4(c);d.forEach((m,v)=>{var _=o==null||a?v:String(Bn(m,o,null)),w=Bn(m,c.dataKey,0),T;l.has(_)?T=l.get(_):T={},Object.assign(T,{[p]:w}),l.set(_,T)})}}),Array.from(l.values())}function bT(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var Fy=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Hy(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function dJ(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Cn=t=>{var e=Nt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Ec=t=>t.tooltip.settings.axisId;function pJ(t){if(t in Wf)return Wf[t]();var e="scale".concat(Hh(t));if(e in Wf)return Wf[e]()}function _2(t){var e=t.ticks,n=t.bandwidth,r=t.range(),a=[Math.min(...r),Math.max(...r)];return{domain:()=>t.domain(),range:(function(o){function l(){return o.apply(this,arguments)}return l.toString=function(){return o.toString()},l})(()=>a),rangeMin:()=>a[0],rangeMax:()=>a[1],isInRange(o){var l=a[0],c=a[1];return l<=c?o>=l&&o<=c:o>=c&&o<=l},bandwidth:n?()=>n.call(t):void 0,ticks:e?o=>e.call(t,o):void 0,map:(o,l)=>{var c=t(o);if(c!=null){if(t.bandwidth&&l!==null&&l!==void 0&&l.position){var f=t.bandwidth();switch(l.position){case"middle":c+=f/2;break;case"end":c+=f;break}}return c}}}}function w2(t,e,n){if(typeof t=="function")return _2(t.copy().domain(e).range(n));if(t!=null){var r=pJ(t);if(r!=null)return r.domain(e).range(n),_2(r)}}var mJ=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!as(e)){for(var n,r,a=0;a<e.length;a++){var o=e[a];rt(o)&&((n===void 0||o<n)&&(n=o),(r===void 0||o>r)&&(r=o))}return n!==void 0&&r!==void 0?[n,r]:void 0}return e}default:return e}};function E2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function xg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E2(Object(n),!0).forEach(function(r){gJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gJ(t,e,n){return(e=yJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yJ(t){var e=vJ(t,"string");return typeof e=="symbol"?e:e+""}function vJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iw=[0,"auto"],wn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},C4=(t,e)=>t.cartesianAxis.xAxis[e],hs=(t,e)=>{var n=C4(t,e);return n??wn},En={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:iw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Kh},I4=(t,e)=>t.cartesianAxis.yAxis[e],ds=(t,e)=>{var n=I4(t,e);return n??En},bJ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},_T=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??bJ},ar=(t,e,n)=>{switch(e){case"xAxis":return hs(t,n);case"yAxis":return ds(t,n);case"zAxis":return _T(t,n);case"angleAxis":return gT(t,n);case"radiusAxis":return yT(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},_J=(t,e,n)=>{switch(e){case"xAxis":return hs(t,n);case"yAxis":return ds(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},ed=(t,e,n)=>{switch(e){case"xAxis":return hs(t,n);case"yAxis":return ds(t,n);case"angleAxis":return gT(t,n);case"radiusAxis":return yT(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},P4=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function R4(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var D4=t=>t.graphicalItems.cartesianItems,wJ=ae([On,qy],R4),N4=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),td=ae([D4,ar,wJ],N4,{memoizeOptions:{resultEqualityCheck:Hy}}),k4=ae([td],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(bT)),M4=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),EJ=ae([td],M4),j4=t=>t.map(e=>e.data).filter(Boolean).flat(1),TJ=ae([td],j4,{memoizeOptions:{resultEqualityCheck:Hy}}),L4=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=e;return t.length>0?t:n.slice(r,a+1)},wT=ae([TJ,cT],L4),V4=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:Bn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(a=>({value:Bn(a,r)}))):t.map(r=>({value:r})),$y=ae([wT,ar,td],V4);function U4(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function _m(t){if(va(t)||t instanceof Date){var e=Number(t);if(rt(e))return e}}function T2(t){if(Array.isArray(t)){var e=[_m(t[0]),_m(t[1])];return as(e)?e:void 0}var n=_m(t);if(n!=null)return[n,n]}function ss(t){return t.map(_m).filter(br)}function SJ(t,e,n){return!n||typeof e!="number"||es(e)?[]:n.length?ss(n.flatMap(r=>{var a=Bn(t,r.dataKey),o,l;if(Array.isArray(a)?[o,l]=a:o=l=a,!(!rt(o)||!rt(l)))return[e-o,e+l]})):[]}var yn=t=>{var e=Cn(t),n=Ec(t);return ed(t,e,n)},nd=ae([yn],t=>t?.dataKey),AJ=ae([k4,cT,yn],O4),z4=(t,e,n,r)=>{var a={},o=e.reduce((l,c)=>{if(c.stackId==null)return l;var f=l[c.stackId];return f==null&&(f=[]),f.push(c),l[c.stackId]=f,l},a);return Object.fromEntries(Object.entries(o).map(l=>{var[c,f]=l,d=r?[...f].reverse():f,p=d.map(x4);return[c,{stackedData:tW(t,p,n),graphicalItems:d}]}))},xJ=ae([AJ,k4,Vy,b4],z4),B4=(t,e,n,r)=>{var{dataStartIndex:a,dataEndIndex:o}=e;if(r==null&&n!=="zAxis"){var l=iW(t,a,o);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},OJ=ae([ar],t=>t.allowDataOverflow),ET=t=>{var e;if(t==null||!("domain"in t))return iw;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=ss(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:iw},q4=ae([ar],ET),F4=ae([q4,OJ],l4),CJ=ae([xJ,Ro,On,F4],B4,{memoizeOptions:{resultEqualityCheck:Fy}}),TT=t=>t.errorBars,IJ=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>U4(n,r)),Og=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var o=a.flat(),l=Math.min(...o),c=Math.max(...o);return[l,c]}},H4=(t,e,n,r,a)=>{var o,l;if(n.length>0&&t.forEach(c=>{n.forEach(f=>{var d,p,m=(d=r[f.id])===null||d===void 0?void 0:d.filter(P=>U4(a,P)),v=Bn(c,(p=e.dataKey)!==null&&p!==void 0?p:f.dataKey),_=SJ(c,v,m);if(_.length>=2){var w=Math.min(..._),T=Math.max(..._);(o==null||w<o)&&(o=w),(l==null||T>l)&&(l=T)}var S=T2(v);S!=null&&(o=o==null?S[0]:Math.min(o,S[0]),l=l==null?S[1]:Math.max(l,S[1]))})}),e?.dataKey!=null&&t.forEach(c=>{var f=T2(Bn(c,e.dataKey));f!=null&&(o=o==null?f[0]:Math.min(o,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),rt(o)&&rt(l))return[o,l]},PJ=ae([wT,ar,EJ,TT,On],H4,{memoizeOptions:{resultEqualityCheck:Fy}});function RJ(t){var{value:e}=t;if(va(e)||e instanceof Date)return e}var DJ=(t,e,n)=>{var r=t.map(RJ).filter(a=>a!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&aj(r))?CL(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},$4=t=>t.referenceElements.dots,Tc=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),NJ=ae([$4,On,qy],Tc),G4=t=>t.referenceElements.areas,kJ=ae([G4,On,qy],Tc),K4=t=>t.referenceElements.lines,MJ=ae([K4,On,qy],Tc),W4=(t,e)=>{if(t!=null){var n=ss(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},jJ=ae(NJ,On,W4),Y4=(t,e)=>{if(t!=null){var n=ss(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},LJ=ae([kJ,On],Y4);function VJ(t){var e;if(t.x!=null)return ss([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:ss(n)}function UJ(t){var e;if(t.y!=null)return ss([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:ss(n)}var X4=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?VJ(r):UJ(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},zJ=ae([MJ,On],X4),BJ=ae(jJ,zJ,LJ,(t,e,n)=>Og(t,n,e)),Q4=(t,e,n,r,a,o,l,c)=>{if(n!=null)return n;var f=l==="vertical"&&c==="xAxis"||l==="horizontal"&&c==="yAxis",d=f?Og(r,o,a):Og(o,a);return JZ(e,d,t.allowDataOverflow)},qJ=ae([ar,q4,F4,CJ,PJ,BJ,Nt,On],Q4,{memoizeOptions:{resultEqualityCheck:Fy}}),FJ=[0,1],Z4=(t,e,n,r,a,o,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:c,type:f}=t,d=ls(e,o);if(d&&c==null){var p;return CL(0,(p=n?.length)!==null&&p!==void 0?p:0)}return f==="category"?DJ(r,t,d):a==="expand"?FJ:l}},ST=ae([ar,Nt,wT,$y,Vy,On,qJ],Z4);function HJ(t){return t in Wf}var J4=(t,e,n)=>{if(t!=null){var{scale:r,type:a}=t;if(r==="auto")return a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!e)?"point":a==="category"?"band":"linear";if(typeof r=="string"){var o="scale".concat(Hh(r));return HJ(o)?o:"point"}}},Sc=ae([ar,P4,dT],J4);function AT(t,e,n,r){if(!(n==null||r==null))return typeof t.scale=="function"?w2(t.scale,n,r):w2(e,n,r)}var e3=(t,e,n)=>{var r=ET(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&as(t))return iJ(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&as(t))return aJ(t,e.tickCount,e.allowDecimals)}},xT=ae([ST,ed,Sc],e3),t3=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&as(e)&&Array.isArray(n)&&n.length>0){var a,o,l=e[0],c=(a=n[0])!==null&&a!==void 0?a:0,f=e[1],d=(o=n[n.length-1])!==null&&o!==void 0?o:0;return[Math.min(l,c),Math.max(f,d)]}return e},$J=ae([ar,ST,xT,On],t3),GJ=ae($y,ar,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(ss(t.map(m=>m.value))).sort((m,v)=>m-v),a=r[0],o=r[r.length-1];if(a==null||o==null)return 1/0;var l=o-a;if(l===0)return 1/0;for(var c=0;c<r.length-1;c++){var f=r[c],d=r[c+1];if(!(f==null||d==null)){var p=d-f;n=Math.min(n,p)}}return n/l}}),n3=ae(GJ,Nt,sJ,Hn,(t,e,n,r,a)=>a,(t,e,n,r,a)=>{if(!rt(t))return 0;var o=e==="vertical"?r.height:r.width;if(a==="gap")return t*o/2;if(a==="no-gap"){var l=Ao(n,t*o),c=t*o/2;return c-l-(c-l)/o*l}return 0}),KJ=(t,e,n)=>{var r=hs(t,e);return r==null||typeof r.padding!="string"?0:n3(t,"xAxis",e,n,r.padding)},WJ=(t,e,n)=>{var r=ds(t,e);return r==null||typeof r.padding!="string"?0:n3(t,"yAxis",e,n,r.padding)},YJ=ae(hs,KJ,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:a}=t;return typeof a=="string"?{left:e,right:e}:{left:((n=a.left)!==null&&n!==void 0?n:0)+e,right:((r=a.right)!==null&&r!==void 0?r:0)+e}}),XJ=ae(ds,WJ,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:a}=t;return typeof a=="string"?{top:e,bottom:e}:{top:((n=a.top)!==null&&n!==void 0?n:0)+e,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+e}}),QJ=ae([Hn,YJ,xy,Ay,(t,e,n)=>n],(t,e,n,r,a)=>{var{padding:o}=r;return a?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),ZJ=ae([Hn,Nt,XJ,xy,Ay,(t,e,n)=>n],(t,e,n,r,a,o)=>{var{padding:l}=a;return o?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),rd=(t,e,n,r)=>{var a;switch(e){case"xAxis":return QJ(t,n,r);case"yAxis":return ZJ(t,n,r);case"zAxis":return(a=_T(t,n))===null||a===void 0?void 0:a.range;case"angleAxis":return T4(t);case"radiusAxis":return S4(t,n);default:return}},r3=ae([ar,rd],Uy),JJ=ae([Sc,$J],mJ),Gy=ae([ar,Sc,JJ,r3],AT);ae([td,TT,On],IJ);function i3(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Ky=(t,e)=>e,Wy=(t,e,n)=>n,eee=ae(Ty,Ky,Wy,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(i3)),tee=ae(Sy,Ky,Wy,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(i3)),a3=(t,e)=>({width:t.width,height:e.height}),nee=(t,e)=>{var n=typeof e.width=="number"?e.width:Kh;return{width:n,height:t.height}},ree=ae(Hn,hs,a3),iee=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},aee=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},see=ae(cs,Hn,eee,Ky,Wy,(t,e,n,r,a)=>{var o={},l;return n.forEach(c=>{var f=a3(e,c);l==null&&(l=iee(e,r,t));var d=r==="top"&&!a||r==="bottom"&&a;o[c.id]=l-Number(d)*f.height,l+=(d?-1:1)*f.height}),o}),oee=ae(us,Hn,tee,Ky,Wy,(t,e,n,r,a)=>{var o={},l;return n.forEach(c=>{var f=nee(e,c);l==null&&(l=aee(e,r,t));var d=r==="left"&&!a||r==="right"&&a;o[c.id]=l-Number(d)*f.width,l+=(d?-1:1)*f.width}),o}),lee=(t,e)=>{var n=hs(t,e);if(n!=null)return see(t,n.orientation,n.mirror)},uee=ae([Hn,hs,lee,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n?.[r];return a==null?{x:t.left,y:0}:{x:t.left,y:a}}}),cee=(t,e)=>{var n=ds(t,e);if(n!=null)return oee(t,n.orientation,n.mirror)},fee=ae([Hn,ds,cee,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n?.[r];return a==null?{x:0,y:t.top}:{x:a,y:t.top}}}),hee=ae(Hn,ds,(t,e)=>{var n=typeof e.width=="number"?e.width:Kh;return{width:n,height:t.height}}),s3=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:o,dataKey:l}=n,c=ls(t,r),f=e.map(d=>d.value);if(l&&c&&o==="category"&&a&&aj(f))return f}},OT=ae([Nt,$y,ar,On],s3),o3=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:o}=n,l=ls(t,r);if(l&&(a==="number"||o!=="auto"))return e.map(c=>c.value)}},CT=ae([Nt,$y,ed,On],o3),S2=ae([Nt,_J,Sc,Gy,OT,CT,rd,xT,On],(t,e,n,r,a,o,l,c,f)=>{if(e!=null){var d=ls(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:o,duplicateDomain:a,isCategorical:d,niceTicks:c,range:l,realScaleType:n,scale:r}}}),dee=(t,e,n,r,a,o,l,c,f)=>{if(!(e==null||r==null)){var d=ls(t,f),{type:p,ticks:m,tickCount:v}=e,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=p==="category"&&r.bandwidth?r.bandwidth()/_:0;w=f==="angleAxis"&&o!=null&&o.length>=2?ii(o[0]-o[1])*2*w:w;var T=m||a;return T?T.map((S,P)=>{var k=l?l.indexOf(S):S,R=r.map(k);return rt(R)?{index:P,coordinate:R+w,value:S,offset:w}:null}).filter(br):d&&c?c.map((S,P)=>{var k=r.map(S);return rt(k)?{coordinate:k+w,value:S,index:P,offset:w}:null}).filter(br):r.ticks?r.ticks(v).map((S,P)=>{var k=r.map(S);return rt(k)?{coordinate:k+w,value:S,index:P,offset:w}:null}).filter(br):r.domain().map((S,P)=>{var k=r.map(S);return rt(k)?{coordinate:k+w,value:l?l[S]:S,index:P,offset:w}:null}).filter(br)}},l3=ae([Nt,ed,Sc,Gy,xT,rd,OT,CT,On],dee),pee=(t,e,n,r,a,o,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var c=ls(t,l),{tickCount:f}=e,d=0;return d=l==="angleAxis"&&r?.length>=2?ii(r[0]-r[1])*2*d:d,c&&o?o.map((p,m)=>{var v=n.map(p);return rt(v)?{coordinate:v+d,value:p,index:m,offset:d}:null}).filter(br):n.ticks?n.ticks(f).map((p,m)=>{var v=n.map(p);return rt(v)?{coordinate:v+d,value:p,index:m,offset:d}:null}).filter(br):n.domain().map((p,m)=>{var v=n.map(p);return rt(v)?{coordinate:v+d,value:a?a[p]:p,index:m,offset:d}:null}).filter(br)}},u3=ae([Nt,ed,Gy,rd,OT,CT,On],pee),c3=ae(ar,Gy,(t,e)=>{if(!(t==null||e==null))return xg(xg({},t),{},{scale:e})}),mee=ae([ar,Sc,ST,r3],AT);ae((t,e,n)=>_T(t,n),mee,(t,e)=>{if(!(t==null||e==null))return xg(xg({},t),{},{scale:e})});var gee=ae([Nt,Ty,Sy],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),f3=t=>t.options.defaultTooltipEventType,h3=t=>t.options.validateTooltipEventTypes;function d3(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function IT(t,e){var n=f3(t),r=h3(t);return d3(e,n,r)}function yee(t){return Pe(e=>IT(e,t))}var p3=(t,e)=>{var n,r=Number(e);if(!(es(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},vee=t=>t.tooltip.settings,ro={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},bee={itemInteraction:{click:ro,hover:ro},axisInteraction:{click:ro,hover:ro},keyboardInteraction:ro,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},m3=Er({name:"tooltip",initialState:bee,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Pt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,a=Pi(t).tooltipItemPayloads.indexOf(n);a>-1&&(t.tooltipItemPayloads[a]=r)},prepare:Pt()},removeTooltipEntrySettings:{reducer(t,e){var n=Pi(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Pt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:_ee,replaceTooltipEntrySettings:wee,removeTooltipEntrySettings:Eee,setTooltipSettingsState:Tee,setActiveMouseOverItemIndex:See,mouseLeaveItem:Mue,mouseLeaveChart:g3,setActiveClickItemIndex:jue,setMouseOverAxisIndex:y3,setMouseClickAxisIndex:Aee,setSyncInteraction:aw,setKeyboardInteraction:sw}=m3.actions,xee=m3.reducer;function A2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function rm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A2(Object(n),!0).forEach(function(r){Oee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oee(t,e,n){return(e=Cee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cee(t){var e=Iee(t,"string");return typeof e=="symbol"?e:e+""}function Iee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pee(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Ree(t){return t.index!=null}var v3=(t,e,n,r)=>{if(e==null)return ro;var a=Pee(t,e,n);if(a==null)return ro;if(a.active)return a;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(Ree(a)){if(o)return rm(rm({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return rm(rm({},ro),{},{coordinate:a.coordinate})};function Dee(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Nee(t,e){var n=Dee(t),r=e[0],a=e[1];if(n===void 0)return!1;var o=Math.min(r,a),l=Math.max(r,a);return n>=o&&n<=l}function kee(t,e,n){if(n==null||e==null)return!0;var r=Bn(t,e);return r==null||!as(n)?!0:Nee(r,n)}var PT=(t,e,n,r)=>{var a=t?.index;if(a==null)return null;var o=Number(a);if(!rt(o))return a;var l=0,c=1/0;e.length>0&&(c=e.length-1);var f=Math.max(l,Math.min(o,c)),d=e[f];return d==null||kee(d,n,r)?String(f):null},b3=(t,e,n,r,a,o,l)=>{if(o!=null){var c=l[0],f=c?.getPosition(o);if(f!=null)return f;var d=a?.[Number(o)];if(d)return n==="horizontal"?{x:d.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:d.coordinate}}},_3=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var a;if(n==="hover"?a=t.itemInteraction.hover.graphicalItemId:a=t.itemInteraction.click.graphicalItemId,a==null&&r!=null){var o=t.tooltipItemPayloads[0];return o!=null?[o]:[]}return t.tooltipItemPayloads.filter(l=>{var c;return((c=l.settings)===null||c===void 0?void 0:c.graphicalItemId)===a})},w3=t=>t.options.tooltipPayloadSearcher,Ac=t=>t.tooltip;function x2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function O2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x2(Object(n),!0).forEach(function(r){Mee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mee(t,e,n){return(e=jee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jee(t){var e=Lee(t,"string");return typeof e=="symbol"?e:e+""}function Lee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vee(t,e){return t??e}var E3=(t,e,n,r,a,o,l)=>{if(!(e==null||o==null)){var{chartData:c,computedData:f,dataStartIndex:d,dataEndIndex:p}=n,m=[];return t.reduce((v,_)=>{var w,{dataDefinedOnItem:T,settings:S}=_,P=Vee(T,c),k=Array.isArray(P)?Qj(P,d,p):P,R=(w=S?.dataKey)!==null&&w!==void 0?w:r,z=S?.nameKey,H;if(r&&Array.isArray(k)&&!Array.isArray(k[0])&&l==="axis"?H=sj(k,r,a):H=o(k,e,f,z),Array.isArray(H))H.forEach(C=>{var D=O2(O2({},S),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});v.push(CP({tooltipEntrySettings:D,dataKey:C.dataKey,payload:C.payload,value:Bn(C.payload,C.dataKey),name:C.name}))});else{var F;v.push(CP({tooltipEntrySettings:S,dataKey:R,payload:H,value:Bn(H,R),name:(F=Bn(H,z))!==null&&F!==void 0?F:S?.name}))}return v},m)}},RT=ae([yn,P4,dT],J4),Uee=ae([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),zee=ae([Cn,Ec],R4),xc=ae([Uee,yn,zee],N4,{memoizeOptions:{resultEqualityCheck:Hy}}),Bee=ae([xc],t=>t.filter(bT)),qee=ae([xc],j4,{memoizeOptions:{resultEqualityCheck:Hy}}),Oc=ae([qee,Ro],L4),Fee=ae([Bee,Ro,yn],O4),DT=ae([Oc,yn,xc],V4),T3=ae([yn],ET),Hee=ae([yn],t=>t.allowDataOverflow),S3=ae([T3,Hee],l4),$ee=ae([xc],t=>t.filter(bT)),Gee=ae([Fee,$ee,Vy,b4],z4),Kee=ae([Gee,Ro,Cn,S3],B4),Wee=ae([xc],M4),Yee=ae([Oc,yn,Wee,TT,Cn],H4,{memoizeOptions:{resultEqualityCheck:Fy}}),Xee=ae([$4,Cn,Ec],Tc),Qee=ae([Xee,Cn],W4),Zee=ae([G4,Cn,Ec],Tc),Jee=ae([Zee,Cn],Y4),ete=ae([K4,Cn,Ec],Tc),tte=ae([ete,Cn],X4),nte=ae([Qee,tte,Jee],Og),rte=ae([yn,T3,S3,Kee,Yee,nte,Nt,Cn],Q4),id=ae([yn,Nt,Oc,DT,Vy,Cn,rte],Z4),ite=ae([id,yn,RT],e3),ate=ae([yn,id,ite,Cn],t3),A3=t=>{var e=Cn(t),n=Ec(t),r=!1;return rd(t,e,n,r)},x3=ae([yn,A3],Uy),O3=ae([yn,RT,ate,x3],AT),ste=ae([Nt,DT,yn,Cn],s3),ote=ae([Nt,DT,yn,Cn],o3),lte=(t,e,n,r,a,o,l,c)=>{if(e){var{type:f}=e,d=ls(t,c);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=f==="category"&&r.bandwidth?r.bandwidth()/p:0;return m=c==="angleAxis"&&a!=null&&a?.length>=2?ii(a[0]-a[1])*2*m:m,d&&l?l.map((v,_)=>{var w=r.map(v);return rt(w)?{coordinate:w+m,value:v,index:_,offset:m}:null}).filter(br):r.domain().map((v,_)=>{var w=r.map(v);return rt(w)?{coordinate:w+m,value:o?o[v]:v,index:_,offset:m}:null}).filter(br)}}},ps=ae([Nt,yn,RT,O3,A3,ste,ote,Cn],lte),NT=ae([f3,h3,vee],(t,e,n)=>d3(n.shared,t,e)),C3=t=>t.tooltip.settings.trigger,kT=t=>t.tooltip.settings.defaultIndex,ad=ae([Ac,NT,C3,kT],v3),Ih=ae([ad,Oc,nd,id],PT),I3=ae([ps,Ih],p3),ute=ae([ad],t=>{if(t)return t.dataKey});ae([ad],t=>{if(t)return t.graphicalItemId});var P3=ae([Ac,NT,C3,kT],_3),cte=ae([us,cs,Nt,Hn,ps,kT,P3],b3),fte=ae([ad,cte],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),hte=ae([ad],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),dte=ae([P3,Ih,Ro,nd,I3,w3,NT],E3),pte=ae([dte],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function C2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function I2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C2(Object(n),!0).forEach(function(r){mte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mte(t,e,n){return(e=gte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gte(t){var e=yte(t,"string");return typeof e=="symbol"?e:e+""}function yte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vte=()=>Pe(yn),bte=()=>{var t=vte(),e=Pe(ps),n=Pe(O3);return ig(!t||!n?void 0:I2(I2({},t),{},{scale:n}),e)};function P2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Nu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P2(Object(n),!0).forEach(function(r){_te(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _te(t,e,n){return(e=wte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wte(t){var e=Ete(t,"string");return typeof e=="symbol"?e:e+""}function Ete(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tte=(t,e,n,r)=>{var a=e.find(o=>o&&o.index===n);if(a){if(t==="horizontal")return{x:a.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}},Ste=(t,e,n,r)=>{var a=e.find(d=>d&&d.index===n);if(a){if(t==="centric"){var o=a.coordinate,{radius:l}=r;return Nu(Nu(Nu({},r),zn(r.cx,r.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,{angle:f}=r;return Nu(Nu(Nu({},r),zn(r.cx,r.cy,c,f)),{},{angle:f,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Ate(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var R3=(t,e,n,r,a)=>{var o,l=(o=e?.length)!==null&&o!==void 0?o:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<l;c++){var f,d,p,m,v,_=c>0?(f=n[c-1])===null||f===void 0?void 0:f.coordinate:(d=n[l-1])===null||d===void 0?void 0:d.coordinate,w=(p=n[c])===null||p===void 0?void 0:p.coordinate,T=c>=l-1?(m=n[0])===null||m===void 0?void 0:m.coordinate:(v=n[c+1])===null||v===void 0?void 0:v.coordinate,S=void 0;if(!(_==null||w==null||T==null))if(ii(w-_)!==ii(T-w)){var P=[];if(ii(T-w)===ii(a[1]-a[0])){S=T;var k=w+a[1]-a[0];P[0]=Math.min(k,(k+_)/2),P[1]=Math.max(k,(k+_)/2)}else{S=_;var R=T+a[1]-a[0];P[0]=Math.min(w,(R+w)/2),P[1]=Math.max(w,(R+w)/2)}var z=[Math.min(w,(S+w)/2),Math.max(w,(S+w)/2)];if(t>z[0]&&t<=z[1]||t>=P[0]&&t<=P[1]){var H;return(H=n[c])===null||H===void 0?void 0:H.index}}else{var F=Math.min(_,T),C=Math.max(_,T);if(t>(F+w)/2&&t<=(C+w)/2){var D;return(D=n[c])===null||D===void 0?void 0:D.index}}}else if(e)for(var L=0;L<l;L++){var q=e[L];if(q!=null){var U=e[L+1],M=e[L-1];if(L===0&&U!=null&&t<=(q.coordinate+U.coordinate)/2||L===l-1&&M!=null&&t>(q.coordinate+M.coordinate)/2||L>0&&L<l-1&&M!=null&&U!=null&&t>(q.coordinate+M.coordinate)/2&&t<=(q.coordinate+U.coordinate)/2)return q.index}}return-1},xte=()=>Pe(dT),MT=(t,e)=>e,D3=(t,e,n)=>n,jT=(t,e,n,r)=>r,Ote=ae(ps,t=>dy(t,e=>e.coordinate)),LT=ae([Ac,MT,D3,jT],v3),VT=ae([LT,Oc,nd,id],PT),Cte=(t,e,n)=>{if(e!=null){var r=Ac(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},N3=ae([Ac,MT,D3,jT],_3),Cg=ae([us,cs,Nt,Hn,ps,jT,N3],b3),Ite=ae([LT,Cg],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),k3=ae([ps,VT],p3),Pte=ae([N3,VT,Ro,nd,k3,w3,MT],E3),Rte=ae([LT,VT],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),Dte=(t,e,n,r,a,o,l)=>{if(!(!t||!n||!r||!a)&&Ate(t,l)){var c=aW(t,e),f=R3(c,o,a,n,r),d=Tte(e,a,f,t);return{activeIndex:String(f),activeCoordinate:d}}},Nte=(t,e,n,r,a,o,l)=>{if(!(!t||!r||!a||!o||!n)){var c=pX(t,n);if(c){var f=sW(c,e),d=R3(f,l,o,r,a),p=Ste(e,o,d,c);return{activeIndex:String(d),activeCoordinate:p}}}},kte=(t,e,n,r,a,o,l,c)=>{if(!(!t||!e||!r||!a||!o))return e==="horizontal"||e==="vertical"?Dte(t,e,r,a,o,l,c):Nte(t,e,n,r,a,o,l)},Mte=ae(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),jte=ae(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(nr)),n=Array.from(new Set(e));return n.sort((r,a)=>r-a)},{memoizeOptions:{resultEqualityCheck:dJ}});function R2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function D2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R2(Object(n),!0).forEach(function(r){Lte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lte(t,e,n){return(e=Vte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vte(t){var e=Ute(t,"string");return typeof e=="symbol"?e:e+""}function Ute(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zte={},Bte={zIndexMap:Object.values(nr).reduce((t,e)=>D2(D2({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),zte)},qte=new Set(Object.values(nr));function Fte(t){return qte.has(t)}var M3=Er({name:"zIndex",initialState:Bte,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Pt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Fte(n)&&delete t.zIndexMap[n])},prepare:Pt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:a}=e.payload;t.zIndexMap[n]?a?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:a?void 0:r,panoramaElement:a?r:void 0}},prepare:Pt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Pt()}}}),{registerZIndexPortal:Hte,unregisterZIndexPortal:$te,registerZIndexPortalElement:Gte,unregisterZIndexPortalElement:Kte}=M3.actions,Wte=M3.reducer;function ms(t){var{zIndex:e,children:n}=t,r=UW(),a=r&&e!==void 0&&e!==0,o=Tr(),l=An();x.useLayoutEffect(()=>a?(l(Hte({zIndex:e})),()=>{l($te({zIndex:e}))}):yc,[l,e,a]);var c=Pe(f=>Mte(f,e,o));return a?c?BM.createPortal(n,c):null:n}function ow(){return ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ow.apply(null,arguments)}function N2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function im(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N2(Object(n),!0).forEach(function(r){Yte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yte(t,e,n){return(e=Xte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xte(t){var e=Qte(t,"string");return typeof e=="symbol"?e:e+""}function Qte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zte(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return x.isValidElement(e)?x.cloneElement(e,r):x.createElement(n,r)}function Jte(t){var e,{coordinate:n,payload:r,index:a,offset:o,tooltipAxisBandSize:l,layout:c,cursor:f,tooltipEventType:d,chartName:p}=t,m=n,v=r,_=a;if(!f||!m||p!=="ScatterChart"&&d!=="axis")return null;var w,T,S;if(p==="ScatterChart")w=m,T=OY,S=nr.cursorLine;else if(p==="BarChart")w=CY(c,m,o,l),T=SL,S=nr.cursorRectangle;else if(c==="radial"&&uj(m)){var{cx:P,cy:k,radius:R,startAngle:z,endAngle:H}=AL(m);w={cx:P,cy:k,startAngle:z,endAngle:H,innerRadius:R,outerRadius:R},T=OL,S=nr.cursorLine}else w={points:vX(c,m,o)},T=bL,S=nr.cursorLine;var F=typeof f=="object"&&"className"in f?f.className:void 0,C=im(im(im(im({stroke:"#ccc",pointerEvents:"none"},o),w),ly(f)),{},{payload:v,payloadIndex:_,className:_t("recharts-tooltip-cursor",F)});return x.createElement(ms,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:S},x.createElement(Zte,{cursor:f,cursorComp:T,cursorProps:C}))}function ene(t){var e=bte(),n=sL(),r=vc(),a=xte();return e==null||n==null||r==null||a==null?null:x.createElement(Jte,ow({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:a}))}var j3=x.createContext(null),tne=()=>x.useContext(j3),N_={exports:{}},k2;function nne(){return k2||(k2=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(f,d,p){this.fn=f,this.context=d,this.once=p||!1}function o(f,d,p,m,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var _=new a(p,m||f,v),w=n?n+d:d;return f._events[w]?f._events[w].fn?f._events[w]=[f._events[w],_]:f._events[w].push(_):(f._events[w]=_,f._eventsCount++),f}function l(f,d){--f._eventsCount===0?f._events=new r:delete f._events[d]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],p,m;if(this._eventsCount===0)return d;for(m in p=this._events)e.call(p,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},c.prototype.listeners=function(d){var p=n?n+d:d,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,_=m.length,w=new Array(_);v<_;v++)w[v]=m[v].fn;return w},c.prototype.listenerCount=function(d){var p=n?n+d:d,m=this._events[p];return m?m.fn?1:m.length:0},c.prototype.emit=function(d,p,m,v,_,w){var T=n?n+d:d;if(!this._events[T])return!1;var S=this._events[T],P=arguments.length,k,R;if(S.fn){switch(S.once&&this.removeListener(d,S.fn,void 0,!0),P){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,p),!0;case 3:return S.fn.call(S.context,p,m),!0;case 4:return S.fn.call(S.context,p,m,v),!0;case 5:return S.fn.call(S.context,p,m,v,_),!0;case 6:return S.fn.call(S.context,p,m,v,_,w),!0}for(R=1,k=new Array(P-1);R<P;R++)k[R-1]=arguments[R];S.fn.apply(S.context,k)}else{var z=S.length,H;for(R=0;R<z;R++)switch(S[R].once&&this.removeListener(d,S[R].fn,void 0,!0),P){case 1:S[R].fn.call(S[R].context);break;case 2:S[R].fn.call(S[R].context,p);break;case 3:S[R].fn.call(S[R].context,p,m);break;case 4:S[R].fn.call(S[R].context,p,m,v);break;default:if(!k)for(H=1,k=new Array(P-1);H<P;H++)k[H-1]=arguments[H];S[R].fn.apply(S[R].context,k)}}return!0},c.prototype.on=function(d,p,m){return o(this,d,p,m,!1)},c.prototype.once=function(d,p,m){return o(this,d,p,m,!0)},c.prototype.removeListener=function(d,p,m,v){var _=n?n+d:d;if(!this._events[_])return this;if(!p)return l(this,_),this;var w=this._events[_];if(w.fn)w.fn===p&&(!v||w.once)&&(!m||w.context===m)&&l(this,_);else{for(var T=0,S=[],P=w.length;T<P;T++)(w[T].fn!==p||v&&!w[T].once||m&&w[T].context!==m)&&S.push(w[T]);S.length?this._events[_]=S.length===1?S[0]:S:l(this,_)}return this},c.prototype.removeAllListeners=function(d){var p;return d?(p=n?n+d:d,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(N_)),N_.exports}var rne=nne();const ine=os(rne);var Ph=new ine,lw="recharts.syncEvent.tooltip",M2="recharts.syncEvent.brush",ane=(t,e)=>{if(e&&Array.isArray(t)){var n=Number.parseInt(e,10);if(!es(n))return t[n]}},sne={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},L3=Er({name:"options",initialState:sne,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),one=L3.reducer,{createEventEmitter:lne}=L3.actions;function une(t){return t.tooltip.syncInteraction}var cne={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},V3=Er({name:"chartData",initialState:cne,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:j2,setDataStartEndIndexes:fne,setComputedData:Lue}=V3.actions,hne=V3.reducer,dne=["x","y"];function L2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ku(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L2(Object(n),!0).forEach(function(r){pne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pne(t,e,n){return(e=mne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mne(t){var e=gne(t,"string");return typeof e=="symbol"?e:e+""}function gne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yne(t,e){if(t==null)return{};var n,r,a=vne(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function vne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function bne(){var t=Pe(pT),e=Pe(mT),n=An(),r=Pe(_4),a=Pe(ps),o=vc(),l=Oy(),c=Pe(f=>f.rootProps.className);x.useEffect(()=>{if(t==null)return yc;var f=(d,p,m)=>{if(e!==m&&t===d){if(r==="index"){var v;if(l&&p!==null&&p!==void 0&&(v=p.payload)!==null&&v!==void 0&&v.coordinate&&p.payload.sourceViewBox){var _=p.payload.coordinate,{x:w,y:T}=_,S=yne(_,dne),{x:P,y:k,width:R,height:z}=p.payload.sourceViewBox,H=ku(ku({},S),{},{x:l.x+(R?(w-P)/R:0)*l.width,y:l.y+(z?(T-k)/z:0)*l.height});n(ku(ku({},p),{},{payload:ku(ku({},p.payload),{},{coordinate:H})}))}else n(p);return}if(a!=null){var F;if(typeof r=="function"){var C={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},D=r(a,C);F=a[D]}else r==="value"&&(F=a.find(Y=>String(Y.value)===p.payload.label));var{coordinate:L}=p.payload;if(F==null||p.payload.active===!1||L==null||l==null){n(aw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:q,y:U}=L,M=Math.min(q,l.x+l.width),V=Math.min(U,l.y+l.height),ge={x:o==="horizontal"?F.coordinate:M,y:o==="horizontal"?V:F.coordinate},ve=aw({active:p.payload.active,coordinate:ge,dataKey:p.payload.dataKey,index:String(F.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});n(ve)}}};return Ph.on(lw,f),()=>{Ph.off(lw,f)}},[c,n,e,t,r,a,o,l])}function _ne(){var t=Pe(pT),e=Pe(mT),n=An();x.useEffect(()=>{if(t==null)return yc;var r=(a,o,l)=>{e!==l&&t===a&&n(fne(o))};return Ph.on(M2,r),()=>{Ph.off(M2,r)}},[n,e,t])}function wne(){var t=An();x.useEffect(()=>{t(lne())},[t]),bne(),_ne()}function Ene(t,e,n,r,a,o){var l=Pe(_=>Cte(_,t,e)),c=Pe(mT),f=Pe(pT),d=Pe(_4),p=Pe(une),m=p?.active,v=Oy();x.useEffect(()=>{if(!m&&f!=null&&c!=null){var _=aw({active:o,coordinate:n,dataKey:l,index:a,label:typeof r=="number"?String(r):r,sourceViewBox:v,graphicalItemId:void 0});Ph.emit(lw,f,_,c)}},[m,n,l,a,r,c,f,d,o,v])}function V2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function U2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V2(Object(n),!0).forEach(function(r){Tne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tne(t,e,n){return(e=Sne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sne(t){var e=Ane(t,"string");return typeof e=="symbol"?e:e+""}function Ane(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xne(t){return t.dataKey}function One(t,e){return x.isValidElement(t)?x.cloneElement(t,e):typeof t=="function"?x.createElement(t,e):x.createElement(sY,e)}var z2=[],Cne={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ine(t){var e,n,r=wr(t,Cne),{active:a,allowEscapeViewBox:o,animationDuration:l,animationEasing:c,content:f,filterNull:d,isAnimationActive:p,offset:m,payloadUniqBy:v,position:_,reverseDirection:w,useTranslate3d:T,wrapperStyle:S,cursor:P,shared:k,trigger:R,defaultIndex:z,portal:H,axisId:F}=r,C=An(),D=typeof z=="number"?String(z):z;x.useEffect(()=>{C(Tee({shared:k,trigger:R,axisId:F,active:a,defaultIndex:D}))},[C,k,R,F,a,D]);var L=Oy(),q=vL(),U=yee(k),{activeIndex:M,isActive:V}=(e=Pe(Ie=>Rte(Ie,U,R,D)))!==null&&e!==void 0?e:{},ge=Pe(Ie=>Pte(Ie,U,R,D)),ve=Pe(Ie=>k3(Ie,U,R,D)),Y=Pe(Ie=>Ite(Ie,U,R,D)),oe=ge,ne=tne(),Z=(n=a??V)!==null&&n!==void 0?n:!1,[W,B]=KG([oe,Z]),J=U==="axis"?ve:void 0;Ene(U,R,Y,J,M,Z);var fe=H??ne;if(fe==null||L==null||U==null)return null;var pe=oe??z2;Z||(pe=z2),d&&pe.length&&(pe=bG(pe.filter(Ie=>Ie.value!=null&&(Ie.hide!==!0||r.includeHidden)),v,xne));var xe=pe.length>0,De=x.createElement(dY,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:p,active:Z,coordinate:Y,hasPayload:xe,offset:m,position:_,reverseDirection:w,useTranslate3d:T,viewBox:L,wrapperStyle:S,lastBoundingBox:W,innerRef:B,hasPortalFromProps:!!H},One(f,U2(U2({},r),{},{payload:pe,label:J,active:Z,activeIndex:M,coordinate:Y,accessibilityLayer:q})));return x.createElement(x.Fragment,null,BM.createPortal(De,fe),Z&&x.createElement(ene,{cursor:P,tooltipEventType:U,coordinate:Y,payload:pe,index:M}))}function Pne(t,e,n){return(e=Rne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rne(t){var e=Dne(t,"string");return typeof e=="symbol"?e:e+""}function Dne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Nne{constructor(e){Pne(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function B2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function kne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B2(Object(n),!0).forEach(function(r){Mne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mne(t,e,n){return(e=jne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jne(t){var e=Lne(t,"string");return typeof e=="symbol"?e:e+""}function Lne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vne={cacheSize:2e3,enableCache:!0},U3=kne({},Vne),q2=new Nne(U3.cacheSize),Une={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},F2="recharts_measurement_span";function zne(t,e){var n=e.fontSize||"",r=e.fontFamily||"",a=e.fontWeight||"",o=e.fontStyle||"",l=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(o,"|").concat(l,"|").concat(c)}var H2=(t,e)=>{try{var n=document.getElementById(F2);n||(n=document.createElement("span"),n.setAttribute("id",F2),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Une,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},ih=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ry.isSsr)return{width:0,height:0};if(!U3.enableCache)return H2(e,n);var r=zne(e,n),a=q2.get(r);if(a)return a;var o=H2(e,n);return q2.set(r,o),o},z3;function Bne(t,e,n){return(e=qne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qne(t){var e=Fne(t,"string");return typeof e=="symbol"?e:e+""}function Fne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,G2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Hne=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$ne=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Gne={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Kne=["cm","mm","pt","pc","in","Q","px"];function Wne(t){return Kne.includes(t)}var Bu="NaN";function Yne(t,e){return t*Gne[e]}class jn{static parse(e){var n,[,r,a]=(n=$ne.exec(e))!==null&&n!==void 0?n:[];return r==null?jn.NaN:new jn(parseFloat(r),a??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,es(e)&&(this.unit=""),n!==""&&!Hne.test(n)&&(this.num=NaN,this.unit=""),Wne(n)&&(this.num=Yne(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new jn(NaN,""):new jn(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new jn(NaN,""):new jn(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new jn(NaN,""):new jn(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new jn(NaN,""):new jn(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return es(this.num)}}z3=jn;Bne(jn,"NaN",new z3(NaN,""));function B3(t){if(t==null||t.includes(Bu))return Bu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,a,o]=(n=$2.exec(e))!==null&&n!==void 0?n:[],l=jn.parse(r??""),c=jn.parse(o??""),f=a==="*"?l.multiply(c):l.divide(c);if(f.isNaN())return Bu;e=e.replace($2,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,p,m,v]=(d=G2.exec(e))!==null&&d!==void 0?d:[],_=jn.parse(p??""),w=jn.parse(v??""),T=m==="+"?_.add(w):_.subtract(w);if(T.isNaN())return Bu;e=e.replace(G2,T.toString())}return e}var K2=/\(([^()]*)\)/;function Xne(t){for(var e=t,n;(n=K2.exec(e))!=null;){var[,r]=n;e=e.replace(K2,B3(r))}return e}function Qne(t){var e=t.replace(/\s+/g,"");return e=Xne(e),e=B3(e),e}function Zne(t){try{return Qne(t)}catch{return Bu}}function k_(t){var e=Zne(t.slice(5,-1));return e===Bu?"":e}var Jne=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],ere=["dx","dy","angle","className","breakAll"];function uw(){return uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uw.apply(null,arguments)}function W2(t,e){if(t==null)return{};var n,r,a=tre(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function tre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var q3=/[ \f\n\r\t\v\u2028\u2029]+/,F3=t=>{var{children:e,breakAll:n,style:r}=t;try{var a=[];Fn(e)||(n?a=e.toString().split(""):a=e.toString().split(q3));var o=a.map(c=>({word:c,width:ih(c,r).width})),l=n?0:ih("",r).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}};function nre(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var H3=(t,e,n,r)=>t.reduce((a,o)=>{var{word:l,width:c}=o,f=a[a.length-1];if(f&&c!=null&&(e==null||r||f.width+c+n<Number(e)))f.words.push(l),f.width+=c+n;else{var d={words:[l],width:c};a.push(d)}return a},[]),$3=t=>t.reduce((e,n)=>e.width>n.width?e:n),rre="",Y2=(t,e,n,r,a,o,l,c)=>{var f=t.slice(0,e),d=F3({breakAll:n,style:r,children:f+rre});if(!d)return[!1,[]];var p=H3(d.wordsWithComputedWidth,o,l,c),m=p.length>a||$3(p).width>Number(o);return[m,p]},ire=(t,e,n,r,a)=>{var{maxLines:o,children:l,style:c,breakAll:f}=t,d=Ae(o),p=String(l),m=H3(e,r,n,a);if(!d||a)return m;var v=m.length>o||$3(m).width>Number(r);if(!v)return m;for(var _=0,w=p.length-1,T=0,S;_<=w&&T<=p.length-1;){var P=Math.floor((_+w)/2),k=P-1,[R,z]=Y2(p,k,f,c,o,r,n,a),[H]=Y2(p,P,f,c,o,r,n,a);if(!R&&!H&&(_=P+1),R&&H&&(w=P-1),!R&&H){S=z;break}T++}return S||m},X2=t=>{var e=Fn(t)?[]:t.toString().split(q3);return[{words:e,width:void 0}]},are=t=>{var{width:e,scaleToFit:n,children:r,style:a,breakAll:o,maxLines:l}=t;if((e||n)&&!Ry.isSsr){var c,f,d=F3({breakAll:o,children:r,style:a});if(d){var{wordsWithComputedWidth:p,spaceWidth:m}=d;c=p,f=m}else return X2(r);return ire({breakAll:o,children:r,maxLines:l,style:a},c,f,e,!!n)}return X2(r)},G3="#808080",sre={angle:0,breakAll:!1,capHeight:"0.71em",fill:G3,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},UT=x.forwardRef((t,e)=>{var n=wr(t,sre),{x:r,y:a,lineHeight:o,capHeight:l,fill:c,scaleToFit:f,textAnchor:d,verticalAnchor:p}=n,m=W2(n,Jne),v=x.useMemo(()=>are({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:f,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,f,m.style,m.width]),{dx:_,dy:w,angle:T,className:S,breakAll:P}=m,k=W2(m,ere);if(!va(r)||!va(a)||v.length===0)return null;var R=Number(r)+(Ae(_)?_:0),z=Number(a)+(Ae(w)?w:0);if(!rt(R)||!rt(z))return null;var H;switch(p){case"start":H=k_("calc(".concat(l,")"));break;case"middle":H=k_("calc(".concat((v.length-1)/2," * -").concat(o," + (").concat(l," / 2))"));break;default:H=k_("calc(".concat(v.length-1," * -").concat(o,")"));break}var F=[],C=v[0];if(f&&C!=null){var D=C.width,{width:L}=m;F.push("scale(".concat(Ae(L)&&Ae(D)?L/D:1,")"))}return T&&F.push("rotate(".concat(T,", ").concat(R,", ").concat(z,")")),F.length&&(k.transform=F.join(" ")),x.createElement("text",uw({},rr(k),{ref:e,x:R,y:z,className:_t("recharts-text",S),textAnchor:d,fill:c.includes("url")?G3:c}),v.map((q,U)=>{var M=q.words.join(P?"":" ");return x.createElement("tspan",{x:R,dy:U===0?H:o,key:"".concat(M,"-").concat(U)},M)}))});UT.displayName="Text";function Q2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ra(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q2(Object(n),!0).forEach(function(r){ore(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ore(t,e,n){return(e=lre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lre(t){var e=ure(t,"string");return typeof e=="symbol"?e:e+""}function ure(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cre=t=>{var{viewBox:e,position:n,offset:r=0,parentViewBox:a}=t,{x:o,y:l,height:c,upperWidth:f,lowerWidth:d}=jE(e),p=o,m=o+(f-d)/2,v=(p+m)/2,_=(f+d)/2,w=p+f/2,T=c>=0?1:-1,S=T*r,P=T>0?"end":"start",k=T>0?"start":"end",R=f>=0?1:-1,z=R*r,H=R>0?"end":"start",F=R>0?"start":"end",C=a;if(n==="top"){var D={x:p+f/2,y:l-S,horizontalAnchor:"middle",verticalAnchor:P};return C&&(D.height=Math.max(l-C.y,0),D.width=f),D}if(n==="bottom"){var L={x:m+d/2,y:l+c+S,horizontalAnchor:"middle",verticalAnchor:k};return C&&(L.height=Math.max(C.y+C.height-(l+c),0),L.width=d),L}if(n==="left"){var q={x:v-z,y:l+c/2,horizontalAnchor:H,verticalAnchor:"middle"};return C&&(q.width=Math.max(q.x-C.x,0),q.height=c),q}if(n==="right"){var U={x:v+_+z,y:l+c/2,horizontalAnchor:F,verticalAnchor:"middle"};return C&&(U.width=Math.max(C.x+C.width-U.x,0),U.height=c),U}var M=C?{width:_,height:c}:{};return n==="insideLeft"?ra({x:v+z,y:l+c/2,horizontalAnchor:F,verticalAnchor:"middle"},M):n==="insideRight"?ra({x:v+_-z,y:l+c/2,horizontalAnchor:H,verticalAnchor:"middle"},M):n==="insideTop"?ra({x:p+f/2,y:l+S,horizontalAnchor:"middle",verticalAnchor:k},M):n==="insideBottom"?ra({x:m+d/2,y:l+c-S,horizontalAnchor:"middle",verticalAnchor:P},M):n==="insideTopLeft"?ra({x:p+z,y:l+S,horizontalAnchor:F,verticalAnchor:k},M):n==="insideTopRight"?ra({x:p+f-z,y:l+S,horizontalAnchor:H,verticalAnchor:k},M):n==="insideBottomLeft"?ra({x:m+z,y:l+c-S,horizontalAnchor:F,verticalAnchor:P},M):n==="insideBottomRight"?ra({x:m+d-z,y:l+c-S,horizontalAnchor:H,verticalAnchor:P},M):n&&typeof n=="object"&&(Ae(n.x)||Rl(n.x))&&(Ae(n.y)||Rl(n.y))?ra({x:o+Ao(n.x,_),y:l+Ao(n.y,c),horizontalAnchor:"end",verticalAnchor:"end"},M):ra({x:w,y:l+c/2,horizontalAnchor:"middle",verticalAnchor:"middle"},M)},fre=["labelRef"],hre=["content"];function Z2(t,e){if(t==null)return{};var n,r,a=dre(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function dre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function J2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Yf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J2(Object(n),!0).forEach(function(r){pre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pre(t,e,n){return(e=mre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mre(t){var e=gre(t,"string");return typeof e=="symbol"?e:e+""}function gre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fa(){return Fa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fa.apply(null,arguments)}var K3=x.createContext(null),yre=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:a,width:o,height:l,children:c}=t,f=x.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:a,width:o,height:l}),[e,n,r,a,o,l]);return x.createElement(K3.Provider,{value:f},c)},W3=()=>{var t=x.useContext(K3),e=Oy();return t||(e?jE(e):void 0)},vre=x.createContext(null),bre=()=>{var t=x.useContext(vre),e=Pe(A4);return t||e},_re=t=>{var{value:e,formatter:n}=t,r=Fn(t.children)?e:t.children;return typeof n=="function"?n(r):r},zT=t=>t!=null&&typeof t=="function",wre=(t,e)=>{var n=ii(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Ere=(t,e,n,r,a)=>{var{offset:o,className:l}=t,{cx:c,cy:f,innerRadius:d,outerRadius:p,startAngle:m,endAngle:v,clockWise:_}=a,w=(d+p)/2,T=wre(m,v),S=T>=0?1:-1,P,k;switch(e){case"insideStart":P=m+S*o,k=_;break;case"insideEnd":P=v-S*o,k=!_;break;case"end":P=v+S*o,k=_;break;default:throw new Error("Unsupported position ".concat(e))}k=T<=0?k:!k;var R=zn(c,f,w,P),z=zn(c,f,w,P+(k?1:-1)*359),H="M".concat(R.x,",").concat(R.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(k?0:1,`,
    `).concat(z.x,",").concat(z.y),F=Fn(t.id)?gh("recharts-radial-line-"):t.id;return x.createElement("text",Fa({},r,{dominantBaseline:"central",className:_t("recharts-radial-bar-label",l)}),x.createElement("defs",null,x.createElement("path",{id:F,d:H})),x.createElement("textPath",{xlinkHref:"#".concat(F)},n))},Tre=(t,e,n)=>{var{cx:r,cy:a,innerRadius:o,outerRadius:l,startAngle:c,endAngle:f}=t,d=(c+f)/2;if(n==="outside"){var{x:p,y:m}=zn(r,a,l+e,d);return{x:p,y:m,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var v=(o+l)/2,{x:_,y:w}=zn(r,a,v,d);return{x:_,y:w,textAnchor:"middle",verticalAnchor:"middle"}},wm=t=>t!=null&&"cx"in t&&Ae(t.cx),Sre={angle:0,offset:5,zIndex:nr.label,position:"middle",textBreakAll:!1};function Are(t){if(!wm(t))return t;var{cx:e,cy:n,outerRadius:r}=t,a=r*2;return{x:e-r,y:n-r,width:a,upperWidth:a,lowerWidth:a,height:a}}function Zs(t){var e=wr(t,Sre),{viewBox:n,parentViewBox:r,position:a,value:o,children:l,content:c,className:f="",textBreakAll:d,labelRef:p}=e,m=bre(),v=W3(),_=a==="center"?v:m??v,w,T,S;n==null?w=_:wm(n)?w=n:w=jE(n);var P=Are(w);if(!w||Fn(o)&&Fn(l)&&!x.isValidElement(c)&&typeof c!="function")return null;var k=Yf(Yf({},e),{},{viewBox:w});if(x.isValidElement(c)){var{labelRef:R}=k,z=Z2(k,fre);return x.cloneElement(c,z)}if(typeof c=="function"){var{content:H}=k,F=Z2(k,hre);if(T=x.createElement(c,F),x.isValidElement(T))return T}else T=_re(e);var C=rr(e);if(wm(w)){if(a==="insideStart"||a==="insideEnd"||a==="end")return Ere(e,a,T,C,w);S=Tre(w,e.offset,e.position)}else{if(!P)return null;var D=cre({viewBox:P,position:a,offset:e.offset,parentViewBox:wm(r)?void 0:r});S=Yf(Yf({x:D.x,y:D.y,textAnchor:D.horizontalAnchor,verticalAnchor:D.verticalAnchor},D.width!==void 0?{width:D.width}:{}),D.height!==void 0?{height:D.height}:{})}return x.createElement(ms,{zIndex:e.zIndex},x.createElement(UT,Fa({ref:p,className:_t("recharts-label",f)},C,S,{textAnchor:nre(C.textAnchor)?C.textAnchor:S.textAnchor,breakAll:d}),T))}Zs.displayName="Label";var xre=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?x.createElement(Zs,Fa({key:"label-implicit"},r)):va(t)?x.createElement(Zs,Fa({key:"label-implicit",value:t},r)):x.isValidElement(t)?t.type===Zs?x.cloneElement(t,Yf({key:"label-implicit"},r)):x.createElement(Zs,Fa({key:"label-implicit",content:t},r)):zT(t)?x.createElement(Zs,Fa({key:"label-implicit",content:t},r)):t&&typeof t=="object"?x.createElement(Zs,Fa({},t,{key:"label-implicit"},r)):null};function Ore(t){var{label:e,labelRef:n}=t,r=W3();return xre(e,r,n)||null}var M_={},j_={},eD;function Cre(){return eD||(eD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(j_)),j_}var L_={},tD;function Ire(){return tD||(tD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(L_)),L_}var nD;function Pre(){return nD||(nD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Cre(),n=Ire(),r=xE();function a(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=a})(M_)),M_}var V_,rD;function Rre(){return rD||(rD=1,V_=Pre().last),V_}var Dre=Rre();const Nre=os(Dre);var kre=["valueAccessor"],Mre=["dataKey","clockWise","id","textBreakAll","zIndex"];function Ig(){return Ig=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ig.apply(null,arguments)}function iD(t,e){if(t==null)return{};var n,r,a=jre(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function jre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Lre=t=>Array.isArray(t.value)?Nre(t.value):t.value,Y3=x.createContext(void 0),Vre=Y3.Provider,X3=x.createContext(void 0);X3.Provider;function Ure(){return x.useContext(Y3)}function zre(){return x.useContext(X3)}function Em(t){var{valueAccessor:e=Lre}=t,n=iD(t,kre),{dataKey:r,clockWise:a,id:o,textBreakAll:l,zIndex:c}=n,f=iD(n,Mre),d=Ure(),p=zre(),m=d||p;return!m||!m.length?null:x.createElement(ms,{zIndex:c??nr.label},x.createElement(So,{className:"recharts-label-list"},m.map((v,_)=>{var w,T=Fn(r)?e(v,_):Bn(v.payload,r),S=Fn(o)?{}:{id:"".concat(o,"-").concat(_)};return x.createElement(Zs,Ig({key:"label-".concat(_)},rr(v),f,S,{fill:(w=n.fill)!==null&&w!==void 0?w:v.fill,parentViewBox:v.parentViewBox,value:T,textBreakAll:l,viewBox:v.viewBox,index:_,zIndex:0}))})))}Em.displayName="LabelList";function Bre(t){var{label:e}=t;return e?e===!0?x.createElement(Em,{key:"labelList-implicit"}):x.isValidElement(e)||zT(e)?x.createElement(Em,{key:"labelList-implicit",content:e}):typeof e=="object"?x.createElement(Em,Ig({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function cw(){return cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cw.apply(null,arguments)}var Q3=t=>{var{cx:e,cy:n,r,className:a}=t,o=_t("recharts-dot",a);return Ae(e)&&Ae(n)&&Ae(r)?x.createElement("circle",cw({},ya(t),AE(t),{className:o,cx:e,cy:n,r})):null},qre={radiusAxis:{},angleAxis:{}},Z3=Er({name:"polarAxis",initialState:qre,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Vue,removeRadiusAxis:Uue,addAngleAxis:zue,removeAngleAxis:Bue}=Z3.actions,Fre=Z3.reducer;function Hre(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var J3=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,U_={},aD;function $re(){return aD||(aD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(U_)),U_}var z_,sD;function Gre(){return sD||(sD=1,z_=$re().isPlainObject),z_}var Kre=Gre();const Wre=os(Kre);var oD,lD,uD,cD,fD;function hD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function dD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hD(Object(n),!0).forEach(function(r){Yre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yre(t,e,n){return(e=Xre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xre(t){var e=Qre(t,"string");return typeof e=="symbol"?e:e+""}function Qre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pg(){return Pg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pg.apply(null,arguments)}function qf(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var pD=(t,e,n,r,a)=>{var o=n-r,l;return l=Vt(oD||(oD=qf(["M ",",",""])),t,e),l+=Vt(lD||(lD=qf(["L ",",",""])),t+n,e),l+=Vt(uD||(uD=qf(["L ",",",""])),t+n-o/2,e+a),l+=Vt(cD||(cD=qf(["L ",",",""])),t+n-o/2-r,e+a),l+=Vt(fD||(fD=qf(["L ",","," Z"])),t,e),l},Zre={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Jre=t=>{var e=wr(t,Zre),{x:n,y:r,upperWidth:a,lowerWidth:o,height:l,className:c}=e,{animationEasing:f,animationDuration:d,animationBegin:p,isUpdateAnimationActive:m}=e,v=x.useRef(null),[_,w]=x.useState(-1),T=x.useRef(a),S=x.useRef(o),P=x.useRef(l),k=x.useRef(n),R=x.useRef(r),z=zE(t,"trapezoid-");if(x.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var ge=v.current.getTotalLength();ge&&w(ge)}catch{}},[]),n!==+n||r!==+r||a!==+a||o!==+o||l!==+l||a===0&&o===0||l===0)return null;var H=_t("recharts-trapezoid",c);if(!m)return x.createElement("g",null,x.createElement("path",Pg({},rr(e),{className:H,d:pD(n,r,a,o,l)})));var F=T.current,C=S.current,D=P.current,L=k.current,q=R.current,U="0px ".concat(_===-1?1:_,"px"),M="".concat(_,"px 0px"),V=_L(["strokeDasharray"],d,f);return x.createElement(UE,{animationId:z,key:z,canBegin:_>0,duration:d,easing:f,isActive:m,begin:p},ge=>{var ve=yr(F,a,ge),Y=yr(C,o,ge),oe=yr(D,l,ge),ne=yr(L,n,ge),Z=yr(q,r,ge);v.current&&(T.current=ve,S.current=Y,P.current=oe,k.current=ne,R.current=Z);var W=ge>0?{transition:V,strokeDasharray:M}:{strokeDasharray:U};return x.createElement("path",Pg({},rr(e),{className:H,d:pD(ne,Z,ve,Y,oe),ref:v,style:dD(dD({},W),e.style)}))})},eie=["option","shapeType","activeClassName"];function tie(t,e){if(t==null)return{};var n,r,a=nie(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function nie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function mD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Rg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mD(Object(n),!0).forEach(function(r){rie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rie(t,e,n){return(e=iie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iie(t){var e=aie(t,"string");return typeof e=="symbol"?e:e+""}function aie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sie(t,e){return Rg(Rg({},e),t)}function oie(t,e){return t==="symbols"}function gD(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return x.createElement(SL,n);case"trapezoid":return x.createElement(Jre,n);case"sector":return x.createElement(OL,n);case"symbols":if(oie(e))return x.createElement(lj,n);break;case"curve":return x.createElement(bL,n);default:return null}}function lie(t){return x.isValidElement(t)?t.props:t}function uie(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,a=tie(t,eie),o;if(x.isValidElement(e))o=x.cloneElement(e,Rg(Rg({},a),lie(e)));else if(typeof e=="function")o=e(a,a.index);else if(Wre(e)&&typeof e!="boolean"){var l=sie(e,a);o=x.createElement(gD,{shapeType:n,elementProps:l})}else{var c=a;o=x.createElement(gD,{shapeType:n,elementProps:c})}return a.isActive?x.createElement(So,{className:r},o):o}function cie(t){var{tooltipEntrySettings:e}=t,n=An(),r=Tr(),a=x.useRef(null);return x.useLayoutEffect(()=>{r||(a.current===null?n(_ee(e)):a.current!==e&&n(wee({prev:a.current,next:e})),a.current=e)},[e,n,r]),x.useLayoutEffect(()=>()=>{a.current&&(n(Eee(a.current)),a.current=null)},[n]),null}function fie(t){var{legendPayload:e}=t,n=An(),r=Tr(),a=x.useRef(null);return x.useLayoutEffect(()=>{r||(a.current===null?n(ZW(e)):a.current!==e&&n(JW({prev:a.current,next:e})),a.current=e)},[n,r,e]),x.useLayoutEffect(()=>()=>{a.current&&(n(eY(a.current)),a.current=null)},[n]),null}var B_,hie=()=>{var[t]=x.useState(()=>gh("uid-"));return t},die=(B_=EU.useId)!==null&&B_!==void 0?B_:hie;function pie(t,e){var n=die();return e||(t?"".concat(t,"-").concat(n):n)}var mie=x.createContext(void 0),gie=t=>{var{id:e,type:n,children:r}=t,a=pie("recharts-".concat(n),e);return x.createElement(mie.Provider,{value:a},r(a))},yie={cartesianItems:[],polarItems:[]},eV=Er({name:"graphicalItems",initialState:yie,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Pt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,a=Pi(t).cartesianItems.indexOf(n);a>-1&&(t.cartesianItems[a]=r)},prepare:Pt()},removeCartesianGraphicalItem:{reducer(t,e){var n=Pi(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Pt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Pt()},removePolarGraphicalItem:{reducer(t,e){var n=Pi(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Pt()}}}),{addCartesianGraphicalItem:vie,replaceCartesianGraphicalItem:bie,removeCartesianGraphicalItem:_ie,addPolarGraphicalItem:que,removePolarGraphicalItem:Fue}=eV.actions,wie=eV.reducer,Eie=t=>{var e=An(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?e(vie(t)):n.current!==t&&e(bie({prev:n.current,next:t})),n.current=t},[e,t]),x.useLayoutEffect(()=>()=>{n.current&&(e(_ie(n.current)),n.current=null)},[e]),null},Tie=x.memo(Eie),Sie=["points"];function yD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function q_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yD(Object(n),!0).forEach(function(r){Aie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aie(t,e,n){return(e=xie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xie(t){var e=Oie(t,"string");return typeof e=="symbol"?e:e+""}function Oie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dg(){return Dg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dg.apply(null,arguments)}function Cie(t,e){if(t==null)return{};var n,r,a=Iie(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Iie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Pie(t){var{option:e,dotProps:n,className:r}=t;if(x.isValidElement(e))return x.cloneElement(e,n);if(typeof e=="function")return e(n);var a=_t(r,typeof e!="boolean"?e.className:""),o=n??{},{points:l}=o,c=Cie(o,Sie);return x.createElement(Q3,Dg({},c,{className:a}))}function Rie(t,e){return t==null?!1:e?!0:t.length===1}function Die(t){var{points:e,dot:n,className:r,dotClassName:a,dataKey:o,baseProps:l,needClip:c,clipPathId:f,zIndex:d=nr.scatter}=t;if(!Rie(e,n))return null;var p=J3(n),m=HH(n),v=e.map((w,T)=>{var S,P,k=q_(q_(q_({r:3},l),m),{},{index:T,cx:(S=w.x)!==null&&S!==void 0?S:void 0,cy:(P=w.y)!==null&&P!==void 0?P:void 0,dataKey:o,value:w.value,payload:w.payload,points:e});return x.createElement(Pie,{key:"dot-".concat(T),option:n,dotProps:k,className:a})}),_={};return c&&f!=null&&(_.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(f,")")),x.createElement(ms,{zIndex:d},x.createElement(So,Dg({className:r},_),v))}function vD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function bD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vD(Object(n),!0).forEach(function(r){Nie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nie(t,e,n){return(e=kie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kie(t){var e=Mie(t,"string");return typeof e=="symbol"?e:e+""}function Mie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jie={xAxis:{},yAxis:{},zAxis:{}},tV=Er({name:"cartesianAxis",initialState:jie,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Pt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Pt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Pt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Pt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Pt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Pt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Pt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Pt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Pt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,a=t.yAxis[n];if(a){var o,l=a.widthHistory||[];if(l.length===3&&l[0]===l[2]&&r===l[1]&&r!==a.width&&Math.abs(r-((o=l[0])!==null&&o!==void 0?o:0))<=1)return;var c=[...l,r].slice(-3);t.yAxis[n]=bD(bD({},a),{},{width:r,widthHistory:c})}}}}),{addXAxis:Lie,replaceXAxis:Vie,removeXAxis:Uie,addYAxis:zie,replaceYAxis:Bie,removeYAxis:qie,addZAxis:Hue,replaceZAxis:$ue,removeZAxis:Gue,updateYAxisWidth:Fie}=tV.actions,Hie=tV.reducer,$ie=ae([Hn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Gie=ae([$ie,us,cs],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),BT=()=>Pe(Gie),Kie=()=>Pe(pte);function _D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function F_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_D(Object(n),!0).forEach(function(r){Wie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_D(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wie(t,e,n){return(e=Yie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yie(t){var e=Xie(t,"string");return typeof e=="symbol"?e:e+""}function Xie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qie=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:a,dataKey:o,clipPath:l}=t;if(a===!1||e.x==null||e.y==null)return null;var c={index:n,dataKey:o,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},f=F_(F_(F_({},c),ly(a)),AE(a)),d;return x.isValidElement(a)?d=x.cloneElement(a,f):typeof a=="function"?d=a(f):d=x.createElement(Q3,f),x.createElement(So,{className:"recharts-active-dot",clipPath:l},d)};function Zie(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:a,clipPath:o,zIndex:l=nr.activeDot}=t,c=Pe(Ih),f=Kie();if(e==null||f==null)return null;var d=e.find(p=>f.includes(p.payload));return Fn(d)?null:x.createElement(ms,{zIndex:l},x.createElement(Qie,{point:d,childIndex:Number(c),mainColor:n,dataKey:a,activeDot:r,clipPath:o}))}var Jie=t=>{var{chartData:e}=t,n=An(),r=Tr();return x.useEffect(()=>r?()=>{}:(n(j2(e)),()=>{n(j2(void 0))}),[e,n,r]),null},wD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},nV=Er({name:"brush",initialState:wD,reducers:{setBrushSettings(t,e){return e.payload==null?wD:e.payload}}}),{setBrushSettings:Kue}=nV.actions,eae=nV.reducer;function tae(t){return(t%180+180)%180}var nae=function(e){var{width:n,height:r}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=tae(a),l=o*Math.PI/180,c=Math.atan(r/n),f=l>c&&l<Math.PI-c?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},rae={dots:[],areas:[],lines:[]},rV=Er({name:"referenceElements",initialState:rae,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Pi(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Pi(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Pi(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Wue,removeDot:Yue,addArea:Xue,removeArea:Que,addLine:Zue,removeLine:Jue}=rV.actions,iae=rV.reducer,aae=x.createContext(void 0),sae=t=>{var{children:e}=t,[n]=x.useState("".concat(gh("recharts"),"-clip")),r=BT();if(r==null)return null;var{x:a,y:o,width:l,height:c}=r;return x.createElement(aae.Provider,{value:n},x.createElement("defs",null,x.createElement("clipPath",{id:n},x.createElement("rect",{x:a,y:o,height:c,width:l}))),e)};function iV(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var a=t[r];a!==void 0&&n.push(a)}return n}function oae(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return nae(r,n)}function lae(t,e,n){var r=n==="width",{x:a,y:o,width:l,height:c}=t;return e===1?{start:r?a:o,end:r?a+l:o+c}:{start:r?a+l:o+c,end:r?a:o}}function Rh(t,e,n,r,a){if(t*e<t*r||t*e>t*a)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-a)<=0}function uae(t,e){return iV(t,e+1)}function cae(t,e,n,r,a){for(var o=(r||[]).slice(),{start:l,end:c}=e,f=0,d=1,p=l,m=function(){var w=r?.[f];if(w===void 0)return{v:iV(r,d)};var T=f,S,P=()=>(S===void 0&&(S=n(w,T)),S),k=w.coordinate,R=f===0||Rh(t,k,P,p,c);R||(f=0,p=l,d+=1),R&&(p=k+t*(P()/2+a),f+=d)},v;d<=o.length;)if(v=m(),v)return v.v;return[]}function fae(t,e,n,r,a){var o=(r||[]).slice(),l=o.length;if(l===0)return[];for(var{start:c,end:f}=e,d=1;d<=l;d++){for(var p=(l-1)%d,m=c,v=!0,_=function(){var z=r[T];if(z==null)return 0;var H=T,F,C=()=>(F===void 0&&(F=n(z,H)),F),D=z.coordinate,L=T===p||Rh(t,D,C,m,f);if(!L)return v=!1,1;L&&(m=D+t*(C()/2+a))},w,T=p;T<l&&(w=_(),!(w!==0&&w===1));T+=d);if(v){for(var S=[],P=p;P<l;P+=d){var k=r[P];k!=null&&S.push(k)}return S}}return[]}function ED(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ED(Object(n),!0).forEach(function(r){hae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ED(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hae(t,e,n){return(e=dae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dae(t){var e=pae(t,"string");return typeof e=="symbol"?e:e+""}function pae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mae(t,e,n,r,a){for(var o=(r||[]).slice(),l=o.length,{start:c}=e,{end:f}=e,d=function(v){var _=o[v];if(_==null)return 1;var w=_,T,S=()=>(T===void 0&&(T=n(_,v)),T);if(v===l-1){var P=t*(w.coordinate+t*S()/2-f);o[v]=w=Kn(Kn({},w),{},{tickCoord:P>0?w.coordinate-P*t:w.coordinate})}else o[v]=w=Kn(Kn({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var k=Rh(t,w.tickCoord,S,c,f);k&&(f=w.tickCoord-t*(S()/2+a),o[v]=Kn(Kn({},w),{},{isShow:!0}))}},p=l-1;p>=0;p--)d(p);return o}function gae(t,e,n,r,a,o){var l=(r||[]).slice(),c=l.length,{start:f,end:d}=e;if(o){var p=r[c-1];if(p!=null){var m=n(p,c-1),v=t*(p.coordinate+t*m/2-d);if(l[c-1]=p=Kn(Kn({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate}),p.tickCoord!=null){var _=Rh(t,p.tickCoord,()=>m,f,d);_&&(d=p.tickCoord-t*(m/2+a),l[c-1]=Kn(Kn({},p),{},{isShow:!0}))}}}for(var w=o?c-1:c,T=function(k){var R=l[k];if(R==null)return 1;var z=R,H,F=()=>(H===void 0&&(H=n(R,k)),H);if(k===0){var C=t*(z.coordinate-t*F()/2-f);l[k]=z=Kn(Kn({},z),{},{tickCoord:C<0?z.coordinate-C*t:z.coordinate})}else l[k]=z=Kn(Kn({},z),{},{tickCoord:z.coordinate});if(z.tickCoord!=null){var D=Rh(t,z.tickCoord,F,f,d);D&&(f=z.tickCoord+t*(F()/2+a),l[k]=Kn(Kn({},z),{},{isShow:!0}))}},S=0;S<w;S++)T(S);return l}function qT(t,e,n){var{tick:r,ticks:a,viewBox:o,minTickGap:l,orientation:c,interval:f,tickFormatter:d,unit:p,angle:m}=t;if(!a||!a.length||!r)return[];if(Ae(f)||Ry.isSsr){var v;return(v=uae(a,Ae(f)?f:0))!==null&&v!==void 0?v:[]}var _=[],w=c==="top"||c==="bottom"?"width":"height",T=p&&w==="width"?ih(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=(H,F)=>{var C=typeof d=="function"?d(H.value,F):H.value;return w==="width"?oae(ih(C,{fontSize:e,letterSpacing:n}),T,m):ih(C,{fontSize:e,letterSpacing:n})[w]},P=a[0],k=a[1],R=a.length>=2&&P!=null&&k!=null?ii(k.coordinate-P.coordinate):1,z=lae(o,R,w);return f==="equidistantPreserveStart"?cae(R,z,S,a,l):f==="equidistantPreserveEnd"?fae(R,z,S,a,l):(f==="preserveStart"||f==="preserveStartEnd"?_=gae(R,z,S,a,l,f==="preserveStartEnd"):_=mae(R,z,S,a,l),_.filter(H=>H.isShow))}var yae=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:o=0}=t,l=0;if(e){Array.from(e).forEach(p=>{if(p){var m=p.getBoundingClientRect();m.width>l&&(l=m.width)}});var c=n?n.getBoundingClientRect().width:0,f=a+o,d=l+f+c+(n?r:0);return Math.round(d)}return 0},vae=["axisLine","width","height","className","hide","ticks","axisType"];function bae(t,e){if(t==null)return{};var n,r,a=_ae(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function _ae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jl(){return jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jl.apply(null,arguments)}function TD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Lt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TD(Object(n),!0).forEach(function(r){wae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wae(t,e,n){return(e=Eae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eae(t){var e=Tae(t,"string");return typeof e=="symbol"?e:e+""}function Tae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ya={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:nr.axis};function Sae(t){var{x:e,y:n,width:r,height:a,orientation:o,mirror:l,axisLine:c,otherSvgProps:f}=t;if(!c)return null;var d=Lt(Lt(Lt({},f),ya(c)),{},{fill:"none"});if(o==="top"||o==="bottom"){var p=+(o==="top"&&!l||o==="bottom"&&l);d=Lt(Lt({},d),{},{x1:e,y1:n+p*a,x2:e+r,y2:n+p*a})}else{var m=+(o==="left"&&!l||o==="right"&&l);d=Lt(Lt({},d),{},{x1:e+m*r,y1:n,x2:e+m*r,y2:n+a})}return x.createElement("line",jl({},d,{className:_t("recharts-cartesian-axis-line",hy(c,"className"))}))}function Aae(t,e,n,r,a,o,l,c,f){var d,p,m,v,_,w,T=c?-1:1,S=t.tickSize||l,P=Ae(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":d=p=t.coordinate,v=n+ +!c*a,m=v-T*S,w=m-T*f,_=P;break;case"left":m=v=t.coordinate,p=e+ +!c*r,d=p-T*S,_=d-T*f,w=P;break;case"right":m=v=t.coordinate,p=e+ +c*r,d=p+T*S,_=d+T*f,w=P;break;default:d=p=t.coordinate,v=n+ +c*a,m=v+T*S,w=m+T*f,_=P;break}return{line:{x1:d,y1:m,x2:p,y2:v},tick:{x:_,y:w}}}function xae(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Oae(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Cae(t){var{option:e,tickProps:n,value:r}=t,a,o=_t(n.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(e))a=x.cloneElement(e,Lt(Lt({},n),{},{className:o}));else if(typeof e=="function")a=e(Lt(Lt({},n),{},{className:o}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=_t(l,Hre(e))),a=x.createElement(UT,jl({},n,{className:l}),r)}return a}var Iae=x.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:a,stroke:o,tickFormatter:l,unit:c,padding:f,tickTextProps:d,orientation:p,mirror:m,x:v,y:_,width:w,height:T,tickSize:S,tickMargin:P,fontSize:k,letterSpacing:R,getTicksConfig:z,events:H,axisType:F}=t,C=qT(Lt(Lt({},z),{},{ticks:n}),k,R),D=xae(p,m),L=Oae(p,m),q=ya(z),U=ly(r),M={};typeof a=="object"&&(M=a);var V=Lt(Lt({},q),{},{fill:"none"},M),ge=C.map(oe=>Lt({entry:oe},Aae(oe,v,_,w,T,p,S,m,P))),ve=ge.map(oe=>{var{entry:ne,line:Z}=oe;return x.createElement(So,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ne.value,"-").concat(ne.coordinate,"-").concat(ne.tickCoord)},a&&x.createElement("line",jl({},V,Z,{className:_t("recharts-cartesian-axis-tick-line",hy(a,"className"))})))}),Y=ge.map((oe,ne)=>{var Z,W,{entry:B,tick:J}=oe,fe=Lt(Lt(Lt(Lt({verticalAnchor:L},q),{},{textAnchor:D,stroke:"none",fill:o},J),{},{index:ne,payload:B,visibleTicksCount:C.length,tickFormatter:l,padding:f},d),{},{angle:(Z=(W=d?.angle)!==null&&W!==void 0?W:q.angle)!==null&&Z!==void 0?Z:0}),pe=Lt(Lt({},fe),U);return x.createElement(So,jl({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(B.value,"-").concat(B.coordinate,"-").concat(B.tickCoord)},W$(H,B,ne)),r&&x.createElement(Cae,{option:r,tickProps:pe,value:"".concat(typeof l=="function"?l(B.value,ne):B.value).concat(c||"")}))});return x.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(F,"-ticks")},Y.length>0&&x.createElement(ms,{zIndex:nr.label},x.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(F,"-tick-labels"),ref:e},Y)),ve.length>0&&x.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(F,"-tick-lines")},ve))}),Pae=x.forwardRef((t,e)=>{var{axisLine:n,width:r,height:a,className:o,hide:l,ticks:c,axisType:f}=t,d=bae(t,vae),[p,m]=x.useState(""),[v,_]=x.useState(""),w=x.useRef(null);x.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var S;return yae({ticks:w.current,label:(S=t.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var T=x.useCallback(S=>{if(S){var P=S.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=P;var k=P[0];if(k){var R=window.getComputedStyle(k),z=R.fontSize,H=R.letterSpacing;(z!==p||H!==v)&&(m(z),_(H))}}},[p,v]);return l||r!=null&&r<=0||a!=null&&a<=0?null:x.createElement(ms,{zIndex:t.zIndex},x.createElement(So,{className:_t("recharts-cartesian-axis",o)},x.createElement(Sae,{x:t.x,y:t.y,width:r,height:a,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:ya(t)}),x.createElement(Iae,{ref:T,axisType:f,events:d,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:v,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:c,unit:t.unit,width:t.width,x:t.x,y:t.y}),x.createElement(yre,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},x.createElement(Ore,{label:t.label,labelRef:t.labelRef}),t.children)))}),FT=x.forwardRef((t,e)=>{var n=wr(t,Ya);return x.createElement(Pae,jl({},n,{ref:e}))});FT.displayName="CartesianAxis";var Rae=["x1","y1","x2","y2","key"],Dae=["offset"],Nae=["xAxisId","yAxisId"],kae=["xAxisId","yAxisId"];function SD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SD(Object(n),!0).forEach(function(r){Mae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mae(t,e,n){return(e=jae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jae(t){var e=Lae(t,"string");return typeof e=="symbol"?e:e+""}function Lae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yl(){return yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yl.apply(null,arguments)}function Ng(t,e){if(t==null)return{};var n,r,a=Vae(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Vae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Uae=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:a,width:o,height:l,ry:c}=t;return x.createElement("rect",{x:r,y:a,ry:c,width:o,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function aV(t){var{option:e,lineItemProps:n}=t,r;if(x.isValidElement(e))r=x.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var a,{x1:o,y1:l,x2:c,y2:f,key:d}=n,p=Ng(n,Rae),m=(a=ya(p))!==null&&a!==void 0?a:{},{offset:v}=m,_=Ng(m,Dae);r=x.createElement("line",yl({},_,{x1:o,y1:l,x2:c,y2:f,fill:"none",key:d}))}return r}function zae(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:o,yAxisId:l}=t,c=Ng(t,Nae),f=a.map((d,p)=>{var m=Yn(Yn({},c),{},{x1:e,y1:d,x2:e+n,y2:d,key:"line-".concat(p),index:p});return x.createElement(aV,{key:"line-".concat(p),option:r,lineItemProps:m})});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function Bae(t){var{y:e,height:n,vertical:r=!0,verticalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:o,yAxisId:l}=t,c=Ng(t,kae),f=a.map((d,p)=>{var m=Yn(Yn({},c),{},{x1:d,y1:e,x2:d,y2:e+n,key:"line-".concat(p),index:p});return x.createElement(aV,{option:r,lineItemProps:m,key:"line-".concat(p)})});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function qae(t){var{horizontalFill:e,fillOpacity:n,x:r,y:a,width:o,height:l,horizontalPoints:c,horizontal:f=!0}=t;if(!f||!e||!e.length||c==null)return null;var d=c.map(m=>Math.round(m+a-a)).sort((m,v)=>m-v);a!==d[0]&&d.unshift(0);var p=d.map((m,v)=>{var _=d[v+1],w=_==null,T=w?a+l-m:_-m;if(T<=0)return null;var S=v%e.length;return x.createElement("rect",{key:"react-".concat(v),y:m,x:r,height:T,width:o,stroke:"none",fill:e[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function Fae(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:a,y:o,width:l,height:c,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var d=f.map(m=>Math.round(m+a-a)).sort((m,v)=>m-v);a!==d[0]&&d.unshift(0);var p=d.map((m,v)=>{var _=d[v+1],w=_==null,T=w?a+l-m:_-m;if(T<=0)return null;var S=v%n.length;return x.createElement("rect",{key:"react-".concat(v),x:m,y:o,width:T,height:c,stroke:"none",fill:n[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Hae=(t,e)=>{var{xAxis:n,width:r,height:a,offset:o}=t;return Zj(qT(Yn(Yn(Yn({},Ya),n),{},{ticks:Jj(n),viewBox:{x:0,y:0,width:r,height:a}})),o.left,o.left+o.width,e)},$ae=(t,e)=>{var{yAxis:n,width:r,height:a,offset:o}=t;return Zj(qT(Yn(Yn(Yn({},Ya),n),{},{ticks:Jj(n),viewBox:{x:0,y:0,width:r,height:a}})),o.top,o.top+o.height,e)},Gae={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:nr.grid};function sV(t){var e=oL(),n=lL(),r=sL(),a=Yn(Yn({},wr(t,Gae)),{},{x:Ae(t.x)?t.x:r.left,y:Ae(t.y)?t.y:r.top,width:Ae(t.width)?t.width:r.width,height:Ae(t.height)?t.height:r.height}),{xAxisId:o,yAxisId:l,x:c,y:f,width:d,height:p,syncWithTicks:m,horizontalValues:v,verticalValues:_}=a,w=Tr(),T=Pe(L=>S2(L,"xAxis",o,w)),S=Pe(L=>S2(L,"yAxis",l,w));if(!ba(d)||!ba(p)||!Ae(c)||!Ae(f))return null;var P=a.verticalCoordinatesGenerator||Hae,k=a.horizontalCoordinatesGenerator||$ae,{horizontalPoints:R,verticalPoints:z}=a;if((!R||!R.length)&&typeof k=="function"){var H=v&&v.length,F=k({yAxis:S?Yn(Yn({},S),{},{ticks:H?v:S.ticks}):void 0,width:e??d,height:n??p,offset:r},H?!0:m);ag(Array.isArray(F),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof F,"]")),Array.isArray(F)&&(R=F)}if((!z||!z.length)&&typeof P=="function"){var C=_&&_.length,D=P({xAxis:T?Yn(Yn({},T),{},{ticks:C?_:T.ticks}):void 0,width:e??d,height:n??p,offset:r},C?!0:m);ag(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(z=D)}return x.createElement(ms,{zIndex:a.zIndex},x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(Uae,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),x.createElement(qae,yl({},a,{horizontalPoints:R})),x.createElement(Fae,yl({},a,{verticalPoints:z})),x.createElement(zae,yl({},a,{offset:r,horizontalPoints:R,xAxis:T,yAxis:S})),x.createElement(Bae,yl({},a,{offset:r,verticalPoints:z,xAxis:T,yAxis:S}))))}sV.displayName="CartesianGrid";var Kae={},oV=Er({name:"errorBars",initialState:Kae,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:a}=e.payload;t[n]&&(t[n]=t[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?a:o))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:ece,replaceErrorBar:tce,removeErrorBar:nce}=oV.actions,Wae=oV.reducer,Yae=["children"];function Xae(t,e){if(t==null)return{};var n,r,a=Qae(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Qae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Zae={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Jae=x.createContext(Zae);function ese(t){var{children:e}=t,n=Xae(t,Yae);return x.createElement(Jae.Provider,{value:n},e)}function lV(t,e){var n,r,a=Pe(d=>hs(d,t)),o=Pe(d=>ds(d,e)),l=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:wn.allowDataOverflow,c=(r=o?.allowDataOverflow)!==null&&r!==void 0?r:En.allowDataOverflow,f=l||c;return{needClip:f,needClipX:l,needClipY:c}}function tse(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,a=BT(),{needClipX:o,needClipY:l,needClip:c}=lV(e,n);if(!c||!a)return null;var{x:f,y:d,width:p,height:m}=a;return x.createElement("clipPath",{id:"clipPath-".concat(r)},x.createElement("rect",{x:o?f:f-p/2,y:l?d:d-m/2,width:o?p:p*2,height:l?m:m*2}))}var uV=(t,e,n,r)=>c3(t,"xAxis",e,r),cV=(t,e,n,r)=>u3(t,"xAxis",e,r),fV=(t,e,n,r)=>c3(t,"yAxis",n,r),hV=(t,e,n,r)=>u3(t,"yAxis",n,r),nse=ae([Nt,uV,fV,cV,hV],(t,e,n,r,a)=>ls(t,"xAxis")?ig(e,r,!1):ig(n,a,!1)),rse=(t,e,n,r,a)=>a;function ise(t){return t.type==="line"}var ase=ae([D4,rse],(t,e)=>t.filter(ise).find(n=>n.id===e)),sse=ae([Nt,uV,fV,cV,hV,ase,nse,cT],(t,e,n,r,a,o,l,c)=>{var{chartData:f,dataStartIndex:d,dataEndIndex:p}=c;if(!(o==null||e==null||n==null||r==null||a==null||r.length===0||a.length===0||l==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:m,data:v}=o,_;if(v!=null&&v.length>0?_=v:_=f?.slice(d,p+1),_!=null)return Kse({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:m,bandSize:l,displayedData:_})}});function ose(t){var e=ly(t),n=3,r=2;if(e!=null){var{r:a,strokeWidth:o}=e,l=Number(a),c=Number(o);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(c)||c<0)&&(c=r),{r:l,strokeWidth:c}}return{r:n,strokeWidth:r}}var H_={exports:{}},$_={};var AD;function lse(){if(AD)return $_;AD=1;var t=uc();function e(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,a=t.useRef,o=t.useEffect,l=t.useMemo,c=t.useDebugValue;return $_.useSyncExternalStoreWithSelector=function(f,d,p,m,v){var _=a(null);if(_.current===null){var w={hasValue:!1,value:null};_.current=w}else w=_.current;_=l(function(){function S(H){if(!P){if(P=!0,k=H,H=m(H),v!==void 0&&w.hasValue){var F=w.value;if(v(F,H))return R=F}return R=H}if(F=R,n(k,H))return F;var C=m(H);return v!==void 0&&v(F,C)?(k=H,F):(k=H,R=C)}var P=!1,k,R,z=p===void 0?null:p;return[function(){return S(d())},z===null?void 0:function(){return S(z())}]},[d,p,m,v]);var T=r(f,_[0],_[1]);return o(function(){w.hasValue=!0,w.value=T},[T]),c(T),T},$_}var xD;function use(){return xD||(xD=1,H_.exports=lse()),H_.exports}use();function cse(t){t()}function fse(){let t=null,e=null;return{clear(){t=null,e=null},notify(){cse(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!r||t===null||(r=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var OD={notify(){},get:()=>[]};function hse(t,e){let n,r=OD,a=0,o=!1;function l(T){p();const S=r.subscribe(T);let P=!1;return()=>{P||(P=!0,S(),m())}}function c(){r.notify()}function f(){w.onStateChange&&w.onStateChange()}function d(){return o}function p(){a++,n||(n=t.subscribe(f),r=fse())}function m(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=OD)}function v(){o||(o=!0,p())}function _(){o&&(o=!1,m())}const w={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:f,isSubscribed:d,trySubscribe:v,tryUnsubscribe:_,getListeners:()=>r};return w}var dse=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pse=dse(),mse=()=>typeof navigator<"u"&&navigator.product==="ReactNative",gse=mse(),yse=()=>pse||gse?x.useLayoutEffect:x.useEffect,vse=yse();function CD(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function bse(t,e){if(CD(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(e,n[a])||!CD(t[n[a]],e[n[a]]))return!1;return!0}var _se=Symbol.for("react-redux-context"),wse=typeof globalThis<"u"?globalThis:{};function Ese(){if(!x.createContext)return{};const t=wse[_se]??=new Map;let e=t.get(x.createContext);return e||(e=x.createContext(null),t.set(x.createContext,e)),e}var Tse=Ese();function Sse(t){const{children:e,context:n,serverState:r,store:a}=t,o=x.useMemo(()=>{const f=hse(a);return{store:a,subscription:f,getServerState:r?()=>r:void 0}},[a,r]),l=x.useMemo(()=>a.getState(),[a]);vse(()=>{const{subscription:f}=o;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==a.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[o,l]);const c=n||Tse;return x.createElement(c.Provider,{value:o},e)}var Ase=Sse,xse=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Ose(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function HT(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(xse.has(r)){if(t[r]==null&&e[r]==null)continue;if(!bse(t[r],e[r]))return!1}else if(!Ose(t[r],e[r]))return!1;return!0}var Cse=["id"],Ise=["type","layout","connectNulls","needClip","shape"],Pse=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Dh(){return Dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dh.apply(null,arguments)}function ID(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function aa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ID(Object(n),!0).forEach(function(r){Rse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ID(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rse(t,e,n){return(e=Dse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dse(t){var e=Nse(t,"string");return typeof e=="symbol"?e:e+""}function Nse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $T(t,e){if(t==null)return{};var n,r,a=kse(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function kse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Mse=t=>{var{dataKey:e,name:n,stroke:r,legendType:a,hide:o}=t;return[{inactive:o,dataKey:e,type:a,color:r,value:eL(n,e),payload:t}]},jse=x.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:a,fill:o,name:l,hide:c,unit:f,tooltipType:d,id:p}=t,m={dataDefinedOnItem:n,getPosition:yc,settings:{stroke:r,strokeWidth:a,fill:o,dataKey:e,nameKey:void 0,name:eL(l,e),hide:c,type:d,color:r,unit:f,graphicalItemId:p}};return x.createElement(cie,{tooltipEntrySettings:m})}),dV=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Lse(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],a=0;a<e;++a)r=[...r,...n];return r}var Vse=(t,e,n)=>{var r=n.reduce((_,w)=>_+w);if(!r)return dV(e,t);for(var a=Math.floor(t/r),o=t%r,l=e-t,c=[],f=0,d=0;f<n.length;d+=(p=n[f])!==null&&p!==void 0?p:0,++f){var p,m=n[f];if(m!=null&&d+m>o){c=[...n.slice(0,f),o-d];break}}var v=c.length%2===0?[0,l]:[l];return[...Lse(n,a),...c,...v].map(_=>"".concat(_,"px")).join(", ")};function Use(t){var{clipPathId:e,points:n,props:r}=t,{dot:a,dataKey:o,needClip:l}=r,{id:c}=r,f=$T(r,Cse),d=ya(f);return x.createElement(Die,{points:n,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:o,baseProps:d,needClip:l,clipPathId:e})}function zse(t){var{showLabels:e,children:n,points:r}=t,a=x.useMemo(()=>r?.map(o=>{var l,c,f={x:(l=o.x)!==null&&l!==void 0?l:0,y:(c=o.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return aa(aa({},f),{},{value:o.value,payload:o.payload,viewBox:f,parentViewBox:void 0,fill:void 0})}),[r]);return x.createElement(Vre,{value:e?a:void 0},n)}function PD(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:a,props:o}=t,{type:l,layout:c,connectNulls:f,needClip:d,shape:p}=o,m=$T(o,Ise),v=aa(aa({},rr(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(e,")"):void 0,points:r,type:l,layout:c,connectNulls:f,strokeDasharray:a??o.strokeDasharray});return x.createElement(x.Fragment,null,r?.length>1&&x.createElement(uie,Dh({shapeType:"curve",option:p},v,{pathRef:n})),x.createElement(Use,{points:r,clipPathId:e,props:o}))}function Bse(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function qse(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:a,longestAnimatedLengthRef:o}=t,{points:l,strokeDasharray:c,isAnimationActive:f,animationBegin:d,animationDuration:p,animationEasing:m,animateNewValues:v,width:_,height:w,onAnimationEnd:T,onAnimationStart:S}=n,P=a.current,k=zE(l,"recharts-line-"),R=x.useRef(k),[z,H]=x.useState(!1),F=!z,C=x.useCallback(()=>{typeof T=="function"&&T(),H(!1)},[T]),D=x.useCallback(()=>{typeof S=="function"&&S(),H(!0)},[S]),L=Bse(r.current),q=x.useRef(0);R.current!==k&&(q.current=o.current,R.current=k);var U=q.current;return x.createElement(zse,{points:l,showLabels:F},n.children,x.createElement(UE,{animationId:k,begin:d,duration:p,isActive:f,easing:m,onAnimationEnd:C,onAnimationStart:D,key:k},M=>{var V=yr(U,L+U,M),ge=Math.min(V,L),ve;if(f)if(c){var Y="".concat(c).split(/[,\s]+/gim).map(Z=>parseFloat(Z));ve=Vse(ge,L,Y)}else ve=dV(L,ge);else ve=c==null?void 0:String(c);if(M>0&&L>0&&(a.current=l,o.current=Math.max(o.current,ge)),P){var oe=P.length/l.length,ne=M===1?l:l.map((Z,W)=>{var B=Math.floor(W*oe);if(P[B]){var J=P[B];return aa(aa({},Z),{},{x:yr(J.x,Z.x,M),y:yr(J.y,Z.y,M)})}return v?aa(aa({},Z),{},{x:yr(_*2,Z.x,M),y:yr(w/2,Z.y,M)}):aa(aa({},Z),{},{x:Z.x,y:Z.y})});return a.current=ne,x.createElement(PD,{props:n,points:ne,clipPathId:e,pathRef:r,strokeDasharray:ve})}return x.createElement(PD,{props:n,points:l,clipPathId:e,pathRef:r,strokeDasharray:ve})}),x.createElement(Bre,{label:n.label}))}function Fse(t){var{clipPathId:e,props:n}=t,r=x.useRef(null),a=x.useRef(0),o=x.useRef(null);return x.createElement(qse,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:a,pathRef:o})}var Hse=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:Bn(t.payload,e)}};class $se extends x.Component{render(){var{hide:e,dot:n,points:r,className:a,xAxisId:o,yAxisId:l,top:c,left:f,width:d,height:p,id:m,needClip:v,zIndex:_}=this.props;if(e)return null;var w=_t("recharts-line",a),T=m,{r:S,strokeWidth:P}=ose(n),k=J3(n),R=S*2+P,z=v?"url(#clipPath-".concat(k?"":"dots-").concat(T,")"):void 0;return x.createElement(ms,{zIndex:_},x.createElement(So,{className:w},v&&x.createElement("defs",null,x.createElement(tse,{clipPathId:T,xAxisId:o,yAxisId:l}),!k&&x.createElement("clipPath",{id:"clipPath-dots-".concat(T)},x.createElement("rect",{x:f-R/2,y:c-R/2,width:d+R,height:p+R}))),x.createElement(ese,{xAxisId:o,yAxisId:l,data:r,dataPointFormatter:Hse,errorBarOffset:0},x.createElement(Fse,{props:this.props,clipPathId:T}))),x.createElement(Zie,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:z}))}}var pV={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:nr.line,type:"linear"};function Gse(t){var e=wr(t,pV),{activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:o,animationEasing:l,connectNulls:c,dot:f,hide:d,isAnimationActive:p,label:m,legendType:v,xAxisId:_,yAxisId:w,id:T}=e,S=$T(e,Pse),{needClip:P}=lV(_,w),k=BT(),R=vc(),z=Tr(),H=Pe(q=>sse(q,_,w,z,T));if(R!=="horizontal"&&R!=="vertical"||H==null||k==null)return null;var{height:F,width:C,x:D,y:L}=k;return x.createElement($se,Dh({},S,{id:T,connectNulls:c,dot:f,activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:o,animationEasing:l,isAnimationActive:p,hide:d,label:m,legendType:v,xAxisId:_,yAxisId:w,points:H,layout:R,height:F,width:C,left:D,top:L,needClip:P}))}function Kse(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:o,dataKey:l,bandSize:c,displayedData:f}=t;return f.map((d,p)=>{var m=Bn(d,l);if(e==="horizontal"){var v=AP({axis:n,ticks:a,bandSize:c,entry:d,index:p}),_=Fn(m)?null:r.scale.map(m);return{x:v,y:_??null,value:m,payload:d}}var w=Fn(m)?null:n.scale.map(m),T=AP({axis:r,ticks:o,bandSize:c,entry:d,index:p});return w==null||T==null?null:{x:w,y:T,value:m,payload:d}}).filter(Boolean)}function Wse(t){var e=wr(t,pV),n=Tr();return x.createElement(gie,{id:e.id,type:"line"},r=>x.createElement(x.Fragment,null,x.createElement(fie,{legendPayload:Mse(e)}),x.createElement(jse,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),x.createElement(Tie,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),x.createElement(Gse,Dh({},e,{id:r}))))}var mV=x.memo(Wse,HT);mV.displayName="Line";var Yse=["domain","range"],Xse=["domain","range"];function RD(t,e){if(t==null)return{};var n,r,a=Qse(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Qse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function DD(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function gV(t,e){if(t===e)return!0;var{domain:n,range:r}=t,a=RD(t,Yse),{domain:o,range:l}=e,c=RD(e,Xse);return!DD(n,o)||!DD(r,l)?!1:HT(a,c)}var Zse=["type"],Jse=["dangerouslySetInnerHTML","ticks","scale"],eoe=["id","scale"];function fw(){return fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fw.apply(null,arguments)}function ND(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function kD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ND(Object(n),!0).forEach(function(r){toe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ND(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function toe(t,e,n){return(e=noe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function noe(t){var e=roe(t,"string");return typeof e=="symbol"?e:e+""}function roe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hw(t,e){if(t==null)return{};var n,r,a=ioe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function ioe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function aoe(t){var e=An(),n=x.useRef(null),r=uL(),{type:a}=t,o=hw(t,Zse),l=zy(r,"xAxis",a),c=x.useMemo(()=>{if(l!=null)return kD(kD({},o),{},{type:l})},[o,l]);return x.useLayoutEffect(()=>{c!=null&&(n.current===null?e(Lie(c)):n.current!==c&&e(Vie({prev:n.current,next:c})),n.current=c)},[c,e]),x.useLayoutEffect(()=>()=>{n.current&&(e(Uie(n.current)),n.current=null)},[e]),null}var soe=t=>{var{xAxisId:e,className:n}=t,r=Pe(nL),a=Tr(),o="xAxis",l=Pe(P=>l3(P,o,e,a)),c=Pe(P=>ree(P,e)),f=Pe(P=>uee(P,e)),d=Pe(P=>C4(P,e));if(c==null||f==null||d==null)return null;var{dangerouslySetInnerHTML:p,ticks:m,scale:v}=t,_=hw(t,Jse),{id:w,scale:T}=d,S=hw(d,eoe);return x.createElement(FT,fw({},_,S,{x:f.x,y:f.y,width:c.width,height:c.height,className:_t("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:l,axisType:o}))},ooe={allowDataOverflow:wn.allowDataOverflow,allowDecimals:wn.allowDecimals,allowDuplicatedCategory:wn.allowDuplicatedCategory,angle:wn.angle,axisLine:Ya.axisLine,height:wn.height,hide:!1,includeHidden:wn.includeHidden,interval:wn.interval,label:!1,minTickGap:wn.minTickGap,mirror:wn.mirror,orientation:wn.orientation,padding:wn.padding,reversed:wn.reversed,scale:wn.scale,tick:wn.tick,tickCount:wn.tickCount,tickLine:Ya.tickLine,tickSize:Ya.tickSize,type:wn.type,xAxisId:0},loe=t=>{var e=wr(t,ooe);return x.createElement(x.Fragment,null,x.createElement(aoe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),x.createElement(soe,e))},yV=x.memo(loe,gV);yV.displayName="XAxis";var uoe=["type"],coe=["dangerouslySetInnerHTML","ticks","scale"],foe=["id","scale"];function dw(){return dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dw.apply(null,arguments)}function MD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function jD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MD(Object(n),!0).forEach(function(r){hoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hoe(t,e,n){return(e=doe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function doe(t){var e=poe(t,"string");return typeof e=="symbol"?e:e+""}function poe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pw(t,e){if(t==null)return{};var n,r,a=moe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function moe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function goe(t){var e=An(),n=x.useRef(null),r=uL(),{type:a}=t,o=pw(t,uoe),l=zy(r,"yAxis",a),c=x.useMemo(()=>{if(l!=null)return jD(jD({},o),{},{type:l})},[l,o]);return x.useLayoutEffect(()=>{c!=null&&(n.current===null?e(zie(c)):n.current!==c&&e(Bie({prev:n.current,next:c})),n.current=c)},[c,e]),x.useLayoutEffect(()=>()=>{n.current&&(e(qie(n.current)),n.current=null)},[e]),null}function yoe(t){var{yAxisId:e,className:n,width:r,label:a}=t,o=x.useRef(null),l=x.useRef(null),c=Pe(nL),f=Tr(),d=An(),p="yAxis",m=Pe(F=>hee(F,e)),v=Pe(F=>fee(F,e)),_=Pe(F=>l3(F,p,e,f)),w=Pe(F=>I4(F,e));if(x.useLayoutEffect(()=>{if(!(r!=="auto"||!m||zT(a)||x.isValidElement(a)||w==null)){var F=o.current;if(F){var C=F.getCalculatedWidth();Math.round(m.width)!==Math.round(C)&&d(Fie({id:e,width:C}))}}},[_,m,d,a,e,r,w]),m==null||v==null||w==null)return null;var{dangerouslySetInnerHTML:T,ticks:S,scale:P}=t,k=pw(t,coe),{id:R,scale:z}=w,H=pw(w,foe);return x.createElement(FT,dw({},k,H,{ref:o,labelRef:l,x:v.x,y:v.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:m.width,height:m.height,className:_t("recharts-".concat(p," ").concat(p),n),viewBox:c,ticks:_,axisType:p}))}var voe={allowDataOverflow:En.allowDataOverflow,allowDecimals:En.allowDecimals,allowDuplicatedCategory:En.allowDuplicatedCategory,angle:En.angle,axisLine:Ya.axisLine,hide:!1,includeHidden:En.includeHidden,interval:En.interval,label:!1,minTickGap:En.minTickGap,mirror:En.mirror,orientation:En.orientation,padding:En.padding,reversed:En.reversed,scale:En.scale,tick:En.tick,tickCount:En.tickCount,tickLine:Ya.tickLine,tickSize:Ya.tickSize,type:En.type,width:En.width,yAxisId:0},boe=t=>{var e=wr(t,voe);return x.createElement(x.Fragment,null,x.createElement(goe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),x.createElement(yoe,e))},vV=x.memo(boe,gV);vV.displayName="YAxis";var _oe=(t,e)=>e,GT=ae([_oe,Nt,A4,Cn,x3,ps,Ote,Hn],kte),KT=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},bV=oi("mouseClick"),_V=Gh();_V.startListening({actionCreator:bV,effect:(t,e)=>{var n=t.payload,r=GT(e.getState(),KT(n));r?.activeIndex!=null&&e.dispatch(Aee({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var mw=oi("mouseMove"),wV=Gh(),am=null;wV.startListening({actionCreator:mw,effect:(t,e)=>{var n=t.payload;am!==null&&cancelAnimationFrame(am);var r=KT(n);am=requestAnimationFrame(()=>{var a=e.getState(),o=IT(a,a.tooltip.settings.shared);if(o==="axis"){var l=GT(a,r);l?.activeIndex!=null?e.dispatch(y3({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(g3())}am=null})}});function woe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var LD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},EV=Er({name:"rootProps",initialState:LD,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:LD.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Eoe=EV.reducer,{updateOptions:Toe}=EV.actions,Soe=null,Aoe={updatePolarOptions:(t,e)=>e.payload},TV=Er({name:"polarOptions",initialState:Soe,reducers:Aoe}),{updatePolarOptions:rce}=TV.actions,xoe=TV.reducer,SV=oi("keyDown"),AV=oi("focus"),WT=Gh();WT.startListening({actionCreator:SV,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var l=PT(a,Oc(n),nd(n),id(n)),c=l==null?-1:Number(l);if(!(!Number.isFinite(c)||c<0)){var f=ps(n);if(o==="Enter"){var d=Cg(n,"axis","hover",String(a.index));e.dispatch(sw({active:!a.active,activeIndex:a.index,activeCoordinate:d}));return}var p=gee(n),m=p==="left-to-right"?1:-1,v=o==="ArrowRight"?1:-1,_=c+v*m;if(!(f==null||_>=f.length||_<0)){var w=Cg(n,"axis","hover",String(_));e.dispatch(sw({active:!0,activeIndex:_.toString(),activeCoordinate:w}))}}}}}});WT.startListening({actionCreator:AV,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var o="0",l=Cg(n,"axis","hover",String(o));e.dispatch(sw({active:!0,activeIndex:o,activeCoordinate:l}))}}}});var ti=oi("externalEvent"),xV=Gh(),G_=new Map;xV.startListening({actionCreator:ti,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var a=r.type,o=G_.get(a);o!==void 0&&cancelAnimationFrame(o);var l=requestAnimationFrame(()=>{try{var c=e.getState(),f={activeCoordinate:fte(c),activeDataKey:ute(c),activeIndex:Ih(c),activeLabel:I3(c),activeTooltipIndex:Ih(c),isTooltipActive:hte(c)};n(f,r)}finally{G_.delete(a)}});G_.set(a,l)}}});var Ooe=ae([Ac],t=>t.tooltipItemPayloads),Coe=ae([Ooe,(t,e)=>e,(t,e,n)=>n],(t,e,n)=>{if(e!=null){var r=t.find(o=>o.settings.graphicalItemId===n);if(r!=null){var{getPosition:a}=r;if(a!=null)return a(e)}}}),OV=oi("touchMove"),CV=Gh();CV.startListening({actionCreator:OV,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),a=IT(r,r.tooltip.settings.shared);if(a==="axis"){var o=n.touches[0];if(o==null)return;var l=GT(r,KT({clientX:o.clientX,clientY:o.clientY,currentTarget:n.currentTarget}));l?.activeIndex!=null&&e.dispatch(y3({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(a==="item"){var c,f=n.touches[0];if(document.elementFromPoint==null||f==null)return;var d=document.elementFromPoint(f.clientX,f.clientY);if(!d||!d.getAttribute)return;var p=d.getAttribute(lW),m=(c=d.getAttribute(uW))!==null&&c!==void 0?c:void 0,v=xc(r).find(T=>T.id===m);if(p==null||v==null||m==null)return;var{dataKey:_}=v,w=Coe(r,p,m);e.dispatch(See({activeDataKey:_,activeIndex:p,activeCoordinate:w,activeGraphicalItemId:m}))}}}});var Ioe=Tj({brush:eae,cartesianAxis:Hie,chartData:hne,errorBars:Wae,graphicalItems:wie,layout:KK,legend:tY,options:one,polarAxis:Fre,polarOptions:xoe,referenceElements:iae,rootProps:Eoe,tooltip:xee,zIndex:Wte}),Poe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return vK({reducer:Ioe,preloadedState:e,middleware:r=>{var a;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([_V.middleware,wV.middleware,WT.middleware,xV.middleware,CV.middleware])},enhancers:r=>{var a=r;return typeof r=="function"&&(a=r()),a.concat(Vj({type:"raf"}))},devTools:{serialize:{replacer:woe},name:"recharts-".concat(n)}})};function Roe(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,a=Tr(),o=x.useRef(null);if(a)return n;o.current==null&&(o.current=Poe(e,r));var l=CE;return x.createElement(Ase,{context:l,store:o.current},n)}function Doe(t){var{layout:e,margin:n}=t,r=An(),a=Tr();return x.useEffect(()=>{a||(r(HK(e)),r(FK(n)))},[r,a,e,n]),null}var Noe=x.memo(Doe,HT);function koe(t){var e=An();return x.useEffect(()=>{e(Toe(t))},[e,t]),null}function VD(t){var{zIndex:e,isPanorama:n}=t,r=x.useRef(null),a=An();return x.useLayoutEffect(()=>(r.current&&a(Gte({zIndex:e,element:r.current,isPanorama:n})),()=>{a(Kte({zIndex:e,isPanorama:n}))}),[a,e,n]),x.createElement("g",{tabIndex:-1,ref:r})}function UD(t){var{children:e,isPanorama:n}=t,r=Pe(jte);if(!r||r.length===0)return e;var a=r.filter(l=>l<0),o=r.filter(l=>l>0);return x.createElement(x.Fragment,null,a.map(l=>x.createElement(VD,{key:l,zIndex:l,isPanorama:n})),e,o.map(l=>x.createElement(VD,{key:l,zIndex:l,isPanorama:n})))}var Moe=["children"];function joe(t,e){if(t==null)return{};var n,r,a=Loe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Loe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function kg(){return kg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kg.apply(null,arguments)}var Voe={width:"100%",height:"100%",display:"block"},Uoe=x.forwardRef((t,e)=>{var n=oL(),r=lL(),a=vL();if(!ba(n)||!ba(r))return null;var{children:o,otherAttributes:l,title:c,desc:f}=t,d,p;return l!=null&&(typeof l.tabIndex=="number"?d=l.tabIndex:d=a?0:void 0,typeof l.role=="string"?p=l.role:p=a?"application":void 0),x.createElement(zM,kg({},l,{title:c,desc:f,role:p,tabIndex:d,width:n,height:r,style:Voe,ref:e}),o)}),zoe=t=>{var{children:e}=t,n=Pe(xy);if(!n)return null;var{width:r,height:a,y:o,x:l}=n;return x.createElement(zM,{width:r,height:a,x:l,y:o},e)},zD=x.forwardRef((t,e)=>{var{children:n}=t,r=joe(t,Moe),a=Tr();return a?x.createElement(zoe,null,x.createElement(UD,{isPanorama:!0},n)):x.createElement(Uoe,kg({ref:e},r),x.createElement(UD,{isPanorama:!1},n))});function Boe(){var t=An(),[e,n]=x.useState(null),r=Pe(oW);return x.useEffect(()=>{if(e!=null){var a=e.getBoundingClientRect(),o=a.width/e.offsetWidth;rt(o)&&o!==r&&t(GK(o))}},[e,t,r]),n}function BD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function qoe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BD(Object(n),!0).forEach(function(r){Foe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Foe(t,e,n){return(e=Hoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hoe(t){var e=$oe(t,"string");return typeof e=="symbol"?e:e+""}function $oe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function po(){return po=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},po.apply(null,arguments)}var Goe=()=>(wne(),null);function Mg(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Koe=x.forwardRef((t,e)=>{var n,r,a=x.useRef(null),[o,l]=x.useState({containerWidth:Mg((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Mg((r=t.style)===null||r===void 0?void 0:r.height)}),c=x.useCallback((d,p)=>{l(m=>{var v=Math.round(d),_=Math.round(p);return m.containerWidth===v&&m.containerHeight===_?m:{containerWidth:v,containerHeight:_}})},[]),f=x.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null&&typeof ResizeObserver<"u"){var{width:p,height:m}=d.getBoundingClientRect();c(p,m);var v=w=>{var T=w[0];if(T!=null){var{width:S,height:P}=T.contentRect;c(S,P)}},_=new ResizeObserver(v);_.observe(d),a.current=_}},[e,c]);return x.useEffect(()=>()=>{var d=a.current;d?.disconnect()},[c]),x.createElement(x.Fragment,null,x.createElement(Wh,{width:o.containerWidth,height:o.containerHeight}),x.createElement("div",po({ref:f},t)))}),Woe=x.forwardRef((t,e)=>{var{width:n,height:r}=t,[a,o]=x.useState({containerWidth:Mg(n),containerHeight:Mg(r)}),l=x.useCallback((f,d)=>{o(p=>{var m=Math.round(f),v=Math.round(d);return p.containerWidth===m&&p.containerHeight===v?p:{containerWidth:m,containerHeight:v}})},[]),c=x.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null){var{width:d,height:p}=f.getBoundingClientRect();l(d,p)}},[e,l]);return x.createElement(x.Fragment,null,x.createElement(Wh,{width:a.containerWidth,height:a.containerHeight}),x.createElement("div",po({ref:c},t)))}),Yoe=x.forwardRef((t,e)=>{var{width:n,height:r}=t;return x.createElement(x.Fragment,null,x.createElement(Wh,{width:n,height:r}),x.createElement("div",po({ref:e},t)))}),Xoe=x.forwardRef((t,e)=>{var{width:n,height:r}=t;return typeof n=="string"||typeof r=="string"?x.createElement(Woe,po({},t,{ref:e})):typeof n=="number"&&typeof r=="number"?x.createElement(Yoe,po({},t,{width:n,height:r,ref:e})):x.createElement(x.Fragment,null,x.createElement(Wh,{width:n,height:r}),x.createElement("div",po({ref:e},t)))});function Qoe(t){return t?Koe:Xoe}var Zoe=x.forwardRef((t,e)=>{var{children:n,className:r,height:a,onClick:o,onContextMenu:l,onDoubleClick:c,onMouseDown:f,onMouseEnter:d,onMouseLeave:p,onMouseMove:m,onMouseUp:v,onTouchEnd:_,onTouchMove:w,onTouchStart:T,style:S,width:P,responsive:k,dispatchTouchEvents:R=!0}=t,z=x.useRef(null),H=An(),[F,C]=x.useState(null),[D,L]=x.useState(null),q=Boe(),U=ME(),M=U?.width>0?U.width:P,V=U?.height>0?U.height:a,ge=x.useCallback(le=>{q(le),typeof e=="function"&&e(le),C(le),L(le),le!=null&&(z.current=le)},[q,e,C,L]),ve=x.useCallback(le=>{H(bV(le)),H(ti({handler:o,reactEvent:le}))},[H,o]),Y=x.useCallback(le=>{H(mw(le)),H(ti({handler:d,reactEvent:le}))},[H,d]),oe=x.useCallback(le=>{H(g3()),H(ti({handler:p,reactEvent:le}))},[H,p]),ne=x.useCallback(le=>{H(mw(le)),H(ti({handler:m,reactEvent:le}))},[H,m]),Z=x.useCallback(()=>{H(AV())},[H]),W=x.useCallback(le=>{H(SV(le.key))},[H]),B=x.useCallback(le=>{H(ti({handler:l,reactEvent:le}))},[H,l]),J=x.useCallback(le=>{H(ti({handler:c,reactEvent:le}))},[H,c]),fe=x.useCallback(le=>{H(ti({handler:f,reactEvent:le}))},[H,f]),pe=x.useCallback(le=>{H(ti({handler:v,reactEvent:le}))},[H,v]),xe=x.useCallback(le=>{H(ti({handler:T,reactEvent:le}))},[H,T]),De=x.useCallback(le=>{R&&H(OV(le)),H(ti({handler:w,reactEvent:le}))},[H,R,w]),Ie=x.useCallback(le=>{H(ti({handler:_,reactEvent:le}))},[H,_]),ht=Qoe(k);return x.createElement(j3.Provider,{value:F},x.createElement(QH.Provider,{value:D},x.createElement(ht,{width:M??S?.width,height:V??S?.height,className:_t("recharts-wrapper",r),style:qoe({position:"relative",cursor:"default",width:M,height:V},S),onClick:ve,onContextMenu:B,onDoubleClick:J,onFocus:Z,onKeyDown:W,onMouseDown:fe,onMouseEnter:Y,onMouseLeave:oe,onMouseMove:ne,onMouseUp:pe,onTouchEnd:Ie,onTouchMove:De,onTouchStart:xe,ref:ge},x.createElement(Goe,null),n)))}),Joe=["width","height","responsive","children","className","style","compact","title","desc"];function ele(t,e){if(t==null)return{};var n,r,a=tle(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function tle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var nle=x.forwardRef((t,e)=>{var{width:n,height:r,responsive:a,children:o,className:l,style:c,compact:f,title:d,desc:p}=t,m=ele(t,Joe),v=ya(m);return f?x.createElement(x.Fragment,null,x.createElement(Wh,{width:n,height:r}),x.createElement(zD,{otherAttributes:v,title:d,desc:p},o)):x.createElement(Zoe,{className:l,style:c,width:n,height:r,responsive:a??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},x.createElement(zD,{otherAttributes:v,title:d,desc:p,ref:e},x.createElement(sae,null,o)))});function gw(){return gw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gw.apply(null,arguments)}var rle={top:5,right:5,bottom:5,left:5},ile={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:rle,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},ale=x.forwardRef(function(e,n){var r,a=wr(e.categoricalChartProps,ile),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:f,categoricalChartProps:d}=e,p={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:f,eventEmitter:void 0};return x.createElement(Roe,{preloadedState:{options:p},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:o},x.createElement(Jie,{chartData:d.data}),x.createElement(Noe,{layout:a.layout,margin:a.margin}),x.createElement(koe,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),x.createElement(nle,gw({},a,{ref:n})))}),sle=["axis"],ole=x.forwardRef((t,e)=>x.createElement(ale,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:sle,tooltipPayloadSearcher:ane,categoricalChartProps:t,ref:e}));const lle="_container_1hiwq_1",ule="_title_1hiwq_19",cle="_chartContainer_1hiwq_35",fle="_emptyState_1hiwq_47",hle="_statsGrid_1hiwq_63",dle="_statCard_1hiwq_77",ple="_statValue_1hiwq_93",mle="_logSection_1hiwq_105",gle="_logTitle_1hiwq_113",yle="_logList_1hiwq_127",vle="_logItem_1hiwq_145",dr={container:lle,title:ule,chartContainer:cle,emptyState:fle,statsGrid:hle,statCard:dle,statValue:ple,logSection:mle,logTitle:gle,logList:yle,logItem:vle},ble=({t,childId:e,lang:n})=>{const[r,a]=x.useState([]),[o,l]=x.useState([]),[c,f]=x.useState(!0),d=x.useRef(null);x.useEffect(()=>{const _=Mm(Un(Be,"history"),jm("userId","==",e),P8("date","asc")),w=vr(_,T=>{const S=T.docs.map(k=>({id:k.id,...k.data()}));l([...S].reverse().slice(0,30));const P=S.reduce((k,R)=>{if(!R.date)return k;const z=R.date.toDate().toLocaleDateString(n==="fi"?"fi-FI":"ru-RU",{day:"numeric",month:"short"}),H=R.type==="earn"?R.points:-R.points;return k[z]=(k[z]||0)+H,k},{});a(Object.keys(P).map(k=>({name:k,points:P[k]}))),f(!1)},T=>{console.error("Stats error:",T),f(!1)});return()=>w()},[e,n]);const p=r.reduce((_,w)=>_+w.points,0),m=r.length?(p/r.length).toFixed(1):"0",v=r.slice(-7).reduce((_,w)=>_+w.points,0);return I.jsxs("div",{className:dr.container,children:[I.jsxs("h3",{className:dr.title,children:[" ",t.statsTitle]}),I.jsx("div",{className:dr.chartContainer,ref:d,children:r.length>0?I.jsx(LW,{width:"100%",height:"100%",children:I.jsxs(ole,{data:r,margin:{top:10,right:10,left:-25,bottom:0},children:[I.jsx(sV,{strokeDasharray:"3 3",stroke:"var(--border-color)",vertical:!1}),I.jsx(yV,{dataKey:"name",stroke:"var(--text-secondary)",fontSize:10,tickLine:!1,axisLine:!1}),I.jsx(vV,{stroke:"var(--text-secondary)",fontSize:10,tickLine:!1,axisLine:!1}),I.jsx(Ine,{contentStyle:{backgroundColor:"var(--card-bg)",borderColor:"var(--border-color)",borderRadius:"12px",color:"var(--text-main)"},itemStyle:{color:"var(--accent-blue)"}}),I.jsx(mV,{type:"monotone",dataKey:"points",stroke:"var(--accent-blue)",strokeWidth:4,dot:{r:4,fill:"var(--accent-blue)",stroke:"var(--card-bg)",strokeWidth:2},isAnimationActive:!0})]})}):I.jsx("div",{className:dr.emptyState,children:c?"...":t.stats.noData})}),I.jsxs("div",{className:dr.statsGrid,children:[I.jsxs("div",{className:dr.statCard,children:[I.jsx("small",{style:{color:"var(--text-secondary)",display:"block"},children:t.stats.average}),I.jsx("div",{className:dr.statValue,children:m})]}),I.jsxs("div",{className:dr.statCard,children:[I.jsx("small",{style:{color:"var(--text-secondary)",display:"block"},children:t.stats.weekly}),I.jsx("div",{className:dr.statValue,style:{color:"var(--accent-green)"},children:v})]})]}),I.jsxs("div",{className:dr.logSection,children:[I.jsx("h4",{className:dr.logTitle,children:t.stats.recentTitle}),I.jsx("div",{className:dr.logList,children:o.map(_=>I.jsxs("div",{className:dr.logItem,children:[I.jsx("span",{className:dr.logLabel,children:_.label}),I.jsx("span",{style:{fontWeight:"bold",color:_.type==="earn"?"var(--accent-green)":"var(--accent-orange)"},children:_.type==="earn"?`+${_.points}`:`-${_.points}`})]},_.id))})]})]})},_le="_statsCard_vde8s_7",wle="_statsInfo_vde8s_25",Ele="_progressTrack_vde8s_39",Tle="_progressFill_vde8s_57",Sle="_tasksGrid_vde8s_69",Ale="_taskCard_vde8s_85",xle="_activeTaskCard_vde8s_115",Ole="_taskWaiting_vde8s_143",Cle="_deadlineTag_vde8s_163",Ile="_taskIcon_vde8s_181",Ple="_taskLabel_vde8s_193",Rle="_taskPoints_vde8s_207",Dle="_shopCard_vde8s_219",Nle="_shopCardAffordable_vde8s_249",kle="_shopCardLocked_vde8s_259",Mle="_glassCard_vde8s_291",jle="_glassCardUnlocked_vde8s_317",Lle="_shakingIntense_vde8s_335",Vle="_neonProgressBar_vde8s_377",Ule="_insufficientFunds_vde8s_413",zle="_coin_vde8s_439",vt={statsCard:_le,statsInfo:wle,progressTrack:Ele,progressFill:Tle,tasksGrid:Sle,taskCard:Ale,activeTaskCard:xle,taskWaiting:Ole,deadlineTag:Cle,taskIcon:Ile,taskLabel:Ple,taskPoints:Rle,shopCard:Dle,shopCardAffordable:Nle,shopCardLocked:kle,glassCard:Mle,glassCardUnlocked:jle,shakingIntense:Lle,neonProgressBar:Vle,insufficientFunds:Ule,coin:zle},jg="/kids-tracker/assets/hold-BXZF8MRZ.mp3",YT="/kids-tracker/assets/success-CiFI08SB.mp3",Ble=({t,totalPoints:e,userId:n})=>{const[r,a]=x.useState([]),[o,l]=x.useState([]),[c,f]=x.useState(null),d=x.useRef(null),p=x.useRef(new Audio(jg)).current,m=x.useRef(new Audio(YT)).current;x.useEffect(()=>{if(!n||n.trim()==="")return;const w=vr(Un(Be,"achievements_list"),P=>{const k=P.docs.map(R=>({id:R.id,...R.data()})).filter(R=>R.type==="title").sort((R,z)=>R.threshold-z.threshold);a(k)}),T=Et(Be,"users",n),S=vr(T,P=>{P.exists()&&l(P.data().activatedAchievements||[])});return()=>{w(),S()}},[n]);const v=w=>{e<w.threshold||o.includes(w.id)||(f(w.id),p.currentTime=0,p.loop=!0,p.play().catch(()=>{}),d.current=window.setTimeout(async()=>{p.pause(),m.currentTime=0,m.play().catch(()=>{});const T=Et(Be,"users",n);await Ei(T,{activatedAchievements:O8(w.id)}),f(null)},5e3))},_=()=>{d.current&&window.clearTimeout(d.current),f(null),p.pause(),p.loop=!1};return I.jsxs("div",{style:{padding:"10px"},children:[I.jsxs("h3",{style:{color:"var(--accent-orange)",marginBottom:"20px",display:"flex",justifyContent:"space-between"},children:[I.jsx("span",{children:t.achievements.title}),I.jsxs("span",{style:{fontSize:"14px"},children:[e," XP"]})]}),I.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:r.map(w=>{const T=e>=w.threshold,S=o.includes(w.id),P=c===w.id,k=Math.min(e/w.threshold*100,100);return I.jsxs("div",{onMouseDown:()=>v(w),onMouseUp:_,onMouseLeave:_,onTouchStart:()=>v(w),onTouchEnd:_,className:`
                ${vt.glassCard} 
                ${T?vt.glassCardUnlocked:""} 
                ${P?vt.shaking:""}
                ${P?vt.glassCardHolding:""}
              `,style:{cursor:T&&!S?"pointer":"default",opacity:T?1:.8},children:[!T&&I.jsx("div",{style:{position:"absolute",top:0,left:0,height:"100%",width:`${k}%`,background:"linear-gradient(90deg, rgba(255,152,0,0) 0%, rgba(255,152,0,0.1) 100%)",zIndex:0,transition:"width 0.5s ease"}}),P&&I.jsx("div",{className:vt.neonProgressBar}),I.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",position:"relative",zIndex:1},children:[I.jsx("div",{style:{fontSize:"40px",filter:T?"drop-shadow(0 0 10px rgba(255,255,255,0.3))":"grayscale(1) opacity(0.4)",transition:"all 0.5s ease"},children:w.icon}),I.jsxs("div",{style:{flex:1},children:[I.jsx("div",{style:{fontWeight:"bold",fontSize:"18px",color:T?"#fff":"rgba(255,255,255,0.4)",textShadow:T?"0 0 10px rgba(255,255,255,0.2)":"none"},children:w.label||w.id}),w.bonus&&I.jsxs("div",{style:{marginTop:"5px",padding:"6px 12px",borderRadius:"12px",background:S?"rgba(76, 175, 80, 0.15)":"rgba(255,255,255,0.05)",fontSize:"13px",color:S?"#4ade80":"rgba(255,255,255,0.3)",border:S?"1px solid rgba(74, 222, 128, 0.2)":"1px solid transparent"},children:[" ",S?w.bonus:T?t.adminForm.saveBtn==="Tallenna"?"Pid 5s":" 5 ":`${t.achievements.needed} ${w.threshold-e} XP`]})]}),I.jsx("div",{style:{fontSize:"24px",filter:T?"none":"opacity(0.2)"},children:S?"":T?"":""})]})]},w.id)})}),I.jsx("style",{children:`
        @keyframes fill5sec {
          from { transform: scaleX(0); }
          to { transform: scaleX(1); }
        }
      `})]})},qle=({t,currentBalance:e,userId:n,lang:r})=>{const[a,o]=x.useState([]),[l,c]=x.useState(null),[f,d]=x.useState(null),[p,m]=x.useState(!1),v=x.useRef(null),_=x.useRef(new Audio(jg)).current,w=x.useRef(new Audio(YT)).current;x.useEffect(()=>{console.log("SHOP: Start listening. User:",n);const k=vr(Un(Be,"achievements_list"),R=>{const z=R.docs.map(H=>({id:H.id,...H.data()})).filter(H=>H.type==="reward"||H.type==="exchange").sort((H,F)=>H.threshold-F.threshold);o(z),m(!0)},R=>{console.error("SHOP Error:",R),m(!0)});return()=>k()},[n]);const T=k=>k.label||k.labelRu||(k.labels?k.labels[r]||k.labels.ru:""),S=k=>{if(e<k.threshold){d(k.id),setTimeout(()=>d(null),500);return}c(k.id),_.currentTime=0,_.play().catch(()=>{}),v.current=window.setTimeout(async()=>{const R=T(k);_.pause(),w.currentTime=0,w.play().catch(()=>{}),await ph(Un(Be,"approvals"),{userId:n,label:`${t.admin.typeReward}: ${R}`,points:-k.threshold,icon:k.icon,status:"pending",createdAt:new Date().toISOString()}),c(null)},5e3)},P=()=>{v.current&&(window.clearTimeout(v.current),v.current=null),c(null),_.pause()};return p?I.jsxs("div",{style:{padding:"10px"},children:[I.jsxs("h3",{className:vt.statsInfo,children:[I.jsx("span",{style:{color:"var(--accent-green)"},children:t.admin.shopSettingsTitle}),I.jsxs("span",{style:{color:"var(--text-main)"},children:[" ",e]})]}),I.jsx("div",{className:vt.tasksGrid,style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:"10px"},children:a.map(k=>{const R=T(k),z=l===k.id,H=f===k.id,F=e>=k.threshold;return I.jsxs("div",{onMouseDown:()=>S(k),onMouseUp:P,onMouseLeave:P,onTouchStart:()=>S(k),onTouchEnd:P,className:`
                ${vt.shopCard} 
                ${F?vt.shopCardAffordable:vt.shopCardLocked}
                ${z?vt.shakingIntense:""} 
                ${H?vt.insufficientFunds:""}
              `,style:{background:"rgba(255,255,255,0.05)",border:H?"2px solid red":"1px solid #444",padding:"15px",borderRadius:"20px",display:"flex",flexDirection:"column",alignItems:"center",minHeight:"140px",position:"relative",overflow:"hidden"},children:[z&&I.jsx("div",{style:{position:"absolute",bottom:0,left:0,height:"5px",background:"var(--accent-green)",width:"100%",animation:"holdProgress 5s linear forwards"}}),I.jsx("div",{style:{fontSize:"40px"},children:k.icon}),I.jsx("div",{style:{fontWeight:"bold",textAlign:"center",color:"white"},children:R}),I.jsxs("div",{style:{background:F?"var(--accent-green)":"#666",color:"white",padding:"2px 10px",borderRadius:"10px",marginTop:"auto",fontSize:"14px"},children:[k.threshold," pts"]})]},k.id)})})]}):I.jsx("div",{style:{color:"white",padding:"20px"},children:"Loading..."})},Fle="1.0.1",Hle=new Date().toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}),$le=({children:t})=>I.jsxs("footer",{style:{position:"fixed",bottom:0,left:0,right:0,backgroundColor:"var(--nav-bg)",borderTop:"1px solid var(--border-color)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",boxShadow:"var(--shadow)",zIndex:1e3,display:"flex",flexDirection:"column",alignItems:"center",transition:"background-color 0.4s ease, border-color 0.4s ease",paddingBottom:"env(safe-area-inset-bottom, 5px)"},children:[t,I.jsxs("div",{style:{padding:"4px 0 6px 0",fontSize:"9px",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.5px",opacity:.5,textAlign:"center",width:"100%"},children:["v.",Fle," (",Hle,")  Kids Tracker  ",I.jsx("span",{style:{color:"var(--accent-orange)",fontWeight:"bold"},children:"TEST MODE"})]})]});var Gle=Object.defineProperty,Lg=Object.getOwnPropertySymbols,IV=Object.prototype.hasOwnProperty,PV=Object.prototype.propertyIsEnumerable,qD=(t,e,n)=>e in t?Gle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yw=(t,e)=>{for(var n in e||(e={}))IV.call(e,n)&&qD(t,n,e[n]);if(Lg)for(var n of Lg(e))PV.call(e,n)&&qD(t,n,e[n]);return t},vw=(t,e)=>{var n={};for(var r in t)IV.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Lg)for(var r of Lg(t))e.indexOf(r)<0&&PV.call(t,r)&&(n[r]=t[r]);return n};var Ll;(t=>{const e=class Ke{constructor(f,d,p,m){if(this.version=f,this.errorCorrectionLevel=d,this.modules=[],this.isFunction=[],f<Ke.MIN_VERSION||f>Ke.MAX_VERSION)throw new RangeError("Version value out of range");if(m<-1||m>7)throw new RangeError("Mask value out of range");this.size=f*4+17;let v=[];for(let w=0;w<this.size;w++)v.push(!1);for(let w=0;w<this.size;w++)this.modules.push(v.slice()),this.isFunction.push(v.slice());this.drawFunctionPatterns();const _=this.addEccAndInterleave(p);if(this.drawCodewords(_),m==-1){let w=1e9;for(let T=0;T<8;T++){this.applyMask(T),this.drawFormatBits(T);const S=this.getPenaltyScore();S<w&&(m=T,w=S),this.applyMask(T)}}a(0<=m&&m<=7),this.mask=m,this.applyMask(m),this.drawFormatBits(m),this.isFunction=[]}static encodeText(f,d){const p=t.QrSegment.makeSegments(f);return Ke.encodeSegments(p,d)}static encodeBinary(f,d){const p=t.QrSegment.makeBytes(f);return Ke.encodeSegments([p],d)}static encodeSegments(f,d,p=1,m=40,v=-1,_=!0){if(!(Ke.MIN_VERSION<=p&&p<=m&&m<=Ke.MAX_VERSION)||v<-1||v>7)throw new RangeError("Invalid value");let w,T;for(w=p;;w++){const R=Ke.getNumDataCodewords(w,d)*8,z=l.getTotalBits(f,w);if(z<=R){T=z;break}if(w>=m)throw new RangeError("Data too long")}for(const R of[Ke.Ecc.MEDIUM,Ke.Ecc.QUARTILE,Ke.Ecc.HIGH])_&&T<=Ke.getNumDataCodewords(w,R)*8&&(d=R);let S=[];for(const R of f){n(R.mode.modeBits,4,S),n(R.numChars,R.mode.numCharCountBits(w),S);for(const z of R.getData())S.push(z)}a(S.length==T);const P=Ke.getNumDataCodewords(w,d)*8;a(S.length<=P),n(0,Math.min(4,P-S.length),S),n(0,(8-S.length%8)%8,S),a(S.length%8==0);for(let R=236;S.length<P;R^=253)n(R,8,S);let k=[];for(;k.length*8<S.length;)k.push(0);return S.forEach((R,z)=>k[z>>>3]|=R<<7-(z&7)),new Ke(w,d,k,v)}getModule(f,d){return 0<=f&&f<this.size&&0<=d&&d<this.size&&this.modules[d][f]}getModules(){return this.modules}drawFunctionPatterns(){for(let p=0;p<this.size;p++)this.setFunctionModule(6,p,p%2==0),this.setFunctionModule(p,6,p%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const f=this.getAlignmentPatternPositions(),d=f.length;for(let p=0;p<d;p++)for(let m=0;m<d;m++)p==0&&m==0||p==0&&m==d-1||p==d-1&&m==0||this.drawAlignmentPattern(f[p],f[m]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(f){const d=this.errorCorrectionLevel.formatBits<<3|f;let p=d;for(let v=0;v<10;v++)p=p<<1^(p>>>9)*1335;const m=(d<<10|p)^21522;a(m>>>15==0);for(let v=0;v<=5;v++)this.setFunctionModule(8,v,r(m,v));this.setFunctionModule(8,7,r(m,6)),this.setFunctionModule(8,8,r(m,7)),this.setFunctionModule(7,8,r(m,8));for(let v=9;v<15;v++)this.setFunctionModule(14-v,8,r(m,v));for(let v=0;v<8;v++)this.setFunctionModule(this.size-1-v,8,r(m,v));for(let v=8;v<15;v++)this.setFunctionModule(8,this.size-15+v,r(m,v));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let f=this.version;for(let p=0;p<12;p++)f=f<<1^(f>>>11)*7973;const d=this.version<<12|f;a(d>>>18==0);for(let p=0;p<18;p++){const m=r(d,p),v=this.size-11+p%3,_=Math.floor(p/3);this.setFunctionModule(v,_,m),this.setFunctionModule(_,v,m)}}drawFinderPattern(f,d){for(let p=-4;p<=4;p++)for(let m=-4;m<=4;m++){const v=Math.max(Math.abs(m),Math.abs(p)),_=f+m,w=d+p;0<=_&&_<this.size&&0<=w&&w<this.size&&this.setFunctionModule(_,w,v!=2&&v!=4)}}drawAlignmentPattern(f,d){for(let p=-2;p<=2;p++)for(let m=-2;m<=2;m++)this.setFunctionModule(f+m,d+p,Math.max(Math.abs(m),Math.abs(p))!=1)}setFunctionModule(f,d,p){this.modules[d][f]=p,this.isFunction[d][f]=!0}addEccAndInterleave(f){const d=this.version,p=this.errorCorrectionLevel;if(f.length!=Ke.getNumDataCodewords(d,p))throw new RangeError("Invalid argument");const m=Ke.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][d],v=Ke.ECC_CODEWORDS_PER_BLOCK[p.ordinal][d],_=Math.floor(Ke.getNumRawDataModules(d)/8),w=m-_%m,T=Math.floor(_/m);let S=[];const P=Ke.reedSolomonComputeDivisor(v);for(let R=0,z=0;R<m;R++){let H=f.slice(z,z+T-v+(R<w?0:1));z+=H.length;const F=Ke.reedSolomonComputeRemainder(H,P);R<w&&H.push(0),S.push(H.concat(F))}let k=[];for(let R=0;R<S[0].length;R++)S.forEach((z,H)=>{(R!=T-v||H>=w)&&k.push(z[R])});return a(k.length==_),k}drawCodewords(f){if(f.length!=Math.floor(Ke.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let d=0;for(let p=this.size-1;p>=1;p-=2){p==6&&(p=5);for(let m=0;m<this.size;m++)for(let v=0;v<2;v++){const _=p-v,T=(p+1&2)==0?this.size-1-m:m;!this.isFunction[T][_]&&d<f.length*8&&(this.modules[T][_]=r(f[d>>>3],7-(d&7)),d++)}}a(d==f.length*8)}applyMask(f){if(f<0||f>7)throw new RangeError("Mask value out of range");for(let d=0;d<this.size;d++)for(let p=0;p<this.size;p++){let m;switch(f){case 0:m=(p+d)%2==0;break;case 1:m=d%2==0;break;case 2:m=p%3==0;break;case 3:m=(p+d)%3==0;break;case 4:m=(Math.floor(p/3)+Math.floor(d/2))%2==0;break;case 5:m=p*d%2+p*d%3==0;break;case 6:m=(p*d%2+p*d%3)%2==0;break;case 7:m=((p+d)%2+p*d%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[d][p]&&m&&(this.modules[d][p]=!this.modules[d][p])}}getPenaltyScore(){let f=0;for(let v=0;v<this.size;v++){let _=!1,w=0,T=[0,0,0,0,0,0,0];for(let S=0;S<this.size;S++)this.modules[v][S]==_?(w++,w==5?f+=Ke.PENALTY_N1:w>5&&f++):(this.finderPenaltyAddHistory(w,T),_||(f+=this.finderPenaltyCountPatterns(T)*Ke.PENALTY_N3),_=this.modules[v][S],w=1);f+=this.finderPenaltyTerminateAndCount(_,w,T)*Ke.PENALTY_N3}for(let v=0;v<this.size;v++){let _=!1,w=0,T=[0,0,0,0,0,0,0];for(let S=0;S<this.size;S++)this.modules[S][v]==_?(w++,w==5?f+=Ke.PENALTY_N1:w>5&&f++):(this.finderPenaltyAddHistory(w,T),_||(f+=this.finderPenaltyCountPatterns(T)*Ke.PENALTY_N3),_=this.modules[S][v],w=1);f+=this.finderPenaltyTerminateAndCount(_,w,T)*Ke.PENALTY_N3}for(let v=0;v<this.size-1;v++)for(let _=0;_<this.size-1;_++){const w=this.modules[v][_];w==this.modules[v][_+1]&&w==this.modules[v+1][_]&&w==this.modules[v+1][_+1]&&(f+=Ke.PENALTY_N2)}let d=0;for(const v of this.modules)d=v.reduce((_,w)=>_+(w?1:0),d);const p=this.size*this.size,m=Math.ceil(Math.abs(d*20-p*10)/p)-1;return a(0<=m&&m<=9),f+=m*Ke.PENALTY_N4,a(0<=f&&f<=2568888),f}getAlignmentPatternPositions(){if(this.version==1)return[];{const f=Math.floor(this.version/7)+2,d=this.version==32?26:Math.ceil((this.version*4+4)/(f*2-2))*2;let p=[6];for(let m=this.size-7;p.length<f;m-=d)p.splice(1,0,m);return p}}static getNumRawDataModules(f){if(f<Ke.MIN_VERSION||f>Ke.MAX_VERSION)throw new RangeError("Version number out of range");let d=(16*f+128)*f+64;if(f>=2){const p=Math.floor(f/7)+2;d-=(25*p-10)*p-55,f>=7&&(d-=36)}return a(208<=d&&d<=29648),d}static getNumDataCodewords(f,d){return Math.floor(Ke.getNumRawDataModules(f)/8)-Ke.ECC_CODEWORDS_PER_BLOCK[d.ordinal][f]*Ke.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][f]}static reedSolomonComputeDivisor(f){if(f<1||f>255)throw new RangeError("Degree out of range");let d=[];for(let m=0;m<f-1;m++)d.push(0);d.push(1);let p=1;for(let m=0;m<f;m++){for(let v=0;v<d.length;v++)d[v]=Ke.reedSolomonMultiply(d[v],p),v+1<d.length&&(d[v]^=d[v+1]);p=Ke.reedSolomonMultiply(p,2)}return d}static reedSolomonComputeRemainder(f,d){let p=d.map(m=>0);for(const m of f){const v=m^p.shift();p.push(0),d.forEach((_,w)=>p[w]^=Ke.reedSolomonMultiply(_,v))}return p}static reedSolomonMultiply(f,d){if(f>>>8||d>>>8)throw new RangeError("Byte out of range");let p=0;for(let m=7;m>=0;m--)p=p<<1^(p>>>7)*285,p^=(d>>>m&1)*f;return a(p>>>8==0),p}finderPenaltyCountPatterns(f){const d=f[1];a(d<=this.size*3);const p=d>0&&f[2]==d&&f[3]==d*3&&f[4]==d&&f[5]==d;return(p&&f[0]>=d*4&&f[6]>=d?1:0)+(p&&f[6]>=d*4&&f[0]>=d?1:0)}finderPenaltyTerminateAndCount(f,d,p){return f&&(this.finderPenaltyAddHistory(d,p),d=0),d+=this.size,this.finderPenaltyAddHistory(d,p),this.finderPenaltyCountPatterns(p)}finderPenaltyAddHistory(f,d){d[0]==0&&(f+=this.size),d.pop(),d.unshift(f)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(c,f,d){if(f<0||f>31||c>>>f)throw new RangeError("Value out of range");for(let p=f-1;p>=0;p--)d.push(c>>>p&1)}function r(c,f){return(c>>>f&1)!=0}function a(c){if(!c)throw new Error("Assertion error")}const o=class jt{constructor(f,d,p){if(this.mode=f,this.numChars=d,this.bitData=p,d<0)throw new RangeError("Invalid argument");this.bitData=p.slice()}static makeBytes(f){let d=[];for(const p of f)n(p,8,d);return new jt(jt.Mode.BYTE,f.length,d)}static makeNumeric(f){if(!jt.isNumeric(f))throw new RangeError("String contains non-numeric characters");let d=[];for(let p=0;p<f.length;){const m=Math.min(f.length-p,3);n(parseInt(f.substring(p,p+m),10),m*3+1,d),p+=m}return new jt(jt.Mode.NUMERIC,f.length,d)}static makeAlphanumeric(f){if(!jt.isAlphanumeric(f))throw new RangeError("String contains unencodable characters in alphanumeric mode");let d=[],p;for(p=0;p+2<=f.length;p+=2){let m=jt.ALPHANUMERIC_CHARSET.indexOf(f.charAt(p))*45;m+=jt.ALPHANUMERIC_CHARSET.indexOf(f.charAt(p+1)),n(m,11,d)}return p<f.length&&n(jt.ALPHANUMERIC_CHARSET.indexOf(f.charAt(p)),6,d),new jt(jt.Mode.ALPHANUMERIC,f.length,d)}static makeSegments(f){return f==""?[]:jt.isNumeric(f)?[jt.makeNumeric(f)]:jt.isAlphanumeric(f)?[jt.makeAlphanumeric(f)]:[jt.makeBytes(jt.toUtf8ByteArray(f))]}static makeEci(f){let d=[];if(f<0)throw new RangeError("ECI assignment value out of range");if(f<128)n(f,8,d);else if(f<16384)n(2,2,d),n(f,14,d);else if(f<1e6)n(6,3,d),n(f,21,d);else throw new RangeError("ECI assignment value out of range");return new jt(jt.Mode.ECI,0,d)}static isNumeric(f){return jt.NUMERIC_REGEX.test(f)}static isAlphanumeric(f){return jt.ALPHANUMERIC_REGEX.test(f)}getData(){return this.bitData.slice()}static getTotalBits(f,d){let p=0;for(const m of f){const v=m.mode.numCharCountBits(d);if(m.numChars>=1<<v)return 1/0;p+=4+v+m.bitData.length}return p}static toUtf8ByteArray(f){f=encodeURI(f);let d=[];for(let p=0;p<f.length;p++)f.charAt(p)!="%"?d.push(f.charCodeAt(p)):(d.push(parseInt(f.substring(p+1,p+3),16)),p+=2);return d}};o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let l=o;t.QrSegment=o})(Ll||(Ll={}));(t=>{(e=>{const n=class{constructor(a,o){this.ordinal=a,this.formatBits=o}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(Ll||(Ll={}));(t=>{(e=>{const n=class{constructor(a,o){this.modeBits=a,this.numBitsCharCount=o}numCharCountBits(a){return this.numBitsCharCount[Math.floor((a+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(Ll||(Ll={}));var qu=Ll;var Kle={L:qu.QrCode.Ecc.LOW,M:qu.QrCode.Ecc.MEDIUM,Q:qu.QrCode.Ecc.QUARTILE,H:qu.QrCode.Ecc.HIGH},RV=128,DV="L",NV="#FFFFFF",kV="#000000",MV=!1,jV=1,Wle=4,Yle=0,Xle=.1;function LV(t,e=0){const n=[];return t.forEach(function(r,a){let o=null;r.forEach(function(l,c){if(!l&&o!==null){n.push(`M${o+e} ${a+e}h${c-o}v1H${o+e}z`),o=null;return}if(c===r.length-1){if(!l)return;o===null?n.push(`M${c+e},${a+e} h1v1H${c+e}z`):n.push(`M${o+e},${a+e} h${c+1-o}v1H${o+e}z`);return}l&&o===null&&(o=c)})}),n.join("")}function VV(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((a,o)=>o<e.x||o>=e.x+e.w?a:!1))}function Qle(t,e,n,r){if(r==null)return null;const a=t.length+n*2,o=Math.floor(e*Xle),l=a/e,c=(r.width||o)*l,f=(r.height||o)*l,d=r.x==null?t.length/2-c/2:r.x*l,p=r.y==null?t.length/2-f/2:r.y*l,m=r.opacity==null?1:r.opacity;let v=null;if(r.excavate){let w=Math.floor(d),T=Math.floor(p),S=Math.ceil(c+d-w),P=Math.ceil(f+p-T);v={x:w,y:T,w:S,h:P}}const _=r.crossOrigin;return{x:d,y:p,h:f,w:c,excavation:v,opacity:m,crossOrigin:_}}function Zle(t,e){return e!=null?Math.max(Math.floor(e),0):t?Wle:Yle}function UV({value:t,level:e,minVersion:n,includeMargin:r,marginSize:a,imageSettings:o,size:l,boostLevel:c}){let f=on.useMemo(()=>{const w=(Array.isArray(t)?t:[t]).reduce((T,S)=>(T.push(...qu.QrSegment.makeSegments(S)),T),[]);return qu.QrCode.encodeSegments(w,Kle[e],n,void 0,void 0,c)},[t,e,n,c]);const{cells:d,margin:p,numCells:m,calculatedImageSettings:v}=on.useMemo(()=>{let _=f.getModules();const w=Zle(r,a),T=_.length+w*2,S=Qle(_,l,w,o);return{cells:_,margin:w,numCells:T,calculatedImageSettings:S}},[f,l,o,r,a]);return{qrcode:f,margin:p,cells:d,numCells:m,calculatedImageSettings:v}}var Jle=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),eue=on.forwardRef(function(e,n){const r=e,{value:a,size:o=RV,level:l=DV,bgColor:c=NV,fgColor:f=kV,includeMargin:d=MV,minVersion:p=jV,boostLevel:m,marginSize:v,imageSettings:_}=r,T=vw(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:S}=T,P=vw(T,["style"]),k=_?.src,R=on.useRef(null),z=on.useRef(null),H=on.useCallback(ge=>{R.current=ge,typeof n=="function"?n(ge):n&&(n.current=ge)},[n]),[F,C]=on.useState(!1),{margin:D,cells:L,numCells:q,calculatedImageSettings:U}=UV({value:a,level:l,minVersion:p,boostLevel:m,includeMargin:d,marginSize:v,imageSettings:_,size:o});on.useEffect(()=>{if(R.current!=null){const ge=R.current,ve=ge.getContext("2d");if(!ve)return;let Y=L;const oe=z.current,ne=U!=null&&oe!==null&&oe.complete&&oe.naturalHeight!==0&&oe.naturalWidth!==0;ne&&U.excavation!=null&&(Y=VV(L,U.excavation));const Z=window.devicePixelRatio||1;ge.height=ge.width=o*Z;const W=o/q*Z;ve.scale(W,W),ve.fillStyle=c,ve.fillRect(0,0,q,q),ve.fillStyle=f,Jle?ve.fill(new Path2D(LV(Y,D))):L.forEach(function(B,J){B.forEach(function(fe,pe){fe&&ve.fillRect(pe+D,J+D,1,1)})}),U&&(ve.globalAlpha=U.opacity),ne&&ve.drawImage(oe,U.x+D,U.y+D,U.w,U.h)}}),on.useEffect(()=>{C(!1)},[k]);const M=yw({height:o,width:o},S);let V=null;return k!=null&&(V=on.createElement("img",{src:k,key:k,style:{display:"none"},onLoad:()=>{C(!0)},ref:z,crossOrigin:U?.crossOrigin})),on.createElement(on.Fragment,null,on.createElement("canvas",yw({style:M,height:o,width:o,ref:H,role:"img"},P)),V)});eue.displayName="QRCodeCanvas";var zV=on.forwardRef(function(e,n){const r=e,{value:a,size:o=RV,level:l=DV,bgColor:c=NV,fgColor:f=kV,includeMargin:d=MV,minVersion:p=jV,boostLevel:m,title:v,marginSize:_,imageSettings:w}=r,T=vw(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:S,cells:P,numCells:k,calculatedImageSettings:R}=UV({value:a,level:l,minVersion:p,boostLevel:m,includeMargin:d,marginSize:_,imageSettings:w,size:o});let z=P,H=null;w!=null&&R!=null&&(R.excavation!=null&&(z=VV(P,R.excavation)),H=on.createElement("image",{href:w.src,height:R.h,width:R.w,x:R.x+S,y:R.y+S,preserveAspectRatio:"none",opacity:R.opacity,crossOrigin:R.crossOrigin}));const F=LV(z,S);return on.createElement("svg",yw({height:o,width:o,viewBox:`0 0 ${k} ${k}`,ref:n,role:"img"},T),!!v&&on.createElement("title",null,v),on.createElement("path",{fill:c,d:`M0,0 h${k}v${k}H0z`,shapeRendering:"crispEdges"}),on.createElement("path",{fill:f,d:F,shapeRendering:"crispEdges"}),H)});zV.displayName="QRCodeSVG";const tue=({lang:t,onClose:e})=>{const n=t==="fi"?"fi-FI":t==="ru"?"ru-RU":"en-US";return I.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"var(--bg-color)",zIndex:1e3,padding:"20px",overflowY:"auto",color:"var(--text-main)"},children:I.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto"},children:[I.jsx("button",{onClick:e,style:{padding:"10px 20px",borderRadius:"12px",border:"none",background:"var(--card-bg)",color:"var(--text-main)",marginBottom:"20px",cursor:"pointer"},children:t==="fi"?" Takaisin":t==="ru"?" ":" Back"}),I.jsxs("p",{style:{opacity:.6,fontSize:"12px"},children:[t==="fi"?"Pivitetty":t==="ru"?"":"Updated",": ",new Date().toLocaleDateString(n)]}),t==="fi"&&I.jsxs("section",{children:[I.jsx("h1",{children:"Tietosuojaseloste (GDPR)"}),I.jsx("h3",{children:"1. Mit tietoja kermme?"}),I.jsx("p",{children:"Kermme vain vlttmttmt tiedot: Shkpostiosoite, nimi ja pistehistoria."}),I.jsx("h3",{children:"2. Mihin kytmme tietoja?"}),I.jsx("p",{children:"Tietoja kytetn vain sovelluksen sisll lapsen edistymisen seurantaan. Emme luovuta tietoja eteenpin."}),I.jsx("h3",{children:"3. Tietojen silytys"}),I.jsx("p",{children:"Tiedot tallennetaan turvallisesti Google Firebase -palveluun."}),I.jsx("h3",{children:"4. Sinun oikeutesi"}),I.jsx("p",{children:"Sinulla on oikeus korjata tai poistaa tietosi milloin tahansa."})]}),t==="ru"&&I.jsxs("section",{children:[I.jsx("h1",{children:"  (GDPR)"}),I.jsx("h3",{children:"1.    ?"}),I.jsx("p",{children:"   Email,    ."}),I.jsx("h3",{children:"2.    ?"}),I.jsx("p",{children:"       .      ."}),I.jsx("h3",{children:"3.   ?"}),I.jsx("p",{children:"    Google Firebase."}),I.jsx("h3",{children:"4.  "}),I.jsx("p",{children:"          ."})]}),t==="en"&&I.jsxs("section",{children:[I.jsx("h1",{children:"Privacy Policy (GDPR)"}),I.jsx("h3",{children:"1. What data do we collect?"}),I.jsx("p",{children:"We collect only essential data: Email, name, and points history."}),I.jsx("h3",{children:"2. How do we use the data?"}),I.jsx("p",{children:"The data is used solely for tracking progress within the app. We do not share it with third parties."}),I.jsx("h3",{children:"3. Data Storage"}),I.jsx("p",{children:"Data is securely stored in Google Firebase."}),I.jsx("h3",{children:"4. Your Rights"}),I.jsx("p",{children:"You have the right to access, correct, or delete your data at any time."})]}),I.jsxs("div",{style:{marginTop:"40px",padding:"20px",background:"var(--card-bg)",borderRadius:"16px",fontSize:"14px",opacity:.8},children:[t==="fi"&&"Yhteystiedot: Ota yhteytt yllpitjn, jos sinulla on kysyttv.",t==="ru"&&":      .",t==="en"&&"Contact: Contact the administrator if you have any questions."]})]})})},nue=({t,lang:e,onClose:n})=>{const r=[{icon:"",data:t.howItWorks.step1},{icon:"",data:t.howItWorks.step2},{icon:"",data:t.howItWorks.step3},{icon:"",data:t.howItWorks.step4}];return I.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"var(--bg-color)",zIndex:1100,padding:"20px",overflowY:"auto",color:"var(--text-main)"},children:I.jsxs("div",{style:{maxWidth:"500px",margin:"0 auto"},children:[I.jsx("button",{onClick:n,style:{padding:"10px 20px",borderRadius:"12px",border:"none",background:"var(--card-bg)",color:"var(--text-main)",cursor:"pointer"},children:""}),I.jsx("h2",{style:{textAlign:"center",margin:"30px 0"},children:t.howItWorks.title}),I.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:r.map((a,o)=>I.jsxs("div",{style:{display:"flex",gap:"15px",padding:"20px",background:"var(--card-bg)",borderRadius:"20px",alignItems:"center",border:"1px solid var(--border-color)"},children:[I.jsx("span",{style:{fontSize:"40px"},children:a.icon}),I.jsxs("div",{children:[I.jsx("strong",{style:{display:"block",fontSize:"16px",marginBottom:"4px"},children:a.data.t}),I.jsx("span",{style:{fontSize:"13px",opacity:.7},children:a.data.d})]})]},o))}),I.jsx("button",{onClick:n,style:{width:"100%",marginTop:"30px",padding:"15px",background:"var(--accent-blue)",color:"white",border:"none",borderRadius:"15px",fontWeight:"bold",cursor:"pointer"},children:e==="fi"?"SELV! ":e==="ru"?"! ":"LET'S GO! "})]})})},rue=({familyId:t,t:e,profile:n,lang:r,handleLogout:a})=>{const[o,l]=x.useState([]),[c,f]=x.useState(""),[d,p]=x.useState("child"),[m,v]=x.useState(""),[_,w]=x.useState(null),[T,S]=x.useState(!1),[P,k]=x.useState(!1),[R,z]=x.useState(!1),H=`${window.location.origin}${window.location.pathname}?join=${t}`;x.useEffect(()=>{const M=Mm(Un(Be,"users"),jm("familyId","==",t));return vr(M,V=>{l(V.docs.map(ge=>({id:ge.id,...ge.data()})))})},[t]);const F=()=>{navigator.clipboard.writeText(t),S(!0),setTimeout(()=>S(!1),2e3)},C=async()=>{if(navigator.share)try{await navigator.share({title:e.familySettings.inviteTitle,text:`${e.familySettings.inviteTitle}: ${t}`,url:H})}catch(M){console.log(M)}else F()},D=async()=>{if(window.confirm(e.familySettings.deleteConfirm))try{await fo(Et(Be,"users",n.uid)),await gm.currentUser?.delete(),a()}catch(M){console.error("Delete account error:",M),a()}},L=async()=>{if(!c.trim())return;const M=`${d}_${c.toLowerCase().trim().replace(/\s+/g,"_")}`;try{await ry(Et(Be,"users",M),{name:c.trim(),role:d,avatar:m,familyId:t,totalPoints:0,currentBalance:0}),f("")}catch(V){console.error(V)}},q=async(M,V,ge)=>{try{await Ei(Et(Be,"users",M),{name:V,avatar:ge}),w(null)}catch(ve){console.error(ve)}},U=async M=>{window.confirm(e.familySettings.deleteConfirm)&&await fo(Et(Be,"users",M))};return I.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px",marginTop:"20px"},children:[I.jsxs("div",{style:{padding:"24px",background:"var(--card-bg)",borderRadius:"24px",textAlign:"center",border:"1px solid var(--border-color)"},children:[I.jsxs("h3",{style:{marginBottom:"15px"},children:[" ",e.familySettings.inviteTitle]}),I.jsx("p",{style:{fontSize:"13px",color:"var(--text-secondary)",marginBottom:"15px"},children:e.familySettings.inviteDesc}),I.jsx("div",{style:{background:"white",padding:"12px",display:"inline-block",borderRadius:"16px",marginBottom:"15px"},children:I.jsx(zV,{value:H,size:150})}),I.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"center"},children:[I.jsx("button",{onClick:F,style:FD,children:T?` ${e.familySettings.copied}`:` ${e.familySettings.copyCode}: ${t}`}),I.jsxs("button",{onClick:C,style:{...FD,background:"var(--accent-green)"},children:[" ",e.familySettings.shareLink]})]})]}),I.jsxs("div",{style:{padding:"20px",background:"var(--card-bg)",borderRadius:"24px",border:"1px solid var(--border-color)"},children:[I.jsxs("h3",{style:{marginBottom:"15px"},children:[" ",e.familySettings.title]}),I.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px",marginBottom:"20px"},children:o.map(M=>I.jsx("div",{style:aue,children:_===M.id?I.jsxs("div",{style:{display:"flex",gap:"8px",width:"100%"},children:[I.jsx("input",{autoFocus:!0,defaultValue:M.name,onBlur:V=>q(M.id,V.target.value,M.avatar),onKeyDown:V=>V.key==="Enter"&&q(M.id,V.currentTarget.value,M.avatar),style:{flex:1,padding:"8px",borderRadius:"8px",border:"1px solid var(--accent-blue)"}}),I.jsx("button",{onClick:()=>w(null),children:""})]}):I.jsxs(I.Fragment,{children:[I.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[I.jsx("span",{style:{fontSize:"24px"},children:M.avatar}),I.jsxs("div",{children:[I.jsxs("div",{style:{fontWeight:"bold",fontSize:"14px"},children:[M.name," ",M.role==="parent"?"":""]}),I.jsx("div",{style:{fontSize:"11px",opacity:.6},children:M.role==="child"?`${e.familySettings.pointsBalance}: ${M.totalPoints||0}`:e.familySettings.adminStatus})]})]}),I.jsxs("div",{style:{display:"flex",gap:"10px"},children:[I.jsx("button",{onClick:()=>w(M.id),style:HD,children:""}),I.jsx("button",{onClick:()=>U(M.id),style:{...HD,color:"#ff4d4d"},children:""})]})]})},M.id))}),I.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px",padding:"20px 0",borderTop:"1px solid var(--border-color)"},children:[I.jsx("input",{value:c,onChange:M=>f(M.target.value),placeholder:e.familySettings.namePlaceholder,style:K_}),I.jsxs("div",{style:{display:"flex",gap:"10px"},children:[I.jsxs("select",{value:d,onChange:M=>{const V=M.target.value;p(V),v(V==="child"?"":"")},style:{...K_,flex:1},children:[I.jsx("option",{value:"child",children:e.profile.child}),I.jsx("option",{value:"parent",children:e.profile.parent})]}),I.jsx("input",{value:m,onChange:M=>v(M.target.value),style:{...K_,width:"60px",textAlign:"center"}})]}),I.jsx("button",{onClick:L,style:iue,children:e.familySettings.addManual})]}),I.jsxs("div",{style:{marginTop:"30px",paddingTop:"20px",borderTop:"1px dashed var(--border-color)",textAlign:"center"},children:[I.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"20px",marginBottom:"15px"},children:[I.jsx("button",{onClick:()=>k(!0),style:{background:"none",border:"none",color:"var(--text-secondary)",fontSize:"12px",cursor:"pointer",textDecoration:"underline"},children:"Privacy Policy / Tietosuoja"}),I.jsxs("button",{onClick:()=>z(!0),style:{background:"none",border:"none",color:"var(--text-secondary)",fontSize:"12px",cursor:"pointer",textDecoration:"underline"},children:[" ",r==="fi"?"Ohjeet":r==="ru"?"":"Help"]})]}),I.jsx("button",{onClick:D,style:{background:"none",border:"1px solid #ff4d4d",color:"#ff4d4d",padding:"8px 15px",borderRadius:"10px",fontSize:"12px",cursor:"pointer"},children:r==="fi"?"Poista tilini":"  "})]})]}),P&&I.jsx(tue,{lang:r,onClose:()=>k(!1)}),R&&I.jsx(nue,{t:e,lang:r,onClose:()=>z(!1)})]})},K_={padding:"12px",borderRadius:"12px",border:"1px solid var(--border-color)",background:"var(--bg-color)",color:"var(--text-main)"},iue={padding:"12px",background:"var(--accent-green)",color:"white",border:"none",borderRadius:"12px",fontWeight:"bold",cursor:"pointer"},FD={padding:"10px 15px",borderRadius:"12px",border:"none",background:"var(--accent-blue)",color:"white",fontWeight:"bold",cursor:"pointer",fontSize:"14px"},aue={display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px",background:"var(--bg-color)",borderRadius:"16px"},HD={background:"none",border:"none",cursor:"pointer",fontSize:"16px"},sue=({googleUid:t,initialName:e,onSuccess:n,t:r})=>{const[a,o]=x.useState(e||""),[l,c]=x.useState("child"),[f,d]=x.useState(""),[p,m]=x.useState(!1),[v,_]=x.useState("");x.useEffect(()=>{const T=sessionStorage.getItem("pending_family_code");T&&(_(T),c("child"),d(""))},[]);const w=async()=>{if(!a.trim())return alert(" !");m(!0);try{const T=v.trim()||"fam_"+Math.random().toString(36).substring(2,9),S={uid:t,name:a.trim(),role:l,avatar:f,familyId:T,totalPoints:0,currentBalance:0};await ry(Et(Be,"users",t),S),n(S)}catch(T){console.error(T),alert("   .")}finally{m(!1)}};return I.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px",padding:"40px 24px",maxWidth:"450px",margin:"60px auto",background:"var(--card-bg)",borderRadius:"32px",textAlign:"center",border:"1px solid var(--border-color)"},children:[I.jsx("h2",{style:{color:"var(--accent-blue)",fontSize:"24px"},children:r.auth.welcome}),I.jsx("div",{style:{fontSize:"80px",margin:"10px 0"},children:f}),I.jsx("input",{value:a,onChange:T=>o(T.target.value),placeholder:r.auth.namePlaceholder,style:{padding:"16px",borderRadius:"16px",border:"1px solid var(--border-color)",background:"var(--bg-color)",color:"var(--text-main)"}}),I.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[I.jsxs("div",{onClick:()=>{c("child"),d("")},style:{padding:"20px",borderRadius:"20px",cursor:"pointer",background:l==="child"?"rgba(0,122,255,0.15)":"var(--bg-color)",border:`2px solid ${l==="child"?"var(--accent-blue)":"transparent"}`,transition:"0.2s"},children:[I.jsx("div",{style:{fontSize:"32px"},children:""}),I.jsx("div",{style:{fontWeight:"bold",color:"var(--text-main)"},children:r.auth.roleChild})]}),I.jsxs("div",{onClick:()=>{c("parent"),d("")},style:{padding:"20px",borderRadius:"20px",cursor:"pointer",background:l==="parent"?"rgba(0,122,255,0.15)":"var(--bg-color)",border:`2px solid ${l==="parent"?"var(--accent-blue)":"transparent"}`,transition:"0.2s"},children:[I.jsx("div",{style:{fontSize:"32px"},children:""}),I.jsx("div",{style:{fontWeight:"bold",color:"var(--text-main)"},children:r.auth.roleParent})]})]}),I.jsxs("div",{style:{textAlign:"left",marginTop:"10px"},children:[I.jsx("label",{style:{fontSize:"13px",color:"var(--text-secondary)",marginLeft:"10px"},children:r.auth.familyCodeLabel}),I.jsx("input",{value:v,placeholder:r.auth.familyCodePlaceholder,onChange:T=>_(T.target.value),style:{width:"100%",padding:"16px",borderRadius:"16px",border:"1px solid var(--border-color)",background:"var(--bg-color)",color:"var(--text-main)",marginTop:"5px",boxSizing:"border-box"}}),I.jsx("p",{style:{fontSize:"12px",color:"var(--text-secondary)",margin:"8px 10px 0"},children:r.auth.familyCodeHint})]}),I.jsx("button",{onClick:w,disabled:p,style:{padding:"18px",background:"var(--accent-green)",color:"white",border:"none",borderRadius:"20px",fontWeight:"bold",fontSize:"18px",cursor:"pointer"},children:p?r.auth.loading:r.auth.startAdventure})]})},oue="/kids-tracker/assets/coin-BsAl7R4M.mp3",lue=({task:t,isWaiting:e,isHolding:n,deadlineText:r,waitingLabel:a,onStart:o,onStop:l})=>I.jsxs("div",{className:`
        ${vt.taskCard} 
        ${n?"shaking-intense":""} 
        ${e?vt.taskWaiting:""}
      `,onMouseDown:o,onMouseUp:l,onMouseLeave:l,onTouchStart:o,onTouchEnd:l,style:{transform:n?"scale(0.95)":"scale(1)"},children:[I.jsx("div",{className:vt.deadlineTag,children:e?"":` ${r}`}),n&&!e&&I.jsx("svg",{className:"loading-ring",width:"100%",height:"100%",viewBox:"0 0 100 100",style:{position:"absolute",top:0,left:0},children:I.jsx("circle",{cx:"50",cy:"50",r:"48",style:{fill:"none",stroke:"var(--accent-orange)",strokeWidth:4,strokeDasharray:"302",strokeDashoffset:"302",animation:"borderFill 5s linear forwards",strokeLinecap:"round"}})}),I.jsx("span",{className:vt.taskIcon,style:{filter:e?"grayscale(1)":"none"},children:t.icon||""}),I.jsx("div",{className:e?vt.waitingText:vt.taskLabel,children:t.label}),I.jsx("div",{className:e?vt.waitingText:vt.taskPoints,children:e?a:`+${t.points}`})]}),uue=({t,availableTasks:e,myApprovals:n,runningTimer:r,formatTime:a,startTaskTimer:o,markAsDone:l,requestToStart:c,userRole:f})=>{const[d,p]=x.useState(null),[m,v]=x.useState([]),[_,w]=x.useState([]),[T,S]=x.useState(null),P=x.useRef(null),k=x.useRef(null),R=x.useRef(null),z=new Date().toISOString().split("T")[0],H=(ne,Z=.5)=>{R.current&&(R.current.pause(),R.current.currentTime=0);const W=new Audio(ne);W.volume=Z,R.current=W,W.play().catch(()=>{})},F=()=>{k.current&&(clearInterval(k.current),k.current=null),R.current&&(R.current.pause(),R.current.currentTime=0)},C=()=>{const ne=Array.from({length:15}).map((Z,W)=>({id:Date.now()+W,left:Math.random()*100+"vw"}));w(ne),setTimeout(()=>w([]),1200)},D=async ne=>{F(),S(null),p(ne.id),C(),H(oue),setTimeout(async()=>{await c(ne),p(null)},800)},L=ne=>{if(!(n.some(W=>W.taskId===ne.id)||ne.isDone||ne.isInWork||ne.isPending||d===ne.id||T===ne.id)){if(f==="parent"){window.confirm(t.statsTitle==="Tilastot"?"Haluatko merkit tmn tehdyksi?":"  ?")&&D(ne);return}F(),S(ne.id),H(jg,.2),k.current=setInterval(()=>H(jg,.2),600),P.current=setTimeout(()=>D(ne),5e3)}},q=()=>{P.current&&(clearTimeout(P.current),P.current=null),F(),S(null)},U=async(ne,Z)=>{f==="parent"&&!window.confirm(t.statsTitle==="Tilastot"?"Hyvksytk?":"?")||(p(ne),v(W=>[...W,Z]),C(),H(YT),setTimeout(async()=>{await l(ne),p(null),setTimeout(()=>v(W=>W.filter(B=>B!==Z)),2e3)},800))},M=e.map(ne=>{const Z=ne.lastCompleted===z,W=n.find(B=>B.taskId===ne.id);return{...ne,isDone:Z,isInWork:W?.status==="in_progress",isPending:W?.status==="pending"}}),V=M.filter(ne=>ne.isDone).reduce((ne,Z)=>ne+Z.points,0),ge=M.reduce((ne,Z)=>ne+Z.points,0),ve=ge>0?Math.round(V/ge*100):0,oe=(()=>{const ne=new Date,Z=new Date;Z.setHours(21,0,0,0);const W=Z.getTime()-ne.getTime();return{text:W>0?`${Math.floor(W/36e5)} ${Math.floor(W%36e5/6e4)}`:" "}})();return I.jsxs(I.Fragment,{children:[_.map(ne=>I.jsx("div",{className:vt.coin,style:{left:ne.left},children:""},ne.id)),I.jsxs("div",{className:vt.statsCard,children:[I.jsxs("div",{className:vt.statsInfo,children:[I.jsx("span",{style:{fontWeight:"800",fontSize:"14px"},children:t.statsTitle==="Tilastot"?"Pivn tavoite":"  "}),I.jsxs("span",{style:{fontWeight:"800",color:"var(--accent-blue)"},children:[V," / ",ge," "]})]}),I.jsx("div",{className:vt.progressTrack,children:I.jsx("div",{className:vt.progressFill,style:{width:`${ve}%`,backgroundColor:ve===100?"var(--accent-green)":"var(--accent-blue)"}})})]}),I.jsx("h3",{style:{color:"var(--accent-green)",marginBottom:"15px"},children:t.inProgress}),I.jsx("div",{style:{display:"grid",gap:"15px",marginBottom:"30px"},children:n.filter(ne=>ne.status==="in_progress").map(ne=>{const Z=d===ne.id,W=e.find(B=>B.id===ne.taskId);return I.jsxs("div",{className:`${vt.activeTaskCard} ${Z?"task-approving":""}`,children:[I.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[I.jsx("span",{style:{fontWeight:"bold"},children:Z?"...":ne.label}),r?.id===ne.id&&I.jsxs("span",{style:{color:"var(--accent-blue)",fontWeight:"bold"},children:[" ",a(r.timeLeft)]})]}),I.jsxs("div",{style:{display:"flex",gap:"10px"},children:[!Z&&!r&&W?.duration&&I.jsx("button",{onClick:()=>o(ne.id,W.duration),style:{padding:"10px",background:"var(--accent-blue)",color:"white",border:"none",borderRadius:"12px"},children:""}),I.jsx("button",{onClick:()=>U(ne.id,ne.taskId),disabled:Z,className:"payout-btn",children:Z?"":t.done})]})]},ne.id)})}),I.jsx("h3",{style:{color:"var(--accent-blue)",marginBottom:"15px"},children:t.availableTasks}),I.jsx("div",{className:vt.tasksGrid,children:M.map(ne=>{if(ne.isDone||ne.isInWork||d===ne.id||m.includes(ne.id))return null;const Z=ne.isPending||n.some(W=>W.taskId===ne.id);return I.jsx(lue,{task:ne,isWaiting:Z,isHolding:T===ne.id,deadlineText:oe.text,waitingLabel:t.statsTitle==="Tilastot"?"Odottaa...":"...",onStart:()=>L(ne),onStop:q},ne.id)})})]})};const BV=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();const cue=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const fue=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());const $D=t=>{const e=fue(t);return e.charAt(0).toUpperCase()+e.slice(1)};var hue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const due=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const pue=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:l,...c},f)=>x.createElement("svg",{ref:f,...hue,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:BV("lucide",a),...!o&&!due(c)&&{"aria-hidden":"true"},...c},[...l.map(([d,p])=>x.createElement(d,p)),...Array.isArray(o)?o:[o]]));const Yy=(t,e)=>{const n=x.forwardRef(({className:r,...a},o)=>x.createElement(pue,{ref:o,iconNode:e,className:BV(`lucide-${cue($D(t))}`,`lucide-${t}`,r),...a}));return n.displayName=$D(t),n};const mue=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],gue=Yy("camera",mue);const yue=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],vue=Yy("house",yue);const bue=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],_ue=Yy("log-out",bue);const wue=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Eue=Yy("user",wue),Tue=({profile:t,t:e,onLogout:n,onUploadPhoto:r})=>{const a=x.useRef(null),o=t.avatar&&t.avatar.startsWith("http"),l=()=>{a.current?.click()},c=f=>{const d=f.target.files?.[0];d&&r&&r(d)};return I.jsxs("div",{style:{marginBottom:"25px",padding:"20px",borderRadius:"24px",backgroundColor:"var(--card-bg)",border:"1px solid var(--border-color)",boxShadow:"0 8px 30px rgba(0,0,0,0.04)",display:"flex",flexDirection:"column",gap:"16px"},children:[I.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[I.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px"},children:[I.jsxs("div",{onClick:l,style:{width:"60px",height:"60px",borderRadius:"18px",backgroundColor:"var(--bg-color)",display:"flex",alignItems:"center",justifyContent:"center",border:"2px solid var(--accent-blue)",overflow:"hidden",cursor:"pointer",position:"relative",transition:"transform 0.2s ease"},onMouseEnter:f=>f.currentTarget.style.transform="scale(1.02)",onMouseLeave:f=>f.currentTarget.style.transform="scale(1)",children:[o?I.jsx("img",{src:t.avatar,alt:"Profile",style:{width:"100%",height:"100%",objectFit:"cover"}}):I.jsx(Eue,{size:30,color:"var(--accent-blue)"}),I.jsx("div",{style:{position:"absolute",inset:0,backgroundColor:"rgba(0,0,0,0.2)",display:"flex",alignItems:"center",justifyContent:"center",opacity:0,transition:"opacity 0.2s ease"},onMouseEnter:f=>f.currentTarget.style.opacity="1",onMouseLeave:f=>f.currentTarget.style.opacity="0",children:I.jsx(gue,{size:20,color:"white"})})]}),I.jsx("input",{type:"file",ref:a,onChange:c,accept:"image/*",style:{display:"none"}}),I.jsxs("div",{children:[I.jsx("div",{style:{fontSize:"17px",fontWeight:"700",color:"var(--text-main)",letterSpacing:"-0.3px"},children:t.name}),I.jsx("div",{style:{marginTop:"4px"},children:I.jsx("span",{style:{padding:"3px 10px",borderRadius:"10px",background:t.role==="parent"?"rgba(59, 130, 246, 0.1)":"rgba(16, 185, 129, 0.1)",color:t.role==="parent"?"var(--accent-blue)":"#10b981",fontWeight:"600",fontSize:"11px",textTransform:"uppercase"},children:t.role==="parent"?e.profile.parent:e.profile.child})})]})]}),I.jsx("button",{onClick:n,style:{background:"transparent",border:"1px solid var(--border-color)",borderRadius:"14px",width:"40px",height:"40px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",color:"#ef4444",transition:"all 0.2s ease"},onMouseEnter:f=>{f.currentTarget.style.backgroundColor="#fef2f2",f.currentTarget.style.borderColor="#fee2e2"},onMouseLeave:f=>{f.currentTarget.style.backgroundColor="transparent",f.currentTarget.style.borderColor="var(--border-color)"},children:I.jsx(_ue,{size:20})})]}),I.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 16px",backgroundColor:"var(--bg-color)",borderRadius:"16px",border:"1px solid var(--border-color)"},children:I.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[I.jsx(vue,{size:16,color:"var(--text-secondary)"}),I.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[I.jsx("span",{style:{fontSize:"10px",color:"var(--text-secondary)",fontWeight:"600",textTransform:"uppercase"},children:e.profile.familyIdLabel}),I.jsx("span",{style:{fontFamily:"monospace",color:"var(--text-main)",fontSize:"13px",fontWeight:"600"},children:t.familyId})]})]})})]})};function Sue(){const[t,e]=x.useState("tasks"),[n,r]=x.useState("fi"),[a,o]=x.useState(!1),[l,c]=x.useState(!0),[f,d]=x.useState(null),[p,m]=x.useState([]),[v,_]=x.useState([]),[w,T]=x.useState(0),[S,P]=x.useState([]),[k,R]=x.useState(""),[z,H]=x.useState(null),F=Q7[n],[C,D]=x.useState("tasks"),L=Z=>({flex:1,padding:"12px 5px",borderRadius:"12px",border:"none",fontSize:"13px",fontWeight:"bold",cursor:"pointer",backgroundColor:Z?"var(--accent-blue)":"transparent",color:Z?"white":"var(--text-secondary)",transition:"0.3s",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"});x.useEffect(()=>{const W=new URLSearchParams(window.location.search).get("join");W&&(sessionStorage.setItem("pending_family_code",W),window.history.replaceState({},document.title,window.location.pathname))},[]),x.useEffect(()=>{const Z=_q(gm,async W=>{let B;try{if(W){const J=await D8(Et(Be,"users",W.uid));if(J.exists()){const fe=J.data();d(fe),o(!0);const pe=Mm(Un(Be,"users"),jm("familyId","==",fe.familyId));B=vr(pe,xe=>{const De=xe.docs.map(ht=>({uid:ht.id,...ht.data()}));P(De);const Ie=De.filter(ht=>ht.role==="child");Ie.length>0&&!k&&R(Ie[0].uid)})}else d({uid:W.uid,name:W.displayName||"",avatar:W.photoURL||"",role:"child",familyId:""}),o(!1)}else d(null),o(!1)}catch(J){console.error("Auth Error:",J)}finally{c(!1)}return()=>{B&&B()}});return()=>Z()},[k]),x.useEffect(()=>{if(!a||!f)return;const Z=vr(Un(Be,"tasks_list"),W=>{const B=W.docs.map(fe=>({id:fe.id,...fe.data()})),J=f.role==="child"?f.uid:k;m(B.filter(fe=>!fe.assignedTo||fe.assignedTo==="all"||fe.assignedTo===J))});return()=>Z()},[a,k,f]),x.useEffect(()=>{if(!a||!f)return;const Z=f.role==="child"?f.uid:k;if(!Z)return;const W=vr(Et(Be,"users",Z),fe=>{if(fe.exists()){const pe=fe.data();T(pe.currentBalance||0)}}),B=Mm(Un(Be,"approvals"),jm("userId","==",Z)),J=vr(B,fe=>{_(fe.docs.map(pe=>({id:pe.id,...pe.data()})))});return()=>{W(),J()}},[a,k,f]),x.useEffect(()=>{let Z;return z&&z.timeLeft>0?Z=window.setInterval(()=>{H(W=>W?{...W,timeLeft:W.timeLeft-1}:null)},1e3):z&&z.timeLeft===0&&(alert(n==="ru"?" !":"Aika loppui!"),H(null)),()=>{Z&&clearInterval(Z)}},[z,n]);const q=Z=>{const W=Math.floor(Z/60),B=Z%60;return`${W}:${B<10?"0":""}${B}`},U=x.useCallback((Z,W)=>{H({id:Z,timeLeft:W*60})},[]),M=async()=>{Bq(gm,Y7).catch(console.error)},V=async()=>{wq(gm).catch(console.error)},ge=async Z=>{f&&await ph(Un(Be,"approvals"),{taskId:Z.id,label:Z.label,points:Z.points,status:Z.isAutoApprove?"in_progress":"pending",userId:f.uid,familyId:f.familyId,createdAt:new Date,icon:Z.icon||""})},ve=async Z=>{if(!f)return;const W=v.find(J=>J.id===Z);if(!W)return;const B=p.find(J=>J.id===W.taskId);try{B?.isAutoPayout?(await Ei(Et(Be,"users",W.userId),{totalPoints:th(W.points),currentBalance:th(W.points)}),await ph(Un(Be,"history"),{userId:W.userId,label:W.label,points:W.points,date:new Date,type:"earn"}),await Ei(Et(Be,"approvals",Z),{status:"completed"})):await Ei(Et(Be,"approvals",Z),{status:"completed",completedAt:new Date}),B&&await Ei(Et(Be,"tasks_list",B.id),{lastCompleted:new Date().toISOString().split("T")[0]}),z?.id===Z&&H(null)}catch(J){console.error("Error marking task as done:",J)}};if(l)return I.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",color:"white"},children:I.jsx("h2",{children:"..."})});const Y=f?.role==="parent"?S.find(Z=>Z.uid===k):f;console.log("ROLE CHECK:",{myRole:f?.role,membersCount:S.length,selectedId:k});const oe=!!Y?.uid;console.log("CHECK:",{activeTab:t,hasProfile:!!f,childId:Y?.uid,balance:Y?.currentBalance});const ne=async Z=>{if(f)try{const W=F7(X7,`avatars/${f.uid}`);await B7(W,Z);const B=await q7(W);await Ei(Et(Be,"users",f.uid),{avatar:B}),d(J=>J?{...J,avatar:B}:null),alert(n==="ru"?" !":"Kuva pivitetty!")}catch(W){console.error("Upload error:",W),alert("   ")}};return I.jsx("div",{style:{padding:"20px 20px 160px 20px",maxWidth:"800px",margin:"0 auto",minHeight:"100vh"},children:f?a?I.jsxs(I.Fragment,{children:[I.jsx(Tue,{profile:f,t:F,onLogout:V,onUploadPhoto:ne}),f.role==="parent"&&I.jsx("div",{style:{marginBottom:"20px",display:"flex",gap:"10px",overflowX:"auto",paddingBottom:"10px"},children:S.filter(Z=>Z.role==="child").map(Z=>I.jsxs("button",{onClick:()=>R(Z.uid),style:{padding:"8px 15px",borderRadius:"15px",border:"none",cursor:"pointer",backgroundColor:k===Z.uid?"var(--accent-blue)":"var(--card-bg)",color:k===Z.uid?"white":"var(--text-main)"},children:[Z.avatar," ",Z.name]},Z.uid))}),I.jsx(Z7,{total:w,lang:n,setLang:r,t:F}),t==="tasks"&&I.jsx(uue,{t:F,userRole:f.role,availableTasks:p,myApprovals:v,runningTimer:z,formatTime:q,startTaskTimer:U,markAsDone:ve,requestToStart:ge}),t==="stats"&&I.jsx(ble,{t:F,lang:n,childId:f.role==="parent"?k:f.uid}),t==="awards"&&f&&I.jsx(Ble,{t:F,totalPoints:Y?.totalPoints||0,userId:Y?.uid||f.uid}),t==="shop"&&f&&I.jsx(qle,{t:F,lang:n,currentBalance:Y?.currentBalance||0,userId:Y?.uid||f.uid}),!oe&&t!=="admin"&&I.jsx("div",{style:{textAlign:"center",opacity:.5,fontSize:"12px",marginTop:"10px"},children:n==="ru"?" ...":"Profiilin synkronointi..."}),t==="admin"&&f.role==="parent"&&I.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[I.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"5px",background:"rgba(255,255,255,0.05)",padding:"5px",borderRadius:"16px"},children:["tasks","edit","shop","levels","family"].map(Z=>I.jsxs("button",{onClick:()=>D(Z),style:L(C===Z),children:[Z==="tasks"&&"",Z==="edit"&&"",Z==="shop"&&"",Z==="levels"&&"",Z==="family"&&""]},Z))}),C==="tasks"&&I.jsx(Fp,{t:F,selectedChildId:k,mode:"check",lang:n}),C==="edit"&&I.jsx(Fp,{t:F,selectedChildId:k,mode:"edit",lang:n}),C==="shop"&&I.jsx(Fp,{t:F,selectedChildId:k,mode:"shop",lang:n}),C==="levels"&&I.jsx(Fp,{t:F,selectedChildId:k,mode:"levels",lang:n}),C==="family"&&I.jsx(rue,{familyId:f.familyId,t:F,profile:f,lang:n,handleLogout:V})]}),I.jsx($le,{children:I.jsx(J7,{activeTab:t,setActiveTab:e,t:F,userRole:f.role})})]}):I.jsx(sue,{googleUid:f.uid,initialName:f.name,t:F,onSuccess:Z=>{d(Z),o(!0)}}):I.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"80vh",gap:"20px"},children:[I.jsx("h1",{style:{color:"var(--text-main)"},children:"Kids Tracker "}),I.jsx("button",{onClick:M,style:{padding:"15px 30px",fontSize:"18px",borderRadius:"15px",background:"var(--accent-blue)",color:"white",border:"none",fontWeight:"bold"},children:"  Google"})]})})}const Aue="modulepreload",xue=function(t){return"/kids-tracker/"+t},GD={},Oue=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let d=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var l=d;document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=c?.nonce||c?.getAttribute("nonce");a=d(n.map(p=>{if(p=xue(p),p in GD)return;GD[p]=!0;const m=p.endsWith(".css"),v=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const _=document.createElement("link");if(_.rel=m?"stylesheet":Aue,m||(_.as="script"),_.crossOrigin="",_.href=p,f&&_.setAttribute("nonce",f),document.head.appendChild(_),m)return new Promise((w,T)=>{_.addEventListener("load",w),_.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return a.then(c=>{for(const f of c||[])f.status==="rejected"&&o(f.reason);return e().catch(o)})};function Cue(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:a,onRegisteredSW:o,onRegisterError:l}=t;let c,f;const d=async(m=!0)=>{await f};async function p(){if("serviceWorker"in navigator){if(c=await Oue(async()=>{const{Workbox:m}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:m}},[]).then(({Workbox:m})=>new m("/kids-tracker/sw.js",{scope:"/kids-tracker/",type:"classic"})).catch(m=>{l?.(m)}),!c)return;c.addEventListener("activated",m=>{(m.isUpdate||m.isExternal)&&window.location.reload()}),c.addEventListener("installed",m=>{m.isUpdate||r?.()}),c.register({immediate:e}).then(m=>{o?o("/kids-tracker/sw.js",m):a?.(m)}).catch(m=>{l?.(m)})}}return f=p(),d}Cue({immediate:!0});CU.createRoot(document.getElementById("root")).render(I.jsx(x.StrictMode,{children:I.jsx(Sue,{})}));

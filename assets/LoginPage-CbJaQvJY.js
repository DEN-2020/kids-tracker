import{j as e,r as n,t as w,v as E,w as h,x as N,y as k,z as C,F as P}from"./index-B2O2Sb9f.js";import{s as a}from"./Auth.module-BTKz4srt.js";const S=()=>e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 48 48",style:{display:"block"},children:[e.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),e.jsx("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),e.jsx("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),e.jsx("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"}),e.jsx("path",{fill:"none",d:"M0 0h48v48H0z"})]}),A=({onLoginError:m,lang:t="en"})=>{const[c,v]=n.useState(""),[o,x]=n.useState(""),[i,j]=n.useState(!1),[p,l]=n.useState(null),[d,u]=n.useState(!1),f=w[t]||w.en,g=r=>{if(r instanceof P){const s=r.code;if(t==="fi"){if(s==="auth/email-already-in-use")return"S√§hk√∂posti on jo k√§yt√∂ss√§";if(s==="auth/invalid-credential")return"V√§√§r√§ s√§hk√∂posti tai salasana";if(s==="auth/weak-password")return"Salasanan on oltava v√§hint√§√§n 6 merkki√§"}if(t==="ru"){if(s==="auth/email-already-in-use")return"–≠—Ç–∞ –ø–æ—á—Ç–∞ —É–∂–µ –∑–∞–Ω—è—Ç–∞";if(s==="auth/invalid-credential")return"–ù–µ–≤–µ—Ä–Ω–∞—è –ø–æ—á—Ç–∞ –∏–ª–∏ –ø–∞—Ä–æ–ª—å";if(s==="auth/weak-password")return"–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç 6 —Å–∏–º–≤–æ–ª–æ–≤";if(s==="auth/invalid-email")return"–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π Email"}return s==="auth/email-already-in-use"?"Email already registered":s==="auth/invalid-credential"?"Invalid email or password":s==="auth/weak-password"?"Password must be 6+ chars":r.message}return t==="ru"?"–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞":"An error occurred"},y=async()=>{l(null),u(!0);try{await k(h,C)}catch(r){l(g(r)),m?.(r)}finally{u(!1)}},b=async r=>{if(r.preventDefault(),l(null),o.length<6){l(t==="ru"?"–ü–∞—Ä–æ–ª—å —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π (–º–∏–Ω. 6)":"Password too short (min 6)");return}u(!0);try{i?await E(h,c,o):await N(h,c,o)}catch(s){l(g(s)),m?.(s)}finally{u(!1)}};return n.useEffect(()=>(document.body.classList.add("login-bg"),()=>{document.body.classList.remove("login-bg")}),[]),e.jsxs("div",{className:a.authPage,children:[e.jsx("h1",{className:a.mainTitle,children:"Kids Tracker üöÄ"}),e.jsxs("form",{onSubmit:b,className:a.glassForm,children:[e.jsx("h3",{className:a.formTitle,children:i?f.auth.welcome:t==="ru"?"–í—Ö–æ–¥":"Login"}),p&&e.jsx("div",{className:a.errorBox,children:p}),e.jsx("div",{className:a.inputWrapper,children:e.jsx("input",{id:"auth-email",name:"email",type:"email",className:a.glassInput,placeholder:"Email",value:c,onChange:r=>v(r.target.value),required:!0,autoComplete:"email"})}),e.jsx("div",{className:a.inputWrapper,children:e.jsx("input",{id:"auth-password",name:"password",type:"password",className:a.glassInput,placeholder:t==="ru"?"–ü–∞—Ä–æ–ª—å":"Password",value:o,onChange:r=>x(r.target.value),required:!0,autoComplete:i?"new-password":"current-password"})}),e.jsx("button",{type:"submit",disabled:d,className:a.submitBtn,children:d?"...":i?f.auth.startAdventure:t==="ru"?"–í–æ–π—Ç–∏":"Sign In"}),e.jsx("button",{type:"button",onClick:()=>{j(!i),l(null)},className:a.switchBtn,children:i?t==="ru"?"–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? –í–æ–π—Ç–∏":"Have an account? Login":t==="ru"?"–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è":"No account? Register"})]}),e.jsx("div",{className:a.divider,children:t==="ru"?"–∏–ª–∏":"or"}),e.jsxs("button",{onClick:y,disabled:d,className:a.googleBtn,children:[e.jsx(S,{}),t==="ru"?"–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google":"Sign in with Google"]})]})};export{A as LoginPage};

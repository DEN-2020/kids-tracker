import{R,j as n,r as k,A as ve,B as be,c as we,o as Ee,u as Ce,d as $,a as F,D as K,s as Se,w as Re}from"./index-COUtcPaj.js";var Me=Object.defineProperty,H=Object.getOwnPropertySymbols,oe=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable,Z=(l,a,s)=>a in l?Me(l,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[a]=s,Y=(l,a)=>{for(var s in a||(a={}))oe.call(a,s)&&Z(l,s,a[s]);if(H)for(var s of H(a))ie.call(a,s)&&Z(l,s,a[s]);return l},X=(l,a)=>{var s={};for(var d in l)oe.call(l,d)&&a.indexOf(d)<0&&(s[d]=l[d]);if(l!=null&&H)for(var d of H(l))a.indexOf(d)<0&&ie.call(l,d)&&(s[d]=l[d]);return s};var D;(l=>{const a=class y{constructor(e,r,t,o){if(this.version=e,this.errorCorrectionLevel=r,this.modules=[],this.isFunction=[],e<y.MIN_VERSION||e>y.MAX_VERSION)throw new RangeError("Version value out of range");if(o<-1||o>7)throw new RangeError("Mask value out of range");this.size=e*4+17;let i=[];for(let c=0;c<this.size;c++)i.push(!1);for(let c=0;c<this.size;c++)this.modules.push(i.slice()),this.isFunction.push(i.slice());this.drawFunctionPatterns();const u=this.addEccAndInterleave(t);if(this.drawCodewords(u),o==-1){let c=1e9;for(let x=0;x<8;x++){this.applyMask(x),this.drawFormatBits(x);const p=this.getPenaltyScore();p<c&&(o=x,c=p),this.applyMask(x)}}g(0<=o&&o<=7),this.mask=o,this.applyMask(o),this.drawFormatBits(o),this.isFunction=[]}static encodeText(e,r){const t=l.QrSegment.makeSegments(e);return y.encodeSegments(t,r)}static encodeBinary(e,r){const t=l.QrSegment.makeBytes(e);return y.encodeSegments([t],r)}static encodeSegments(e,r,t=1,o=40,i=-1,u=!0){if(!(y.MIN_VERSION<=t&&t<=o&&o<=y.MAX_VERSION)||i<-1||i>7)throw new RangeError("Invalid value");let c,x;for(c=t;;c++){const m=y.getNumDataCodewords(c,r)*8,b=C.getTotalBits(e,c);if(b<=m){x=b;break}if(c>=o)throw new RangeError("Data too long")}for(const m of[y.Ecc.MEDIUM,y.Ecc.QUARTILE,y.Ecc.HIGH])u&&x<=y.getNumDataCodewords(c,m)*8&&(r=m);let p=[];for(const m of e){s(m.mode.modeBits,4,p),s(m.numChars,m.mode.numCharCountBits(c),p);for(const b of m.getData())p.push(b)}g(p.length==x);const M=y.getNumDataCodewords(c,r)*8;g(p.length<=M),s(0,Math.min(4,M-p.length),p),s(0,(8-p.length%8)%8,p),g(p.length%8==0);for(let m=236;p.length<M;m^=253)s(m,8,p);let E=[];for(;E.length*8<p.length;)E.push(0);return p.forEach((m,b)=>E[b>>>3]|=m<<7-(b&7)),new y(c,r,E,i)}getModule(e,r){return 0<=e&&e<this.size&&0<=r&&r<this.size&&this.modules[r][e]}getModules(){return this.modules}drawFunctionPatterns(){for(let t=0;t<this.size;t++)this.setFunctionModule(6,t,t%2==0),this.setFunctionModule(t,6,t%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const e=this.getAlignmentPatternPositions(),r=e.length;for(let t=0;t<r;t++)for(let o=0;o<r;o++)t==0&&o==0||t==0&&o==r-1||t==r-1&&o==0||this.drawAlignmentPattern(e[t],e[o]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){const r=this.errorCorrectionLevel.formatBits<<3|e;let t=r;for(let i=0;i<10;i++)t=t<<1^(t>>>9)*1335;const o=(r<<10|t)^21522;g(o>>>15==0);for(let i=0;i<=5;i++)this.setFunctionModule(8,i,d(o,i));this.setFunctionModule(8,7,d(o,6)),this.setFunctionModule(8,8,d(o,7)),this.setFunctionModule(7,8,d(o,8));for(let i=9;i<15;i++)this.setFunctionModule(14-i,8,d(o,i));for(let i=0;i<8;i++)this.setFunctionModule(this.size-1-i,8,d(o,i));for(let i=8;i<15;i++)this.setFunctionModule(8,this.size-15+i,d(o,i));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let t=0;t<12;t++)e=e<<1^(e>>>11)*7973;const r=this.version<<12|e;g(r>>>18==0);for(let t=0;t<18;t++){const o=d(r,t),i=this.size-11+t%3,u=Math.floor(t/3);this.setFunctionModule(i,u,o),this.setFunctionModule(u,i,o)}}drawFinderPattern(e,r){for(let t=-4;t<=4;t++)for(let o=-4;o<=4;o++){const i=Math.max(Math.abs(o),Math.abs(t)),u=e+o,c=r+t;0<=u&&u<this.size&&0<=c&&c<this.size&&this.setFunctionModule(u,c,i!=2&&i!=4)}}drawAlignmentPattern(e,r){for(let t=-2;t<=2;t++)for(let o=-2;o<=2;o++)this.setFunctionModule(e+o,r+t,Math.max(Math.abs(o),Math.abs(t))!=1)}setFunctionModule(e,r,t){this.modules[r][e]=t,this.isFunction[r][e]=!0}addEccAndInterleave(e){const r=this.version,t=this.errorCorrectionLevel;if(e.length!=y.getNumDataCodewords(r,t))throw new RangeError("Invalid argument");const o=y.NUM_ERROR_CORRECTION_BLOCKS[t.ordinal][r],i=y.ECC_CODEWORDS_PER_BLOCK[t.ordinal][r],u=Math.floor(y.getNumRawDataModules(r)/8),c=o-u%o,x=Math.floor(u/o);let p=[];const M=y.reedSolomonComputeDivisor(i);for(let m=0,b=0;m<o;m++){let j=e.slice(b,b+x-i+(m<c?0:1));b+=j.length;const T=y.reedSolomonComputeRemainder(j,M);m<c&&j.push(0),p.push(j.concat(T))}let E=[];for(let m=0;m<p[0].length;m++)p.forEach((b,j)=>{(m!=x-i||j>=c)&&E.push(b[m])});return g(E.length==u),E}drawCodewords(e){if(e.length!=Math.floor(y.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let r=0;for(let t=this.size-1;t>=1;t-=2){t==6&&(t=5);for(let o=0;o<this.size;o++)for(let i=0;i<2;i++){const u=t-i,x=(t+1&2)==0?this.size-1-o:o;!this.isFunction[x][u]&&r<e.length*8&&(this.modules[x][u]=d(e[r>>>3],7-(r&7)),r++)}}g(r==e.length*8)}applyMask(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(let r=0;r<this.size;r++)for(let t=0;t<this.size;t++){let o;switch(e){case 0:o=(t+r)%2==0;break;case 1:o=r%2==0;break;case 2:o=t%3==0;break;case 3:o=(t+r)%3==0;break;case 4:o=(Math.floor(t/3)+Math.floor(r/2))%2==0;break;case 5:o=t*r%2+t*r%3==0;break;case 6:o=(t*r%2+t*r%3)%2==0;break;case 7:o=((t+r)%2+t*r%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[r][t]&&o&&(this.modules[r][t]=!this.modules[r][t])}}getPenaltyScore(){let e=0;for(let i=0;i<this.size;i++){let u=!1,c=0,x=[0,0,0,0,0,0,0];for(let p=0;p<this.size;p++)this.modules[i][p]==u?(c++,c==5?e+=y.PENALTY_N1:c>5&&e++):(this.finderPenaltyAddHistory(c,x),u||(e+=this.finderPenaltyCountPatterns(x)*y.PENALTY_N3),u=this.modules[i][p],c=1);e+=this.finderPenaltyTerminateAndCount(u,c,x)*y.PENALTY_N3}for(let i=0;i<this.size;i++){let u=!1,c=0,x=[0,0,0,0,0,0,0];for(let p=0;p<this.size;p++)this.modules[p][i]==u?(c++,c==5?e+=y.PENALTY_N1:c>5&&e++):(this.finderPenaltyAddHistory(c,x),u||(e+=this.finderPenaltyCountPatterns(x)*y.PENALTY_N3),u=this.modules[p][i],c=1);e+=this.finderPenaltyTerminateAndCount(u,c,x)*y.PENALTY_N3}for(let i=0;i<this.size-1;i++)for(let u=0;u<this.size-1;u++){const c=this.modules[i][u];c==this.modules[i][u+1]&&c==this.modules[i+1][u]&&c==this.modules[i+1][u+1]&&(e+=y.PENALTY_N2)}let r=0;for(const i of this.modules)r=i.reduce((u,c)=>u+(c?1:0),r);const t=this.size*this.size,o=Math.ceil(Math.abs(r*20-t*10)/t)-1;return g(0<=o&&o<=9),e+=o*y.PENALTY_N4,g(0<=e&&e<=2568888),e}getAlignmentPatternPositions(){if(this.version==1)return[];{const e=Math.floor(this.version/7)+2,r=this.version==32?26:Math.ceil((this.version*4+4)/(e*2-2))*2;let t=[6];for(let o=this.size-7;t.length<e;o-=r)t.splice(1,0,o);return t}}static getNumRawDataModules(e){if(e<y.MIN_VERSION||e>y.MAX_VERSION)throw new RangeError("Version number out of range");let r=(16*e+128)*e+64;if(e>=2){const t=Math.floor(e/7)+2;r-=(25*t-10)*t-55,e>=7&&(r-=36)}return g(208<=r&&r<=29648),r}static getNumDataCodewords(e,r){return Math.floor(y.getNumRawDataModules(e)/8)-y.ECC_CODEWORDS_PER_BLOCK[r.ordinal][e]*y.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw new RangeError("Degree out of range");let r=[];for(let o=0;o<e-1;o++)r.push(0);r.push(1);let t=1;for(let o=0;o<e;o++){for(let i=0;i<r.length;i++)r[i]=y.reedSolomonMultiply(r[i],t),i+1<r.length&&(r[i]^=r[i+1]);t=y.reedSolomonMultiply(t,2)}return r}static reedSolomonComputeRemainder(e,r){let t=r.map(o=>0);for(const o of e){const i=o^t.shift();t.push(0),r.forEach((u,c)=>t[c]^=y.reedSolomonMultiply(u,i))}return t}static reedSolomonMultiply(e,r){if(e>>>8||r>>>8)throw new RangeError("Byte out of range");let t=0;for(let o=7;o>=0;o--)t=t<<1^(t>>>7)*285,t^=(r>>>o&1)*e;return g(t>>>8==0),t}finderPenaltyCountPatterns(e){const r=e[1];g(r<=this.size*3);const t=r>0&&e[2]==r&&e[3]==r*3&&e[4]==r&&e[5]==r;return(t&&e[0]>=r*4&&e[6]>=r?1:0)+(t&&e[6]>=r*4&&e[0]>=r?1:0)}finderPenaltyTerminateAndCount(e,r,t){return e&&(this.finderPenaltyAddHistory(r,t),r=0),r+=this.size,this.finderPenaltyAddHistory(r,t),this.finderPenaltyCountPatterns(t)}finderPenaltyAddHistory(e,r){r[0]==0&&(e+=this.size),r.pop(),r.unshift(e)}};a.MIN_VERSION=1,a.MAX_VERSION=40,a.PENALTY_N1=3,a.PENALTY_N2=3,a.PENALTY_N3=40,a.PENALTY_N4=10,a.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],a.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],l.QrCode=a;function s(v,e,r){if(e<0||e>31||v>>>e)throw new RangeError("Value out of range");for(let t=e-1;t>=0;t--)r.push(v>>>t&1)}function d(v,e){return(v>>>e&1)!=0}function g(v){if(!v)throw new Error("Assertion error")}const f=class w{constructor(e,r,t){if(this.mode=e,this.numChars=r,this.bitData=t,r<0)throw new RangeError("Invalid argument");this.bitData=t.slice()}static makeBytes(e){let r=[];for(const t of e)s(t,8,r);return new w(w.Mode.BYTE,e.length,r)}static makeNumeric(e){if(!w.isNumeric(e))throw new RangeError("String contains non-numeric characters");let r=[];for(let t=0;t<e.length;){const o=Math.min(e.length-t,3);s(parseInt(e.substring(t,t+o),10),o*3+1,r),t+=o}return new w(w.Mode.NUMERIC,e.length,r)}static makeAlphanumeric(e){if(!w.isAlphanumeric(e))throw new RangeError("String contains unencodable characters in alphanumeric mode");let r=[],t;for(t=0;t+2<=e.length;t+=2){let o=w.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t))*45;o+=w.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t+1)),s(o,11,r)}return t<e.length&&s(w.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t)),6,r),new w(w.Mode.ALPHANUMERIC,e.length,r)}static makeSegments(e){return e==""?[]:w.isNumeric(e)?[w.makeNumeric(e)]:w.isAlphanumeric(e)?[w.makeAlphanumeric(e)]:[w.makeBytes(w.toUtf8ByteArray(e))]}static makeEci(e){let r=[];if(e<0)throw new RangeError("ECI assignment value out of range");if(e<128)s(e,8,r);else if(e<16384)s(2,2,r),s(e,14,r);else if(e<1e6)s(6,3,r),s(e,21,r);else throw new RangeError("ECI assignment value out of range");return new w(w.Mode.ECI,0,r)}static isNumeric(e){return w.NUMERIC_REGEX.test(e)}static isAlphanumeric(e){return w.ALPHANUMERIC_REGEX.test(e)}getData(){return this.bitData.slice()}static getTotalBits(e,r){let t=0;for(const o of e){const i=o.mode.numCharCountBits(r);if(o.numChars>=1<<i)return 1/0;t+=4+i+o.bitData.length}return t}static toUtf8ByteArray(e){e=encodeURI(e);let r=[];for(let t=0;t<e.length;t++)e.charAt(t)!="%"?r.push(e.charCodeAt(t)):(r.push(parseInt(e.substring(t+1,t+3),16)),t+=2);return r}};f.NUMERIC_REGEX=/^[0-9]*$/,f.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,f.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let C=f;l.QrSegment=f})(D||(D={}));(l=>{(a=>{const s=class{constructor(g,f){this.ordinal=g,this.formatBits=f}};s.LOW=new s(0,1),s.MEDIUM=new s(1,0),s.QUARTILE=new s(2,3),s.HIGH=new s(3,2),a.Ecc=s})(l.QrCode||(l.QrCode={}))})(D||(D={}));(l=>{(a=>{const s=class{constructor(g,f){this.modeBits=g,this.numBitsCharCount=f}numCharCountBits(g){return this.numBitsCharCount[Math.floor((g+7)/17)]}};s.NUMERIC=new s(1,[10,12,14]),s.ALPHANUMERIC=new s(2,[9,11,13]),s.BYTE=new s(4,[8,16,16]),s.KANJI=new s(8,[8,10,12]),s.ECI=new s(7,[0,0,0]),a.Mode=s})(l.QrSegment||(l.QrSegment={}))})(D||(D={}));var L=D;var je={L:L.QrCode.Ecc.LOW,M:L.QrCode.Ecc.MEDIUM,Q:L.QrCode.Ecc.QUARTILE,H:L.QrCode.Ecc.HIGH},ne=128,se="L",ae="#FFFFFF",le="#000000",ce=!1,de=1,Pe=4,Ae=0,ke=.1;function ue(l,a=0){const s=[];return l.forEach(function(d,g){let f=null;d.forEach(function(C,v){if(!C&&f!==null){s.push(`M${f+a} ${g+a}h${v-f}v1H${f+a}z`),f=null;return}if(v===d.length-1){if(!C)return;f===null?s.push(`M${v+a},${g+a} h1v1H${v+a}z`):s.push(`M${f+a},${g+a} h${v+1-f}v1H${f+a}z`);return}C&&f===null&&(f=v)})}),s.join("")}function he(l,a){return l.slice().map((s,d)=>d<a.y||d>=a.y+a.h?s:s.map((g,f)=>f<a.x||f>=a.x+a.w?g:!1))}function Ie(l,a,s,d){if(d==null)return null;const g=l.length+s*2,f=Math.floor(a*ke),C=g/a,v=(d.width||f)*C,e=(d.height||f)*C,r=d.x==null?l.length/2-v/2:d.x*C,t=d.y==null?l.length/2-e/2:d.y*C,o=d.opacity==null?1:d.opacity;let i=null;if(d.excavate){let c=Math.floor(r),x=Math.floor(t),p=Math.ceil(v+r-c),M=Math.ceil(e+t-x);i={x:c,y:x,w:p,h:M}}const u=d.crossOrigin;return{x:r,y:t,h:e,w:v,excavation:i,opacity:o,crossOrigin:u}}function Ne(l,a){return a!=null?Math.max(Math.floor(a),0):l?Pe:Ae}function fe({value:l,level:a,minVersion:s,includeMargin:d,marginSize:g,imageSettings:f,size:C,boostLevel:v}){let e=R.useMemo(()=>{const c=(Array.isArray(l)?l:[l]).reduce((x,p)=>(x.push(...L.QrSegment.makeSegments(p)),x),[]);return L.QrCode.encodeSegments(c,je[a],s,void 0,void 0,v)},[l,a,s,v]);const{cells:r,margin:t,numCells:o,calculatedImageSettings:i}=R.useMemo(()=>{let u=e.getModules();const c=Ne(d,g),x=u.length+c*2,p=Ie(u,C,c,f);return{cells:u,margin:c,numCells:x,calculatedImageSettings:p}},[e,C,f,d,g]);return{qrcode:e,margin:t,cells:r,numCells:o,calculatedImageSettings:i}}var Te=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),De=R.forwardRef(function(a,s){const d=a,{value:g,size:f=ne,level:C=se,bgColor:v=ae,fgColor:e=le,includeMargin:r=ce,minVersion:t=de,boostLevel:o,marginSize:i,imageSettings:u}=d,x=X(d,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:p}=x,M=X(x,["style"]),E=u?.src,m=R.useRef(null),b=R.useRef(null),j=R.useCallback(I=>{m.current=I,typeof s=="function"?s(I):s&&(s.current=I)},[s]),[T,U]=R.useState(!1),{margin:N,cells:O,numCells:z,calculatedImageSettings:P}=fe({value:g,level:C,minVersion:t,boostLevel:o,includeMargin:r,marginSize:i,imageSettings:u,size:f});R.useEffect(()=>{if(m.current!=null){const I=m.current,A=I.getContext("2d");if(!A)return;let Q=O;const h=b.current,S=P!=null&&h!==null&&h.complete&&h.naturalHeight!==0&&h.naturalWidth!==0;S&&P.excavation!=null&&(Q=he(O,P.excavation));const B=window.devicePixelRatio||1;I.height=I.width=f*B;const V=f/z*B;A.scale(V,V),A.fillStyle=v,A.fillRect(0,0,z,z),A.fillStyle=e,Te?A.fill(new Path2D(ue(Q,N))):O.forEach(function(ge,xe){ge.forEach(function(me,ye){me&&A.fillRect(ye+N,xe+N,1,1)})}),P&&(A.globalAlpha=P.opacity),S&&A.drawImage(h,P.x+N,P.y+N,P.w,P.h)}}),R.useEffect(()=>{U(!1)},[E]);const G=Y({height:f,width:f},p);let _=null;return E!=null&&(_=R.createElement("img",{src:E,key:E,style:{display:"none"},onLoad:()=>{U(!0)},ref:b,crossOrigin:P?.crossOrigin})),R.createElement(R.Fragment,null,R.createElement("canvas",Y({style:G,height:f,width:f,ref:j,role:"img"},M)),_)});De.displayName="QRCodeCanvas";var pe=R.forwardRef(function(a,s){const d=a,{value:g,size:f=ne,level:C=se,bgColor:v=ae,fgColor:e=le,includeMargin:r=ce,minVersion:t=de,boostLevel:o,title:i,marginSize:u,imageSettings:c}=d,x=X(d,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:p,cells:M,numCells:E,calculatedImageSettings:m}=fe({value:g,level:C,minVersion:t,boostLevel:o,includeMargin:r,marginSize:u,imageSettings:c,size:f});let b=M,j=null;c!=null&&m!=null&&(m.excavation!=null&&(b=he(M,m.excavation)),j=R.createElement("image",{href:c.src,height:m.h,width:m.w,x:m.x+p,y:m.y+p,preserveAspectRatio:"none",opacity:m.opacity,crossOrigin:m.crossOrigin}));const T=ue(b,p);return R.createElement("svg",Y({height:f,width:f,viewBox:`0 0 ${E} ${E}`,ref:s,role:"img"},x),!!i&&R.createElement("title",null,i),R.createElement("path",{fill:v,d:`M0,0 h${E}v${E}H0z`,shapeRendering:"crispEdges"}),R.createElement("path",{fill:e,d:T,shapeRendering:"crispEdges"}),j)});pe.displayName="QRCodeSVG";const Oe=({lang:l,onClose:a})=>{const s=l==="fi"?"fi-FI":l==="ru"?"ru-RU":"en-US";return n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"var(--bg-color)",zIndex:1e3,padding:"20px",overflowY:"auto",color:"var(--text-main)"},children:n.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto"},children:[n.jsx("button",{onClick:a,style:{padding:"10px 20px",borderRadius:"12px",border:"none",background:"var(--card-bg)",color:"var(--text-main)",marginBottom:"20px",cursor:"pointer"},children:l==="fi"?"â† Takaisin":l==="ru"?"â† ÐÐ°Ð·Ð°Ð´":"â† Back"}),n.jsxs("p",{style:{opacity:.6,fontSize:"12px"},children:[l==="fi"?"PÃ¤ivitetty":l==="ru"?"ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¾":"Updated",": ",new Date().toLocaleDateString(s)]}),l==="fi"&&n.jsxs("section",{children:[n.jsx("h1",{children:"Tietosuojaseloste (GDPR)"}),n.jsx("h3",{children:"1. MitÃ¤ tietoja kerÃ¤Ã¤mme?"}),n.jsx("p",{children:"KerÃ¤Ã¤mme vain vÃ¤lttÃ¤mÃ¤ttÃ¶mÃ¤t tiedot: SÃ¤hkÃ¶postiosoite, nimi ja pistehistoria."}),n.jsx("h3",{children:"2. Mihin kÃ¤ytÃ¤mme tietoja?"}),n.jsx("p",{children:"Tietoja kÃ¤ytetÃ¤Ã¤n vain sovelluksen sisÃ¤llÃ¤ lapsen edistymisen seurantaan. Emme luovuta tietoja eteenpÃ¤in."}),n.jsx("h3",{children:"3. Tietojen sÃ¤ilytys"}),n.jsx("p",{children:"Tiedot tallennetaan turvallisesti Google Firebase -palveluun."}),n.jsx("h3",{children:"4. Sinun oikeutesi"}),n.jsx("p",{children:"Sinulla on oikeus korjata tai poistaa tietosi milloin tahansa."})]}),l==="ru"&&n.jsxs("section",{children:[n.jsx("h1",{children:"ÐŸÐ¾Ð»Ð¸Ñ‚Ð¸ÐºÐ° ÐºÐ¾Ð½Ñ„Ð¸Ð´ÐµÐ½Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾ÑÑ‚Ð¸ (GDPR)"}),n.jsx("h3",{children:"1. ÐšÐ°ÐºÐ¸Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¼Ñ‹ ÑÐ¾Ð±Ð¸Ñ€Ð°ÐµÐ¼?"}),n.jsx("p",{children:"ÐœÑ‹ ÑÐ¾Ð±Ð¸Ñ€Ð°ÐµÐ¼ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Email, Ð¸Ð¼Ñ Ð¸ Ð¸ÑÑ‚Ð¾Ñ€Ð¸ÑŽ Ð±Ð°Ð»Ð»Ð¾Ð²."}),n.jsx("h3",{children:"2. ÐšÐ°Ðº Ð¼Ñ‹ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ Ð´Ð°Ð½Ð½Ñ‹Ðµ?"}),n.jsx("p",{children:"Ð”Ð°Ð½Ð½Ñ‹Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ÑÑ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð´Ð»Ñ Ð¾Ñ‚ÑÐ»ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ñ Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑÐ° Ð²Ð½ÑƒÑ‚Ñ€Ð¸ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ. ÐœÑ‹ Ð½Ðµ Ð¿ÐµÑ€ÐµÐ´Ð°ÐµÐ¼ Ð¸Ñ… Ñ‚Ñ€ÐµÑ‚ÑŒÐ¸Ð¼ Ð»Ð¸Ñ†Ð°Ð¼."}),n.jsx("h3",{children:"3. Ð“Ð´Ðµ Ñ…Ñ€Ð°Ð½ÑÑ‚ÑÑ Ð´Ð°Ð½Ð½Ñ‹Ðµ?"}),n.jsx("p",{children:"Ð”Ð°Ð½Ð½Ñ‹Ðµ Ð½Ð°Ð´ÐµÐ¶Ð½Ð¾ Ñ…Ñ€Ð°Ð½ÑÑ‚ÑÑ Ð² Google Firebase."}),n.jsx("h3",{children:"4. Ð’Ð°ÑˆÐ¸ Ð¿Ñ€Ð°Ð²Ð°"}),n.jsx("p",{children:"Ð’Ñ‹ Ð¸Ð¼ÐµÐµÑ‚Ðµ Ð¿Ñ€Ð°Ð²Ð¾ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð¸Ð»Ð¸ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð² Ð»ÑŽÐ±Ð¾Ð¹ Ð¼Ð¾Ð¼ÐµÐ½Ñ‚."})]}),l==="en"&&n.jsxs("section",{children:[n.jsx("h1",{children:"Privacy Policy (GDPR)"}),n.jsx("h3",{children:"1. What data do we collect?"}),n.jsx("p",{children:"We collect only essential data: Email, name, and points history."}),n.jsx("h3",{children:"2. How do we use the data?"}),n.jsx("p",{children:"The data is used solely for tracking progress within the app. We do not share it with third parties."}),n.jsx("h3",{children:"3. Data Storage"}),n.jsx("p",{children:"Data is securely stored in Google Firebase."}),n.jsx("h3",{children:"4. Your Rights"}),n.jsx("p",{children:"You have the right to access, correct, or delete your data at any time."})]}),n.jsxs("div",{style:{marginTop:"40px",padding:"20px",background:"var(--card-bg)",borderRadius:"16px",fontSize:"14px",opacity:.8},children:[l==="fi"&&"Yhteystiedot: Ota yhteyttÃ¤ yllÃ¤pitÃ¤jÃ¤Ã¤n, jos sinulla on kysyttÃ¤vÃ¤Ã¤.",l==="ru"&&"ÐšÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñ‹: ÐŸÐ¾ Ð²Ð¾Ð¿Ñ€Ð¾ÑÐ°Ð¼ Ð´Ð°Ð½Ð½Ñ‹Ñ… ÑÐ²ÑÐ¶Ð¸Ñ‚ÐµÑÑŒ Ñ Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€Ð¾Ð¼.",l==="en"&&"Contact: Contact the administrator if you have any questions."]})]})})},Le=({t:l,lang:a,onClose:s})=>{const d=[{icon:"ðŸ“",title:l.howItWorks.step1.t,desc:l.howItWorks.step1.d},{icon:"ðŸ“±",title:l.howItWorks.step2.t,desc:l.howItWorks.step2.d},{icon:"ðŸ’Ž",title:a==="fi"?"XP ja Tasot":"XP Ð¸ Ð£Ñ€Ð¾Ð²Ð½Ð¸",desc:a==="fi"?"XP on kokemuksesi. Se kasvaa aina eikÃ¤ koskaan hÃ¤viÃ¤! KerÃ¤Ã¤ XP:tÃ¤ nostaaksesi tasoa.":"XP â€” ÑÑ‚Ð¾ Ñ‚Ð²Ð¾Ð¹ Ð¾Ð¿Ñ‹Ñ‚. ÐžÐ½ Ñ€Ð°ÑÑ‚ÐµÑ‚ Ð²ÑÐµÐ³Ð´Ð° Ð¸ Ð½Ðµ Ð¸ÑÑ‡ÐµÐ·Ð°ÐµÑ‚! ÐšÐ¾Ð¿Ð¸ XP, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ð¾Ð²Ñ‹ÑˆÐ°Ñ‚ÑŒ ÑƒÑ€Ð¾Ð²ÐµÐ½ÑŒ."},{icon:"ðŸŽ",title:a==="fi"?"Kauppa ja Kolikot":"ÐœÐ°Ð³Ð°Ð·Ð¸Ð½ Ð¸ ÐœÐ¾Ð½ÐµÑ‚Ñ‹",desc:a==="fi"?"KÃ¤ytÃ¤ ðŸ’° ostaaksesi palkintoja kaupasta. Kun ostat jotain, kolikot vÃ¤henevÃ¤t, mutta XP pysyy!":"Ð¢Ñ€Ð°Ñ‚ÑŒ ðŸ’° Ð½Ð° Ð¿Ñ€Ð¸Ð·Ñ‹ Ð² Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ðµ. ÐŸÑ€Ð¸ Ð¿Ð¾ÐºÑƒÐ¿ÐºÐµ Ð¼Ð¾Ð½ÐµÑ‚Ñ‹ ÑÐ¿Ð¸ÑˆÑƒÑ‚ÑÑ, Ð½Ð¾ Ñ‚Ð²Ð¾Ð¹ Ð¾Ð¿Ñ‹Ñ‚ (XP) Ð¾ÑÑ‚Ð°Ð½ÐµÑ‚ÑÑ!"}];return n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"var(--bg-color)",zIndex:1100,padding:"20px",overflowY:"auto",color:"var(--text-main)"},children:n.jsxs("div",{style:{maxWidth:"500px",margin:"0 auto"},children:[n.jsx("button",{onClick:s,style:{padding:"10px 20px",borderRadius:"12px",border:"none",background:"var(--card-bg)",color:"var(--text-main)",cursor:"pointer",fontSize:"18px"},children:"âœ•"}),n.jsx("h2",{style:{textAlign:"center",margin:"30px 0",color:"var(--accent-blue)"},children:l.howItWorks.title}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:d.map((g,f)=>n.jsxs("div",{style:{display:"flex",gap:"15px",padding:"20px",background:"var(--card-bg)",borderRadius:"20px",alignItems:"center",border:"1px solid var(--border-color)",boxShadow:"0 4px 15px rgba(0,0,0,0.1)"},children:[n.jsx("span",{style:{fontSize:"40px"},children:g.icon}),n.jsxs("div",{children:[n.jsx("strong",{style:{display:"block",fontSize:"17px",marginBottom:"4px",color:"white"},children:g.title}),n.jsx("span",{style:{fontSize:"14px",opacity:.8,lineHeight:"1.4"},children:g.desc})]})]},f))}),n.jsx("button",{onClick:s,style:{width:"100%",marginTop:"30px",padding:"18px",background:"var(--accent-green)",color:"white",border:"none",borderRadius:"20px",fontWeight:"bold",cursor:"pointer",fontSize:"18px",boxShadow:"0 4px 15px rgba(0,0,0,0.2)"},children:a==="fi"?"SELVÃ„! ðŸš€":a==="ru"?"ÐŸÐžÐ•Ð¥ÐÐ›Ð˜! ðŸš€":"LET'S GO! ðŸš€"})]})})},J=["ðŸ‘¶","ðŸ§’","ðŸ‘¦","ðŸ‘§","ðŸ¦","ðŸ¦Š","ðŸ¦„","ðŸ¤–","ðŸ§”","ðŸ‘©","ðŸ‘¨","ðŸ‘µ","ðŸ‘´","ðŸ±","ðŸ¶","ðŸ¯","ðŸ¼"],Qe=({familyId:l,t:a,profile:s,lang:d,handleLogout:g})=>{const[f,C]=k.useState([]),[v,e]=k.useState(""),[r,t]=k.useState("child"),[o,i]=k.useState("ðŸ‘¶"),[u,c]=k.useState(null),[x,p]=k.useState(""),[M,E]=k.useState(""),[m,b]=k.useState(!1),[j,T]=k.useState(!1),[U,N]=k.useState(!1),O=`${window.location.origin}${window.location.pathname}?join=${l}`;k.useEffect(()=>{const h=ve(we(F,"users"),be("familyId","==",l));return Ee(h,S=>{C(S.docs.map(B=>({id:B.id,...B.data()})))})},[l]);const z=({src:h,size:S=40})=>n.jsx("div",{style:{width:`${S}px`,height:`${S}px`,borderRadius:"50%",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",background:"var(--bg-color)",border:"1px solid var(--border-color)",fontSize:`${S*.6}px`,flexShrink:0},children:h?.startsWith("http")?n.jsx("img",{src:h,alt:"avatar",style:{width:"100%",height:"100%",objectFit:"cover"}}):h||"ðŸ‘¤"}),P=()=>{navigator.clipboard.writeText(l),b(!0),setTimeout(()=>b(!1),2e3)},G=async()=>{if(window.confirm(a.familySettings.deleteConfirm))try{await K($(F,"users",s.uid)),await Re.currentUser?.delete(),g()}catch(h){console.error("Delete account error:",h),g()}},_=async()=>{if(!v.trim())return;const h=`${r}_${Date.now()}`;try{await Se($(F,"users",h),{name:v.trim(),role:r,avatar:o,familyId:l,totalPoints:0,currentBalance:0}),e(""),i("ðŸ‘¶")}catch(S){console.error(S)}},I=h=>{c(h.id),p(h.name),E(h.avatar)},A=async h=>{try{await Ce($(F,"users",h),{name:x,avatar:M}),c(null)}catch(S){console.error(S)}},Q=async h=>{h!==s.uid&&window.confirm(a.familySettings.deleteConfirm)&&await K($(F,"users",h))};return n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px",marginTop:"20px"},children:[n.jsxs("div",{style:{padding:"24px",background:"var(--card-bg)",borderRadius:"24px",textAlign:"center",border:"1px solid var(--border-color)"},children:[n.jsxs("h3",{style:{marginBottom:"15px"},children:["ðŸ“¢ ",a.familySettings.inviteTitle]}),n.jsx("div",{style:{background:"white",padding:"12px",display:"inline-block",borderRadius:"16px",marginBottom:"15px"},children:n.jsx(pe,{value:O,size:150})}),n.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"center"},children:[n.jsx("button",{onClick:P,style:q,children:m?"âœ…":`ðŸ“‹ ${l}`}),n.jsxs("button",{onClick:()=>navigator.share?.({title:"Kids Tracker",url:O}),style:{...q,background:"var(--accent-green)"},children:["ðŸ”— ",a.familySettings.shareLink]})]})]}),n.jsxs("div",{style:{padding:"20px",background:"var(--card-bg)",borderRadius:"24px",border:"1px solid var(--border-color)"},children:[n.jsxs("h3",{style:{marginBottom:"20px"},children:["ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦ ",a.familySettings.title]}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px",marginBottom:"20px"},children:f.map(h=>n.jsxs("div",{style:{...te,border:u===h.id?"1px solid var(--accent-blue)":te.border},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",flex:1},children:[n.jsx(z,{src:u===h.id?M:h.avatar}),u===h.id?n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"5px",flex:1},children:[n.jsx("input",{value:x,onChange:S=>p(S.target.value),style:{background:"var(--bg-color)",border:"1px solid #444",borderRadius:"8px",padding:"4px 8px",color:"white"}}),n.jsx("div",{style:{display:"flex",gap:"5px",overflowX:"auto",padding:"5px 0"},children:J.slice(0,10).map(S=>n.jsx("span",{onClick:()=>E(S),style:{cursor:"pointer",fontSize:"18px",opacity:M===S?1:.4},children:S},S))})]}):n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:"bold",fontSize:"15px",color:"white"},children:h.name}),n.jsx("div",{style:{fontSize:"12px",opacity:.6},children:h.role==="child"?`ðŸ’° ${h.totalPoints||0}`:a.familySettings.adminStatus})]})]}),n.jsxs("div",{style:{display:"flex",gap:"5px"},children:[u===h.id?n.jsx("button",{onClick:()=>A(h.id),style:{...W,color:"var(--accent-green)"},children:"âœ…"}):n.jsx("button",{onClick:()=>I(h),style:W,children:"âœï¸"}),n.jsx("button",{onClick:()=>Q(h.id),style:{...W,color:"#ff4d4d",opacity:h.id===s.uid?.2:1},disabled:h.id===s.uid,children:"ðŸ—‘ï¸"})]})]},h.id))}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px",padding:"20px 0",borderTop:"1px solid var(--border-color)"},children:[n.jsx("input",{value:v,onChange:h=>e(h.target.value),placeholder:a.familySettings.namePlaceholder,style:ee}),n.jsx("div",{style:{display:"flex",gap:"8px",overflowX:"auto",padding:"5px"},children:J.map(h=>n.jsx("button",{onClick:()=>i(h),style:{fontSize:"22px",background:o===h?"var(--accent-blue)":"transparent",border:"1px solid #444",borderRadius:"12px",padding:"6px",cursor:"pointer"},children:h},h))}),n.jsxs("div",{style:{display:"flex",gap:"10px"},children:[n.jsxs("select",{value:r,onChange:h=>t(h.target.value),style:{...ee,flex:1},children:[n.jsx("option",{value:"child",children:a.profile.child}),n.jsx("option",{value:"parent",children:a.profile.parent})]}),n.jsx("button",{onClick:_,style:{...ze,flex:1},children:a.familySettings.addManual})]})]}),n.jsxs("div",{style:{marginTop:"30px",paddingTop:"20px",borderTop:"1px dashed var(--border-color)",textAlign:"center"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"20px",marginBottom:"15px"},children:[n.jsx("button",{onClick:()=>T(!0),style:re,children:"Privacy Policy"}),n.jsxs("button",{onClick:()=>N(!0),style:re,children:["â“ ",d==="fi"?"Ohjeet":d==="ru"?"Ð˜Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ñ":"Help"]})]}),n.jsx("button",{onClick:G,style:Be,children:d==="fi"?"Poista tilini":"Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð¼Ð¾Ð¹ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚"})]})]}),j&&n.jsx(Oe,{lang:d,onClose:()=>T(!1)}),U&&n.jsx(Le,{t:a,lang:d,onClose:()=>N(!1)})]})},q={padding:"10px 18px",borderRadius:"15px",border:"none",background:"var(--accent-blue)",color:"white",fontWeight:"bold",cursor:"pointer"},ee={padding:"12px",borderRadius:"12px",border:"1px solid var(--border-color)",background:"var(--bg-color)",color:"white"},ze={background:"var(--accent-green)",color:"white",border:"none",borderRadius:"12px",fontWeight:"bold",cursor:"pointer"},te={display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 16px",background:"rgba(255,255,255,0.03)",borderRadius:"20px",border:"1px solid rgba(255,255,255,0.05)"},W={background:"none",border:"none",cursor:"pointer",fontSize:"18px",padding:"5px"},re={background:"none",border:"none",color:"var(--text-secondary)",fontSize:"12px",cursor:"pointer",textDecoration:"underline"},Be={background:"none",border:"1px solid #ff4d4d",color:"#ff4d4d",padding:"8px 15px",borderRadius:"10px",fontSize:"12px",cursor:"pointer"};export{Qe as FamilySettings};

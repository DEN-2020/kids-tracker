import{j as e,r as l,F as E,t as g,v as N,w as d,x as b,y as C,z as S,A as I}from"./index-Cd8Z4FKj.js";import{s as r}from"./Auth.module-BTKz4srt.js";const P=()=>e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 48 48",style:{display:"block"},children:[e.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),e.jsx("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),e.jsx("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),e.jsx("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"}),e.jsx("path",{fill:"none",d:"M0 0h48v48H0z"})]}),B=({onLoginError:p,lang:a="en"})=>{const[h,x]=l.useState(""),[o,v]=l.useState(""),[n,j]=l.useState(!1),[f,i]=l.useState(null),[m,c]=l.useState(!1),w=g[a]||g.en,u=l.useCallback(t=>{if(t instanceof E){const s=t.code;if(a==="fi"){if(s==="auth/email-already-in-use")return"S√§hk√∂posti on jo k√§yt√∂ss√§";if(s==="auth/invalid-credential")return"V√§√§r√§ s√§hk√∂posti tai salasana";if(s==="auth/weak-password")return"Salasanan on oltava v√§hint√§√§n 6 merkki√§"}if(a==="ru"){if(s==="auth/email-already-in-use")return"–≠—Ç–∞ –ø–æ—á—Ç–∞ —É–∂–µ –∑–∞–Ω—è—Ç–∞";if(s==="auth/invalid-credential")return"–ù–µ–≤–µ—Ä–Ω–∞—è –ø–æ—á—Ç–∞ –∏–ª–∏ –ø–∞—Ä–æ–ª—å";if(s==="auth/weak-password")return"–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç 6 —Å–∏–º–≤–æ–ª–æ–≤";if(s==="auth/invalid-email")return"–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π Email"}return s==="auth/email-already-in-use"?"Email already registered":s==="auth/invalid-credential"?"Invalid email or password":s==="auth/weak-password"?"Password must be 6+ chars":t.message}return a==="ru"?"–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞":"An error occurred"},[a]),y=async()=>{i(null),c(!0);try{await S(d,I)}catch(t){i(u(t)),p?.(t),c(!1)}},k=async t=>{if(t.preventDefault(),i(null),o.length<6){i(a==="ru"?"–ü–∞—Ä–æ–ª—å —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π (–º–∏–Ω. 6)":"Password too short (min 6)");return}c(!0);try{n?await b(d,h,o):await C(d,h,o)}catch(s){i(u(s)),p?.(s)}finally{c(!1)}};return l.useEffect(()=>{(async()=>{try{const s=await N(d)}catch(s){i(u(s))}})()},[u]),e.jsxs("div",{className:r.authPage,children:[e.jsx("h1",{className:r.mainTitle,children:"Kids Tracker üöÄ"}),e.jsxs("form",{onSubmit:k,className:r.glassForm,children:[e.jsx("h3",{className:r.formTitle,children:n?w.auth.welcome:a==="ru"?"–í—Ö–æ–¥":"Login"}),f&&e.jsx("div",{className:r.errorBox,children:f}),e.jsx("div",{className:r.inputWrapper,children:e.jsx("input",{id:"auth-email",name:"email",type:"email",className:r.glassInput,placeholder:"Email",value:h,onChange:t=>x(t.target.value),required:!0,autoComplete:"email"})}),e.jsx("div",{className:r.inputWrapper,children:e.jsx("input",{id:"auth-password",name:"password",type:"password",className:r.glassInput,placeholder:a==="ru"?"–ü–∞—Ä–æ–ª—å":"Password",value:o,onChange:t=>v(t.target.value),required:!0,autoComplete:n?"new-password":"current-password"})}),e.jsx("button",{type:"submit",disabled:m,className:r.submitBtn,children:m?"...":n?w.auth.startAdventure:a==="ru"?"–í–æ–π—Ç–∏":"Sign In"}),e.jsx("button",{type:"button",onClick:()=>{j(!n),i(null)},className:r.switchBtn,children:n?a==="ru"?"–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? –í–æ–π—Ç–∏":"Have an account? Login":a==="ru"?"–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è":"No account? Register"})]}),e.jsx("div",{className:r.divider,children:a==="ru"?"–∏–ª–∏":"or"}),e.jsxs("button",{onClick:y,disabled:m,className:r.googleBtn,children:[e.jsx(P,{}),a==="ru"?"–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google":"Sign in with Google"]})]})};export{B as LoginPage};
